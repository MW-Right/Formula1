var MM=Object.defineProperty,OM=Object.defineProperties,kM=Object.getOwnPropertyDescriptors,OS=Object.getOwnPropertySymbols,PM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,kS=(Ge,_e,N)=>_e in Ge?MM(Ge,_e,{enumerable:!0,configurable:!0,writable:!0,value:N}):Ge[_e]=N,ht=(Ge,_e)=>{for(var N in _e||(_e={}))PM.call(_e,N)&&kS(Ge,N,_e[N]);if(OS)for(var N of OS(_e))NM.call(_e,N)&&kS(Ge,N,_e[N]);return Ge},Es=(Ge,_e)=>OM(Ge,kM(_e));(self.webpackChunkF12022=self.webpackChunkF12022||[]).push([[179],{7905:(Ge,_e,N)=>{"use strict";N.d(_e,{hO:()=>Le,xv:()=>de,Dh:()=>le,GT:()=>pe,cc:()=>Ie,on:()=>H,pX:()=>se});var g=N(3668),J=N(7892),x=N(7233);Ge=N.hmd(Ge);const ae=["ngOnDestroy"],se=(Y,ue,De,ye={})=>new Proxy(Y,{get:($e,Me)=>De.runOutsideAngular(()=>{var He;if(Y[Me])return(null===(He=null==ye?void 0:ye.spy)||void 0===He?void 0:He.get)&&ye.spy.get(Me,Y[Me]),Y[Me];if(ae.indexOf(Me)>-1)return()=>{};const Ze=ue.toPromise().then(st=>{const re=st&&st[Me];return"function"==typeof re?re.bind(st):re&&re.then?re.then(he=>De.run(()=>he)):De.run(()=>re)});return new Proxy(()=>{},{get:(st,re)=>Ze[re],apply:(st,re,he)=>Ze.then(ve=>{var Ce;const Ne=ve&&ve(...he);return(null===(Ce=null==ye?void 0:ye.spy)||void 0===Ce?void 0:Ce.apply)&&ye.spy.apply(Me,he,Ne),Ne})})})}),pe=(Y,ue)=>{ue.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(ye=>{Object.defineProperty(Y.prototype,ye,Object.getOwnPropertyDescriptor(De.prototype||De,ye))})})};class oe{constructor(ue){return ue}}const le=new g.OlP("angularfire2.app.options"),de=new g.OlP("angularfire2.app.name");function H(Y,ue,De){const $e="object"==typeof De&&De||{};$e.name=$e.name||"string"==typeof De&&De||"[DEFAULT]";const He=J.Z.apps.filter(Ze=>Ze&&Ze.name===$e.name)[0]||ue.runOutsideAngular(()=>J.Z.initializeApp(Y,$e));try{JSON.stringify(Y)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new oe(He)}const $=(Y,...ue)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Y](...ue)},ee={provide:oe,useFactory:H,deps:[le,g.R0b,[new g.FiY,de]]};let Le=(()=>{class Y{constructor(De){J.Z.registerVersion("angularfire",x.q4.full,"core"),J.Z.registerVersion("angularfire",x.q4.full,"app-compat"),J.Z.registerVersion("angular",g.q4F.full,De.toString())}static initializeApp(De,ye){return{ngModule:Y,providers:[{provide:le,useValue:De},{provide:de,useValue:ye}]}}}return Y.\u0275fac=function(De){return new(De||Y)(g.LFG(g.Lbi))},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({providers:[ee]}),Y})();function Ie(Y,ue,De,ye,$e){const[,Me,He]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===Y)||[];if(Me)return function(Y,ue){try{return Y.toString()===ue.toString()}catch(De){return Y===ue}}($e,He)||(ce("error",`${ue} was already initialized on the ${De} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:$e,was:He})),Me;{const Ze=ye();return globalThis.\u0275AngularfireInstanceCache.push([Y,Ze,$e]),Ze}}const Fe=!!Ge.hot,ce=(Y,...ue)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Y](...ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ge,_e,N)=>{"use strict";N.d(_e,{q4:()=>Hd,iC:()=>pi,HU:()=>hc,vb:()=>fu,JM:()=>zd});var g=N(3668),J=N(7713),x=N(8239),ae=N(1572),se=N(4213),pe=N(1177),oe=N(3855),le=N(4995);const de="@firebase/installations",H="0.5.5",ee=`w:${H}`,Le="FIS_v2",ue=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function ye({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function $e(D){return{token:D.token,requestStatus:2,expiresIn:ve(D.expiresIn),creationTime:Date.now()}}function Me(D,I){return He.apply(this,arguments)}function He(){return(He=(0,x.Z)(function*(D,I){const U=(yield I.json()).error;return ue.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function st(D,{refreshToken:I}){const O=Ze(D);return O.append("Authorization",function(D){return`${Le} ${D}`}(I)),O}function re(D){return he.apply(this,arguments)}function he(){return(he=(0,x.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function ve(D){return Number(D.replace("s","000"))}function Ne(D,I){return fe.apply(this,arguments)}function fe(){return(fe=(0,x.Z)(function*(D,{fid:I}){const O=ye(D),X={method:"POST",headers:Ze(D),body:JSON.stringify({fid:I,authVersion:Le,appId:D.appId,sdkVersion:ee})},Re=yield re(()=>fetch(O,X));if(Re.ok){const We=yield Re.json();return{fid:We.fid||I,registrationStatus:2,refreshToken:We.refreshToken,authToken:$e(We.authToken)}}throw yield Me("Create Installation",Re)})).apply(this,arguments)}function Et(D){return new Promise(I=>{setTimeout(I,D)})}const Bn=/^[cdef][\w-]{21}$/;function bt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Bn.test(O)?O:""}catch(D){return""}}function Ht(D){return`${D.appName}!${D.appId}`}const Vn=new Map;function Ir(D,I){const O=Ht(D);vn(O,I),function(D,I){const O=(!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=D=>{vn(D.data.key,D.data.fid)}),$t);O&&O.postMessage({key:D,fid:I}),0===Vn.size&&$t&&($t.close(),$t=null)}(O,I)}function vn(D,I){const O=Vn.get(D);if(O)for(const U of O)U(I)}let $t=null;const Se="firebase-installations-store";let Pn=null;function Nn(){return Pn||(Pn=(0,le.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Se)})),Pn}function lt(D,I){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,x.Z)(function*(D,I){const O=Ht(D),q=(yield Nn()).transaction(Se,"readwrite"),X=q.objectStore(Se),Re=yield X.get(O);return yield X.put(I,O),yield q.complete,(!Re||Re.fid!==I.fid)&&Ir(D,I.fid),I})).apply(this,arguments)}function Hr(D){return ir.apply(this,arguments)}function ir(){return(ir=(0,x.Z)(function*(D){const I=Ht(D),U=(yield Nn()).transaction(Se,"readwrite");yield U.objectStore(Se).delete(I),yield U.complete})).apply(this,arguments)}function xn(D,I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,x.Z)(function*(D,I){const O=Ht(D),q=(yield Nn()).transaction(Se,"readwrite"),X=q.objectStore(Se),Re=yield X.get(O),We=I(Re);return void 0===We?yield X.delete(O):yield X.put(We,O),yield q.complete,We&&(!Re||Re.fid!==We.fid)&&Ir(D,We.fid),We})).apply(this,arguments)}function En(D){return an.apply(this,arguments)}function an(){return(an=(0,x.Z)(function*(D){let I;const O=yield xn(D,U=>{const q=qs(U),X=Xt(D,q);return I=X.registrationPromise,X.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function qs(D){return ft(D||{fid:bt(),registrationStatus:0})}function Xt(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ue.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function(D,I){return ct.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ds(D)}:{installationEntry:I}}function ct(){return(ct=(0,x.Z)(function*(D,I){try{return lt(D,yield Ne(D,I))}catch(O){throw De(O)&&409===O.customData.serverCode?yield Hr(D):yield lt(D,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Ds(D){return ai.apply(this,arguments)}function ai(){return(ai=(0,x.Z)(function*(D){let I=yield Nt(D);for(;1===I.registrationStatus;)yield Et(100),I=yield Nt(D);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield En(D);return U||O}return I})).apply(this,arguments)}function Nt(D){return xn(D,I=>{if(!I)throw ue.create("installation-not-found");return ft(I)})}function ft(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Mo(D,I){return W.apply(this,arguments)}function W(){return(W=(0,x.Z)(function*({appConfig:D,platformLoggerProvider:I},O){const U=V(D,O),q=st(D,O),X=I.getImmediate({optional:!0});X&&q.append("x-firebase-client",X.getPlatformInfoString());const We={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:ee}})},ze=yield re(()=>fetch(U,We));if(ze.ok)return $e(yield ze.json());throw yield Me("Generate Auth Token",ze)})).apply(this,arguments)}function V(D,{fid:I}){return`${ye(D)}/${I}/authTokens:generate`}function G(D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,x.Z)(function*(D,I=!1){let O;const U=yield xn(D.appConfig,X=>{if(!Xe(X))throw ue.create("not-registered");const Re=X.authToken;if(!I&&Dt(Re))return X;if(1===Re.requestStatus)return O=te(D,I),X;{if(!navigator.onLine)throw ue.create("app-offline");const We=Qt(X);return O=ge(D,We),We}});return O?yield O:U.authToken})).apply(this,arguments)}function te(D,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,x.Z)(function*(D,I){let O=yield we(D.appConfig);for(;1===O.authToken.requestStatus;)yield Et(100),O=yield we(D.appConfig);const U=O.authToken;return 0===U.requestStatus?G(D,I):U})).apply(this,arguments)}function we(D){return xn(D,I=>{if(!Xe(I))throw ue.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ge(D,I){return je.apply(this,arguments)}function je(){return(je=(0,x.Z)(function*(D,I){try{const O=yield Mo(D,I),U=Object.assign(Object.assign({},I),{authToken:O});return yield lt(D.appConfig,U),O}catch(O){if(!De(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield lt(D.appConfig,U)}else yield Hr(D.appConfig);throw O}})).apply(this,arguments)}function Xe(D){return void 0!==D&&2===D.registrationStatus}function Dt(D){return 2===D.requestStatus&&!function(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function Qt(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function ko(){return(ko=(0,x.Z)(function*(D){const I=D,{installationEntry:O,registrationPromise:U}=yield En(I.appConfig);return U?U.catch(console.error):G(I).catch(console.error),O.fid})).apply(this,arguments)}function bs(){return(bs=(0,x.Z)(function*(D,I=!1){const O=D;return yield Wl(O.appConfig),(yield G(O,I)).token})).apply(this,arguments)}function Wl(D){return en.apply(this,arguments)}function en(){return(en=(0,x.Z)(function*(D){const{registrationPromise:I}=yield En(D);I&&(yield I)})).apply(this,arguments)}function zr(D){return ue.create("missing-app-config-values",{valueName:D})}const An="installations";(0,ae._registerComponent)(new pe.wA(An,D=>{const I=D.getProvider("app").getImmediate(),O=function(D){if(!D||!D.options)throw zr("App Configuration");if(!D.name)throw zr("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!D.options[O])throw zr(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:O,platformLoggerProvider:(0,ae._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",D=>{const I=D.getProvider("app").getImmediate(),O=(0,ae._getProvider)(I,An).getImmediate();return{getId:()=>function(D){return ko.apply(this,arguments)}(O),getToken:q=>function(D){return bs.apply(this,arguments)}(O,q)}},"PRIVATE")),(0,ae.registerVersion)(de,H),(0,ae.registerVersion)(de,H,"esm2017");const dt="@firebase/remote-config",Kt=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Td{constructor(I,O,U,q){this.client=I,this.storage=O,this.storageCache=U,this.logger=q}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,q=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var O=this;return(0,x.Z)(function*(){const[U,q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(q&&O.isCachedDataFresh(I.cacheMaxAgeMillis,U))return q;I.eTag=q&&q.eTag;const X=yield O.client.fetch(I),Re=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&Re.push(O.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(Re),X})()}}function Df(D=navigator){return D.languages&&D.languages[0]||D.language}class Gr{constructor(I,O,U,q,X,Re){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=U,this.projectId=q,this.apiKey=X,this.appId=Re}fetch(I){var O=this;return(0,x.Z)(function*(){const[U,q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:q,app_id:O.appId,language_code:Df()},Tt={method:"POST",headers:We,body:JSON.stringify(ze)},jt=fetch(Re,Tt),cr=new Promise((xr,mi)=>{I.signal.addEventListener(()=>{const fc=new Error("The operation was aborted.");fc.name="AbortError",mi(fc)})});let er;try{yield Promise.race([jt,cr]),er=yield jt}catch(xr){let mi="fetch-client-network";throw"AbortError"===xr.name&&(mi="fetch-timeout"),Kt.create(mi,{originalErrorMessage:xr.message})}let pn=er.status;const Nr=er.headers.get("ETag")||void 0;let Fs,gi;if(200===er.status){let xr;try{xr=yield er.json()}catch(mi){throw Kt.create("fetch-client-parse",{originalErrorMessage:mi.message})}Fs=xr.entries,gi=xr.state}if("INSTANCE_STATE_UNSPECIFIED"===gi?pn=500:"NO_CHANGE"===gi?pn=304:("NO_TEMPLATE"===gi||"EMPTY_CONFIG"===gi)&&(Fs={}),304!==pn&&200!==pn)throw Kt.create("fetch-status",{httpStatus:pn});return{status:pn,eTag:Nr,config:Fs}})()}}class Yc{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,x.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:U}){var q=this;return(0,x.Z)(function*(){yield function(D,I){return new Promise((O,U)=>{const q=Math.max(I-Date.now(),0),X=setTimeout(O,q);D.addEventListener(()=>{clearTimeout(X),U(Kt.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const X=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),X}catch(X){if(!function(D){if(!(D instanceof se.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(X))throw X;const Re={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield q.storage.setThrottleMetadata(Re),q.attemptFetch(I,Re)}})()}}class bf{constructor(I,O,U,q,X){this.app=I,this._client=O,this._storageCache=U,this._storage=q,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fo(D,I){const O=D.target.error||void 0;return Kt.create(I,{originalErrorMessage:O&&O.message})}const Qs="app_namespace_store";class If{constructor(I,O,U,q=function(){return new Promise((D,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{I(Fo(U,"storage-open"))},O.onsuccess=U=>{D(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Qs,{keyPath:"compositeKey"})}}catch(O){I(Kt.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=U,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,x.Z)(function*(){const U=yield O.openDbPromise;return new Promise((q,X)=>{const We=U.transaction([Qs],"readonly").objectStore(Qs),ze=O.createCompositeKey(I);try{const Tt=We.get(ze);Tt.onerror=jt=>{X(Fo(jt,"storage-get"))},Tt.onsuccess=jt=>{const cr=jt.target.result;q(cr?cr.value:void 0)}}catch(Tt){X(Kt.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(I,O){var U=this;return(0,x.Z)(function*(){const q=yield U.openDbPromise;return new Promise((X,Re)=>{const ze=q.transaction([Qs],"readwrite").objectStore(Qs),Tt=U.createCompositeKey(I);try{const jt=ze.put({compositeKey:Tt,value:O});jt.onerror=cr=>{Re(Fo(cr,"storage-set"))},jt.onsuccess=()=>{X()}}catch(jt){Re(Kt.create("storage-set",{originalErrorMessage:jt&&jt.message}))}})})()}delete(I){var O=this;return(0,x.Z)(function*(){const U=yield O.openDbPromise;return new Promise((q,X)=>{const We=U.transaction([Qs],"readwrite").objectStore(Qs),ze=O.createCompositeKey(I);try{const Tt=We.delete(ze);Tt.onerror=jt=>{X(Fo(jt,"storage-delete"))},Tt.onsuccess=()=>{q()}}catch(Tt){X(Kt.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class eu{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,x.Z)(function*(){const O=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),X=yield O;X&&(I.lastFetchStatus=X);const Re=yield U;Re&&(I.lastSuccessfulFetchTimestampMillis=Re);const We=yield q;We&&(I.activeConfig=We)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Lo(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,x.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new pe.wA("remote-config",function(I,{instanceIdentifier:O}){const U=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kt.create("registration-window");if(!(0,se.hl)())throw Kt.create("indexed-db-unavailable");const{projectId:X,apiKey:Re,appId:We}=U.options;if(!X)throw Kt.create("registration-project-id");if(!Re)throw Kt.create("registration-api-key");if(!We)throw Kt.create("registration-app-id");const ze=new If(We,U.name,O=O||"firebase"),Tt=new eu(ze),jt=new oe.Yd(dt);jt.logLevel=oe.in.ERROR;const cr=new Gr(q,ae.SDK_VERSION,O,X,Re,We),er=new Yc(cr,ze),pn=new Td(er,ze,Tt,jt),Nr=new bf(U,pn,Tt,ze,jt);return function(D){const I=(0,se.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Nr),Nr},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(dt,"0.3.4"),(0,ae.registerVersion)(dt,"0.3.4","esm2017");const tu="/firebase-messaging-sw.js",Sf="/firebase-cloud-messaging-push-scope",ui="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wi="google.c.a.c_id",Js="google.c.a.c_l",Gi="google.c.a.ts",ja="google.c.a.e";var zn=(()=>{return(D=zn||(zn={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",zn;var D})();function Ti(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uo(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),q=new Uint8Array(U.length);for(let X=0;X<U.length;++X)q[X]=U.charCodeAt(X);return q}const Yl="fcm_token_details_db",ru="fcm_token_object_Store";function Ql(D){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,x.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Yl))return null;let I=null;return(yield(0,le.openDb)(Yl,5,function(){var U=(0,x.Z)(function*(q){var X;if(q.oldVersion<2||!q.objectStoreNames.contains(ru))return;const Re=q.transaction.objectStore(ru),We=yield Re.index("fcmSenderId").get(D);if(yield Re.clear(),We)if(2===q.oldVersion){const ze=We;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(X=ze.createTime)&&void 0!==X?X:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Ti(ze.vapidKey)}}}else if(3===q.oldVersion){const ze=We;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ti(ze.auth),p256dh:Ti(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ti(ze.vapidKey)}}}else if(4===q.oldVersion){const ze=We;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Ti(ze.auth),p256dh:Ti(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Ti(ze.vapidKey)}}}});return function(q){return U.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(Yl),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),Md(I)?I:null}),Ha.apply(this,arguments)}function Md(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const qt="firebase-messaging-store";let Jl=null;function Ki(){return Jl||(Jl=(0,le.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(qt)})),Jl}function Dn(D){return As.apply(this,arguments)}function As(){return(As=(0,x.Z)(function*(D){const I=Rs(D),U=yield(yield Ki()).transaction(qt).objectStore(qt).get(I);if(U)return U;{const q=yield Ql(D.appConfig.senderId);if(q)return yield or(D,q),q}})).apply(this,arguments)}function or(D,I){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,x.Z)(function*(D,I){const O=Rs(D),q=(yield Ki()).transaction(qt,"readwrite");return yield q.objectStore(qt).put(I,O),yield q.complete,I})).apply(this,arguments)}function bn(D){return $a.apply(this,arguments)}function $a(){return($a=(0,x.Z)(function*(D){const I=Rs(D),U=(yield Ki()).transaction(qt,"readwrite");yield U.objectStore(qt).delete(I),yield U.complete})).apply(this,arguments)}function Rs({appConfig:D}){return D.appId}const zt=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Si(D,I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,x.Z)(function*(D,I){const O=yield za(D),U=Xs(I),q={method:"POST",headers:O,body:JSON.stringify(U)};let X;try{X=yield(yield fetch(Ye(D.appConfig),q)).json()}catch(Re){throw zt.create("token-subscribe-failed",{errorInfo:Re})}if(X.error)throw zt.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw zt.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Os(D,I){return ar.apply(this,arguments)}function ar(){return(ar=(0,x.Z)(function*(D,I){const O=yield za(D),U=Xs(I.subscriptionOptions),q={method:"PATCH",headers:O,body:JSON.stringify(U)};let X;try{X=yield(yield fetch(`${Ye(D.appConfig)}/${I.token}`,q)).json()}catch(Re){throw zt.create("token-update-failed",{errorInfo:Re})}if(X.error)throw zt.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw zt.create("token-update-no-token");return X.token})).apply(this,arguments)}function jo(D,I){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,x.Z)(function*(D,I){const U={method:"DELETE",headers:yield za(D)};try{const X=yield(yield fetch(`${Ye(D.appConfig)}/${I}`,U)).json();if(X.error)throw zt.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(q){throw zt.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function Ye({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function za(D){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,x.Z)(function*({appConfig:D,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Xs({p256dh:D,auth:I,endpoint:O,vapidKey:U}){const q={web:{endpoint:O,auth:I,p256dh:D}};return U!==ui&&(q.web.applicationPubKey=U),q}const $o=6048e5;function Wa(D){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,x.Z)(function*(D){const I=yield Ai(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Ti(I.getKey("auth")),p256dh:Ti(I.getKey("p256dh"))},U=yield Dn(D.firebaseDependencies);if(U){if(Ka(U.subscriptionOptions,O))return Date.now()>=U.createTime+$o?St(D,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield jo(D.firebaseDependencies,U.token)}catch(q){console.warn(q)}return cn(D.firebaseDependencies,O)}return cn(D.firebaseDependencies,O)})).apply(this,arguments)}function iu(D){return Te.apply(this,arguments)}function Te(){return(Te=(0,x.Z)(function*(D){const I=yield Dn(D.firebaseDependencies);I&&(yield jo(D.firebaseDependencies,I.token),yield bn(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function St(D,I){return qi.apply(this,arguments)}function qi(){return(qi=(0,x.Z)(function*(D,I){try{const O=yield Os(D.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield or(D.firebaseDependencies,U),O}catch(O){throw yield iu(D),O}})).apply(this,arguments)}function cn(D,I){return zo.apply(this,arguments)}function zo(){return(zo=(0,x.Z)(function*(D,I){const U={token:yield Si(D,I),createTime:Date.now(),subscriptionOptions:I};return yield or(D,U),U.token})).apply(this,arguments)}function Ai(D,I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,x.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uo(I)})})).apply(this,arguments)}function Ka(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function ks(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function(D,I){if(!I.notification)return;D.notification={};const O=I.notification.title;O&&(D.notification.title=O);const U=I.notification.body;U&&(D.notification.body=U);const q=I.notification.image;q&&(D.notification.image=q)}(I,D),function(D,I){!I.data||(D.data=I.data)}(I,D),function(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const O=I.fcmOptions.link;O&&(D.fcmOptions.link=O);const U=I.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(I,D),I}function Ps(D){return"object"==typeof D&&!!D&&Wi in D}function Fn(D,I){const O=[];for(let U=0;U<D.length;U++)O.push(D.charAt(U)),U<I.length&&O.push(I.charAt(U));return O.join("")}function Go(D){return zt.create("missing-app-config-values",{valueName:D})}Fn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yi{constructor(I,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function(D){if(!D||!D.options)throw Go("App Configuration Object");if(!D.name)throw Go("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const U of I)if(!O[U])throw Go(U);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function di(D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,x.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(tu,{scope:Sf}),D.swRegistration.update().catch(()=>{})}catch(I){throw zt.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Zo(D,I){return qo.apply(this,arguments)}function qo(){return(qo=(0,x.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield di(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw zt.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Za(D,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,x.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=ui)})).apply(this,arguments)}function qa(){return(qa=(0,x.Z)(function*(D,I){if(!navigator)throw zt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zt.create("permission-blocked");return yield Za(D,null==I?void 0:I.vapidKey),yield Zo(D,null==I?void 0:I.serviceWorkerRegistration),Wa(D)})).apply(this,arguments)}function to(D,I,O){return su.apply(this,arguments)}function su(){return(su=(0,x.Z)(function*(D,I,O){const U=Ya(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[Wi],message_name:O[Js],message_time:O[Gi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ya(D){switch(D){case zn.NOTIFICATION_CLICKED:return"notification_open";case zn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qo(){return(Qo=(0,x.Z)(function*(D,I){const O=I.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===zn.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ks(O)):D.onMessageHandler.next(ks(O)));const U=O.data;Ps(U)&&"1"===U[ja]&&(yield to(D,O.messageType,U))})).apply(this,arguments)}const tc="@firebase/messaging";function nc(){return tn.apply(this,arguments)}function tn(){return(tn=(0,x.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new pe.wA("messaging",D=>{const I=new Yi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function(D,I){return Qo.apply(this,arguments)}(I,O)),I},"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:U=>function(D,I){return qa.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,ae.registerVersion)(tc,"0.9.9"),(0,ae.registerVersion)(tc,"0.9.9","esm2017");const Ji="analytics",Ja="firebase_id",rc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cu="https://www.googletagmanager.com/gtag/js",sn=new oe.Yd("@firebase/analytics");function na(D){return Promise.all(D.map(I=>I.catch(O=>O)))}function Mf(D,I){const O=document.createElement("script");O.src=`${cu}?l=${D}&id=${I}`,O.async=!0,document.head.appendChild(O)}function no(D,I,O,U,q,X){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,x.Z)(function*(D,I,O,U,q,X){const Re=U[q];try{if(Re)yield I[Re];else{const ze=(yield na(O)).find(Tt=>Tt.measurementId===q);ze&&(yield I[ze.appId])}}catch(We){sn.error(We)}D("config",q,X)})).apply(this,arguments)}function ra(D,I,O,U,q){return ic.apply(this,arguments)}function ic(){return(ic=(0,x.Z)(function*(D,I,O,U,q){try{let X=[];if(q&&q.send_to){let Re=q.send_to;Array.isArray(Re)||(Re=[Re]);const We=yield na(O);for(const ze of Re){const Tt=We.find(cr=>cr.measurementId===ze),jt=Tt&&I[Tt.appId];if(!jt){X=[];break}X.push(jt)}}0===X.length&&(X=Object.values(I)),yield Promise.all(X),D("event",U,q||{})}catch(X){sn.error(X)}})).apply(this,arguments)}function Ri(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(cu))return I;return null}const Qe=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qr=new class{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Jn(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function _n(D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,x.Z)(function*(D){var I;const{appId:O,apiKey:U}=D,q={method:"GET",headers:Jn(U)},X=rc.replace("{app-id}",O),Re=yield fetch(X,q);if(200!==Re.status&&304!==Re.status){let We="";try{const ze=yield Re.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(We=ze.error.message)}catch(ze){}throw Qe.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:We})}return Re.json()})).apply(this,arguments)}function yt(D){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,x.Z)(function*(D,I=qr,O){const{appId:U,apiKey:q,measurementId:X}=D.options;if(!U)throw Qe.create("no-app-id");if(!q){if(X)return{measurementId:X,appId:U};throw Qe.create("no-api-key")}const Re=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new ia;return setTimeout((0,x.Z)(function*(){We.abort()}),void 0!==O?O:6e4),ro({appId:U,apiKey:q,measurementId:X},Re,We,I)})).apply(this,arguments)}function ro(D,I,O){return kr.apply(this,arguments)}function kr(){return(kr=(0,x.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:O},U,q=qr){const{appId:X,measurementId:Re}=D;try{yield xd(U,I)}catch(We){if(Re)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:X,measurementId:Re};throw We}try{const We=yield _n(D);return q.deleteThrottleMetadata(X),We}catch(We){if(!Fd(We)){if(q.deleteThrottleMetadata(X),Re)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:X,measurementId:Re};throw We}const ze=503===Number(We.customData.httpStatus)?(0,se.$s)(O,q.intervalMillis,30):(0,se.$s)(O,q.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+ze,backoffCount:O+1};return q.setThrottleMetadata(X,Tt),sn.debug(`Calling attemptFetch again in ${ze} millis`),ro(D,Tt,U,q)}})).apply(this,arguments)}function xd(D,I){return new Promise((O,U)=>{const q=Math.max(I-Date.now(),0),X=setTimeout(O,q);D.addEventListener(()=>{clearTimeout(X),U(Qe.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Fd(D){if(!(D instanceof se.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ia{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function sa(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,x.Z)(function*(){if(!(0,se.hl)())return sn.warn(Qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return sn.warn(Qe.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Zn(){return(Zn=(0,x.Z)(function*(D,I,O,U,q,X,Re){var We;const ze=yt(D);ze.then(pn=>{O[pn.measurementId]=pn.appId,D.options.measurementId&&pn.measurementId!==D.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pn=>sn.error(pn)),I.push(ze);const Tt=sa().then(pn=>{if(pn)return U.getId()}),[jt,cr]=yield Promise.all([ze,Tt]);Ri()||Mf(X,jt.measurementId),q("js",new Date);const er=null!==(We=null==Re?void 0:Re.config)&&void 0!==We?We:{};return er.origin="firebase",er.update=!0,null!=cr&&(er[Ja]=cr),q("config",jt.measurementId,er),jt.measurementId})).apply(this,arguments)}class Ld{constructor(I){this.app=I}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},sc=[];const tl={};let Ud,Mn,aa="dataLayer",nn=!1;function la(D,I,O){!function(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((U,q)=>`(${q+1}) ${U}`).join(" "),O=Qe.create("invalid-analytics-context",{errorInfo:I});sn.warn(O.message)}}();const U=D.options.appId;if(!U)throw Qe.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Qe.create("no-api-key");sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[U])throw Qe.create("already-exists",{id:U});if(!nn){!function(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(aa);const{wrappedGtag:X,gtagCore:Re}=function(D,I,O,U,q){let X=function(...Re){window[U].push(arguments)};return window[q]&&"function"==typeof window[q]&&(X=window[q]),window[q]=function(D,I,O,U){function X(){return(X=(0,x.Z)(function*(Re,We,ze){try{"event"===Re?yield ra(D,I,O,We,ze):"config"===Re?yield no(D,I,O,U,We,ze):D("set",We)}catch(Tt){sn.error(Tt)}})).apply(this,arguments)}return function(Re,We,ze){return X.apply(this,arguments)}}(X,D,I,O),{gtagCore:X,wrappedGtag:window[q]}}(hi,sc,tl,aa,"gtag");Mn=X,Ud=Re,nn=!0}return hi[U]=function(D,I,O,U,q,X,Re){return Zn.apply(this,arguments)}(D,sc,tl,I,Ud,aa,O),new Ld(D)}function so(){return(so=(0,x.Z)(function*(D,I,O,U,q){if(q&&q.global)D("event",O,U);else{const X=yield I;D("event",O,Object.assign(Object.assign({},U),{send_to:X}))}})).apply(this,arguments)}function dn(){return oc.apply(this,arguments)}function oc(){return(oc=(0,x.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const hu="@firebase/analytics";(0,ae._registerComponent)(new pe.wA(Ji,(I,{options:O})=>la(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function(I){try{const O=I.getProvider(Ji).getImmediate();return{logEvent:(U,q,X)=>function(D,I,O,U){D=(0,se.m9)(D),function(D,I,O,U,q){return so.apply(this,arguments)}(Mn,hi[D.app.options.appId],I,O,U).catch(q=>sn.error(q))}(O,U,q,X)}}catch(O){throw Qe.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(hu,"0.7.5"),(0,ae.registerVersion)(hu,"0.7.5","esm2017");var Ln=N(2869),da=N(8843);const Nf=new class extends da.v{}(class extends Ln.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,O,U):I.flush(this)}});var Qr=N(2210),cc=N(7384),yr=N(5222),rl=N(4763);const Hd=new g.GfV("7.2.1"),ha="__angularfire_symbol__analyticsIsSupportedValue",il="__angularfire_symbol__analyticsIsSupported",uc="__angularfire_symbol__remoteConfigIsSupportedValue",$d="__angularfire_symbol__remoteConfigIsSupported",fa="__angularfire_symbol__messagingIsSupportedValue",lr="__angularfire_symbol__messagingIsSupported";function zd(D,I,O){if(I){if(1===I.length)return I[0];const X=I.filter(Re=>Re.app===O);if(1===X.length)return X[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[il]||(globalThis[il]=dn().then(D=>globalThis[ha]=D).catch(()=>globalThis[ha]=!1)),globalThis[lr]||(globalThis[lr]=nc().then(D=>globalThis[fa]=D).catch(()=>globalThis[fa]=!1)),globalThis[$d]||(globalThis[$d]=Lo().then(D=>globalThis[uc]=D).catch(()=>globalThis[uc]=!1));const fu=(D,I)=>{const O=I?[I]:(0,J.C6)(),U=[];return O.forEach(q=>{q.container.getProvider(D).instances.forEach(Re=>{U.includes(Re)||U.push(Re)})}),U};function Jr(){}class dc{constructor(I,O=Nf){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,U){const q=this.zone;return this.delegate.schedule(function(Re){q.runGuarded(()=>{I.apply(this,[Re])})},O,U)}}class pa{constructor(I){this.zone=I,this.task=null}call(I,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jr,{},Jr,Jr)),O.pipe((0,cc.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hc=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new dc(Zone.current)),this.insideAngular=O.run(()=>new dc(Zone.current,Qr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(g.LFG(g.R0b))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function vr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function pi(D){return vr(),function(D){return function(O){return(O=O.lift(new pa(D.ngZone))).pipe((0,yr.R)(D.outsideAngular),(0,rl.Q)(D.insideAngular))}}(vr())(D)}},4213:(Ge,_e,N)=>{"use strict";N.d(_e,{BH:()=>Le,LL:()=>fe,ZR:()=>Ne,gQ:()=>Se,zI:()=>he,hu:()=>J,g5:()=>x,US:()=>pe,tV:()=>de,h$:()=>oe,$s:()=>Nt,r3:()=>Gt,Sg:()=>Ie,ne:()=>Pn,p$:()=>H,vZ:()=>$t,ZB:()=>$,gK:()=>xn,pd:()=>oi,m9:()=>Mo,z$:()=>Ue,GJ:()=>Ir,jU:()=>Y,ru:()=>ue,xb:()=>vn,w1:()=>$e,hl:()=>st,uI:()=>Fe,UG:()=>ce,Yr:()=>He,b$:()=>De,w9:()=>Vn,cI:()=>Bn,UI:()=>Tr,xO:()=>Zs,zd:()=>jr,DV:()=>ws,ug:()=>Xt,dS:()=>qs,Pz:()=>mt,Dv:()=>ir,Wj:()=>En,lb:()=>an,eu:()=>re});const J=function(W,V){if(!W)throw x(V)},x=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},ae=function(W){const V=[];let G=0;for(let Ee=0;Ee<W.length;Ee++){let te=W.charCodeAt(Ee);te<128?V[G++]=te:te<2048?(V[G++]=te>>6|192,V[G++]=63&te|128):55296==(64512&te)&&Ee+1<W.length&&56320==(64512&W.charCodeAt(Ee+1))?(te=65536+((1023&te)<<10)+(1023&W.charCodeAt(++Ee)),V[G++]=te>>18|240,V[G++]=te>>12&63|128,V[G++]=te>>6&63|128,V[G++]=63&te|128):(V[G++]=te>>12|224,V[G++]=te>>6&63|128,V[G++]=63&te|128)}return V},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,V){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let te=0;te<W.length;te+=3){const Ke=W[te],we=te+1<W.length,ge=we?W[te+1]:0,je=te+2<W.length,Xe=je?W[te+2]:0;let Qt=(15&ge)<<2|Xe>>6,Hn=63&Xe;je||(Hn=64,we||(Qt=64)),Ee.push(G[Ke>>2],G[(3&Ke)<<4|ge>>4],G[Qt],G[Hn])}return Ee.join("")},encodeString(W,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(W):this.encodeByteArray(ae(W),V)},decodeString(W,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(W):function(W){const V=[];let G=0,Ee=0;for(;G<W.length;){const te=W[G++];if(te<128)V[Ee++]=String.fromCharCode(te);else if(te>191&&te<224){const Ke=W[G++];V[Ee++]=String.fromCharCode((31&te)<<6|63&Ke)}else if(te>239&&te<365){const je=((7&te)<<18|(63&W[G++])<<12|(63&W[G++])<<6|63&W[G++])-65536;V[Ee++]=String.fromCharCode(55296+(je>>10)),V[Ee++]=String.fromCharCode(56320+(1023&je))}else{const Ke=W[G++],we=W[G++];V[Ee++]=String.fromCharCode((15&te)<<12|(63&Ke)<<6|63&we)}}return V.join("")}(this.decodeStringToByteArray(W,V))},decodeStringToByteArray(W,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let te=0;te<W.length;){const Ke=G[W.charAt(te++)],ge=te<W.length?G[W.charAt(te)]:0;++te;const Xe=te<W.length?G[W.charAt(te)]:64;++te;const ot=te<W.length?G[W.charAt(te)]:64;if(++te,null==Ke||null==ge||null==Xe||null==ot)throw Error();Ee.push(Ke<<2|ge>>4),64!==Xe&&(Ee.push(ge<<4&240|Xe>>2),64!==ot&&Ee.push(Xe<<6&192|ot))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},oe=function(W){const V=ae(W);return pe.encodeByteArray(V,!0)},le=function(W){return oe(W).replace(/\./g,"")},de=function(W){try{return pe.decodeString(W,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function H(W){return $(void 0,W)}function $(W,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!ee(G)||(W[G]=$(W[G],V[G]));return W}function ee(W){return"__proto__"!==W}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,Ee)=>{G?this.reject(G):this.resolve(Ee),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,Ee))}}}function Ie(W,V){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=V||"demo-project",te=W.iat||0,Ke=W.sub||W.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:te,exp:te+3600,auth_time:te,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},W);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(we)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Y(){return"object"==typeof self&&self.self===self}function ue(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){const W=Ue();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function He(){return!1}function st(){return"object"==typeof indexedDB}function re(){return new Promise((W,V)=>{try{let G=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(Ee);te.onsuccess=()=>{te.result.close(),G||self.indexedDB.deleteDatabase(Ee),W(!0)},te.onupgradeneeded=()=>{G=!1},te.onerror=()=>{var Ke;V((null===(Ke=te.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(G){V(G)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ne extends Error{constructor(V,G,Ee){super(G),this.code=V,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(V,G,Ee){this.service=V,this.serviceName=G,this.errors=Ee}create(V,...G){const Ee=G[0]||{},te=`${this.service}/${V}`,Ke=this.errors[V],we=Ke?function(W,V){return W.replace(Ut,(G,Ee)=>{const te=V[Ee];return null!=te?String(te):`<${Ee}?>`})}(Ke,Ee):"Error";return new Ne(te,`${this.serviceName}: ${we} (${te}).`,Ee)}}const Ut=/\{\$([^}]+)}/g;function Bn(W){return JSON.parse(W)}function mt(W){return JSON.stringify(W)}const bt=function(W){let V={},G={},Ee={},te="";try{const Ke=W.split(".");V=Bn(de(Ke[0])||""),G=Bn(de(Ke[1])||""),te=Ke[2],Ee=G.d||{},delete G.d}catch(Ke){}return{header:V,claims:G,data:Ee,signature:te}},Vn=function(W){const G=bt(W).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Ir=function(W){const V=bt(W).claims;return"object"==typeof V&&!0===V.admin};function Gt(W,V){return Object.prototype.hasOwnProperty.call(W,V)}function ws(W,V){if(Object.prototype.hasOwnProperty.call(W,V))return W[V]}function vn(W){for(const V in W)if(Object.prototype.hasOwnProperty.call(W,V))return!1;return!0}function Tr(W,V,G){const Ee={};for(const te in W)Object.prototype.hasOwnProperty.call(W,te)&&(Ee[te]=V.call(G,W[te],te,W));return Ee}function $t(W,V){if(W===V)return!0;const G=Object.keys(W),Ee=Object.keys(V);for(const te of G){if(!Ee.includes(te))return!1;const Ke=W[te],we=V[te];if(Vt(Ke)&&Vt(we)){if(!$t(Ke,we))return!1}else if(Ke!==we)return!1}for(const te of Ee)if(!G.includes(te))return!1;return!0}function Vt(W){return null!==W&&"object"==typeof W}function Zs(W){const V=[];for(const[G,Ee]of Object.entries(W))Array.isArray(Ee)?Ee.forEach(te=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(te))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(Ee));return V.length?"&"+V.join("&"):""}function jr(W){const V={};return W.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[te,Ke]=Ee.split("=");V[decodeURIComponent(te)]=decodeURIComponent(Ke)}}),V}function oi(W){const V=W.indexOf("?");if(!V)return"";const G=W.indexOf("#",V);return W.substring(V,G>0?G:void 0)}class Se{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(V,G){G||(G=0);const Ee=this.W_;if("string"==typeof V)for(let ot=0;ot<16;ot++)Ee[ot]=V.charCodeAt(G)<<24|V.charCodeAt(G+1)<<16|V.charCodeAt(G+2)<<8|V.charCodeAt(G+3),G+=4;else for(let ot=0;ot<16;ot++)Ee[ot]=V[G]<<24|V[G+1]<<16|V[G+2]<<8|V[G+3],G+=4;for(let ot=16;ot<80;ot++){const Qt=Ee[ot-3]^Ee[ot-8]^Ee[ot-14]^Ee[ot-16];Ee[ot]=4294967295&(Qt<<1|Qt>>>31)}let Xe,Dt,te=this.chain_[0],Ke=this.chain_[1],we=this.chain_[2],ge=this.chain_[3],je=this.chain_[4];for(let ot=0;ot<80;ot++){ot<40?ot<20?(Xe=ge^Ke&(we^ge),Dt=1518500249):(Xe=Ke^we^ge,Dt=1859775393):ot<60?(Xe=Ke&we|ge&(Ke|we),Dt=2400959708):(Xe=Ke^we^ge,Dt=3395469782);const Qt=(te<<5|te>>>27)+Xe+je+Dt+Ee[ot]&4294967295;je=ge,ge=we,we=4294967295&(Ke<<30|Ke>>>2),Ke=te,te=Qt}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+we&4294967295,this.chain_[3]=this.chain_[3]+ge&4294967295,this.chain_[4]=this.chain_[4]+je&4294967295}update(V,G){if(null==V)return;void 0===G&&(G=V.length);const Ee=G-this.blockSize;let te=0;const Ke=this.buf_;let we=this.inbuf_;for(;te<G;){if(0===we)for(;te<=Ee;)this.compress_(V,te),te+=this.blockSize;if("string"==typeof V){for(;te<G;)if(Ke[we]=V.charCodeAt(te),++we,++te,we===this.blockSize){this.compress_(Ke),we=0;break}}else for(;te<G;)if(Ke[we]=V[te],++we,++te,we===this.blockSize){this.compress_(Ke),we=0;break}}this.inbuf_=we,this.total_+=G}digest(){const V=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&G,G/=256;this.compress_(this.buf_);let Ee=0;for(let te=0;te<5;te++)for(let Ke=24;Ke>=0;Ke-=8)V[Ee]=this.chain_[te]>>Ke&255,++Ee;return V}}function Pn(W,V){const G=new Nn(W,V);return G.subscribe.bind(G)}class Nn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(Ee=>{this.error(Ee)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,Ee){let te;if(void 0===V&&void 0===G&&void 0===Ee)throw new Error("Missing Observer.");te=function(W,V){if("object"!=typeof W||null===W)return!1;for(const G of["next","error","complete"])if(G in W&&"function"==typeof W[G])return!0;return!1}(V)?V:{next:V,error:G,complete:Ee},void 0===te.next&&(te.next=Hr),void 0===te.error&&(te.error=Hr),void 0===te.complete&&(te.complete=Hr);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(we){}}),this.observers.push(te),Ke}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hr(){}const ir=function(W,V,G,Ee){let te;if(Ee<V?te="at least "+V:Ee>G&&(te=0===G?"none":"no more than "+G),te)throw new Error(W+" failed: Was called with "+Ee+(1===Ee?" argument.":" arguments.")+" Expects "+te+".")};function xn(W,V){return`${W} failed: ${V} argument `}function En(W,V,G,Ee){if((!Ee||G)&&"function"!=typeof G)throw new Error(xn(W,V)+"must be a valid function.")}function an(W,V,G,Ee){if((!Ee||G)&&("object"!=typeof G||null===G))throw new Error(xn(W,V)+"must be a valid context object.")}const qs=function(W){const V=[];let G=0;for(let Ee=0;Ee<W.length;Ee++){let te=W.charCodeAt(Ee);if(te>=55296&&te<=56319){const Ke=te-55296;Ee++,J(Ee<W.length,"Surrogate pair missing trail surrogate."),te=65536+(Ke<<10)+(W.charCodeAt(Ee)-56320)}te<128?V[G++]=te:te<2048?(V[G++]=te>>6|192,V[G++]=63&te|128):te<65536?(V[G++]=te>>12|224,V[G++]=te>>6&63|128,V[G++]=63&te|128):(V[G++]=te>>18|240,V[G++]=te>>12&63|128,V[G++]=te>>6&63|128,V[G++]=63&te|128)}return V},Xt=function(W){let V=0;for(let G=0;G<W.length;G++){const Ee=W.charCodeAt(G);Ee<128?V++:Ee<2048?V+=2:Ee>=55296&&Ee<=56319?(V+=4,G++):V+=3}return V};function Nt(W,V=1e3,G=2){const Ee=V*Math.pow(G,W),te=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+te)}function Mo(W){return W&&W._delegate?W._delegate:W}},7713:(Ge,_e,N)=>{"use strict";N.d(_e,{Mq:()=>g.getApp,C6:()=>g.getApps});var g=N(1572);(0,g.registerVersion)("firebase","9.6.8","app")},7892:(Ge,_e,N)=>{"use strict";N.d(_e,{Z:()=>g.Z});var g=N(6293);g.Z.registerVersion("firebase","9.6.8","app-compat")},8694:(Ge,_e,N)=>{"use strict";N.r(_e);var g=N(8239),J=N(6293),x=N(4213),ae=N(1572);function le(m,d){var f={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&d.indexOf(v)<0&&(f[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(m);T<v.length;T++)d.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(m,v[T])&&(f[v[T]]=m[v[T]])}return f}var Ne=N(3855),fe=N(1177);const Vn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ir=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gt=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vn=new Ne.Yd("@firebase/auth");function Tr(m,...d){vn.logLevel<=Ne.in.ERROR&&vn.error(`Auth (${ae.SDK_VERSION}): ${m}`,...d)}function $t(m,...d){throw oi(m,...d)}function Vt(m,...d){return oi(m,...d)}function Zs(m,d,f){const v=Object.assign(Object.assign({},Ir()),{[d]:f});return new x.LL("auth","Firebase",v).create(d,{appName:m.name})}function jr(m,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&$t(m,"argument-error"),Zs(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oi(m,...d){if("string"!=typeof m){const f=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(f,...v)}return Gt.create(m,...d)}function Se(m,d,...f){if(!m)throw oi(d,...f)}function Pn(m){const d="INTERNAL ASSERTION FAILED: "+m;throw Tr(d),new Error(d)}function Nn(m,d){m||Pn(d)}const lt=new Map;function Rt(m){Nn(m instanceof Function,"Expected a class definition");let d=lt.get(m);return d?(Nn(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,lt.set(m,d),d)}function xn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Cs(){return"http:"===En()||"https:"===En()}function En(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Xt{constructor(d,f){this.shortDelay=d,this.longDelay=f,Nn(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cs()||(0,x.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function qe(m,d){Nn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class ct{static initialize(d,f,v){this.fetchImpl=d,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ds={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ai=new Xt(3e4,6e4);function Nt(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function ft(m,d,f,v){return jn.apply(this,arguments)}function jn(){return(jn=(0,g.Z)(function*(m,d,f,v,T={}){return Mo(m,T,(0,g.Z)(function*(){let R={},j={};v&&("GET"===d?j=v:R={body:JSON.stringify(v)});const ie=(0,x.xO)(Object.assign({key:m.config.apiKey},j)).slice(1),Pe=yield m._getAdditionalHeaders();return Pe["Content-Type"]="application/json",m.languageCode&&(Pe["X-Firebase-Locale"]=m.languageCode),ct.fetch()(Ee(m,m.config.apiHost,f,ie),Object.assign({method:d,headers:Pe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Mo(m,d,f){return W.apply(this,arguments)}function W(){return(W=(0,g.Z)(function*(m,d,f){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ds),d);try{const T=new te(m),R=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw Ke(m,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const ie=R.ok?j.errorMessage:j.error.message,[Pe,Oe]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Ke(m,"credential-already-in-use",j);if("EMAIL_EXISTS"===Pe)throw Ke(m,"email-already-in-use",j);const tt=v[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw Zs(m,tt,Oe);$t(m,tt)}}catch(T){if(T instanceof x.ZR)throw T;$t(m,"network-request-failed")}})).apply(this,arguments)}function V(m,d,f,v){return G.apply(this,arguments)}function G(){return(G=(0,g.Z)(function*(m,d,f,v,T={}){const R=yield ft(m,d,f,v,T);return"mfaPendingCredential"in R&&$t(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ee(m,d,f,v){const T=`${d}${f}?${v}`;return m.config.emulator?qe(m.config,T):`${m.config.apiScheme}://${T}`}class te{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(Vt(this.auth,"network-request-failed")),ai.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ke(m,d,f){const v={appName:m.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const T=Vt(m,d,v);return T.customData._tokenResponse=f,T}function ge(){return(ge=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function je(m,d){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Dt(m,d){return ot.apply(this,arguments)}function ot(){return(ot=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Qt(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function ko(){return(ko=(0,g.Z)(function*(m,d=!1){const f=(0,x.m9)(m),v=yield f.getIdToken(d),T=bs(v);Se(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,j=null==R?void 0:R.sign_in_provider;return{claims:T,token:v,authTime:Qt(Fa(T.auth_time)),issuedAtTime:Qt(Fa(T.iat)),expirationTime:Qt(Fa(T.exp)),signInProvider:j||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Fa(m){return 1e3*Number(m)}function bs(m){const[d,f,v]=m.split(".");if(void 0===d||void 0===f||void 0===v)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,x.tV)(f);return T?JSON.parse(T):(Tr("Failed to decode base64 JWT payload"),null)}catch(T){return Tr("Caught error parsing JWT payload as JSON",T),null}}function en(m,d){return $r.apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(m,d,f=!1){if(f)return d;try{return yield d}catch(v){throw v instanceof x.ZR&&Sr(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function Sr({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class $n{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),v)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class Ar{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qt(this.lastLoginAt),this.creationTime=Qt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Be(m){return wt.apply(this,arguments)}function wt(){return(wt=(0,g.Z)(function*(m){var d;const f=m.auth,v=yield m.getIdToken(),T=yield en(m,Dt(f,{idToken:v}));Se(null==T?void 0:T.users.length,f,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const j=(null===(d=R.providerUserInfo)||void 0===d?void 0:d.length)?An(R.providerUserInfo):[],ie=zr(m.providerData,j),tt=!!m.isAnonymous&&!(m.email&&R.passwordHash||(null==ie?void 0:ie.length)),et={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ie,metadata:new Ar(R.createdAt,R.lastLoginAt),isAnonymous:tt};Object.assign(m,et)})).apply(this,arguments)}function Qn(){return(Qn=(0,g.Z)(function*(m){const d=(0,x.m9)(m);yield Be(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function zr(m,d){return[...m.filter(v=>!d.some(T=>T.providerId===v.providerId)),...d]}function An(m){return m.map(d=>{var{providerId:f}=d,v=le(d,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function fn(){return(fn=(0,g.Z)(function*(m,d){const f=yield Mo(m,{},(0,g.Z)(function*(){const v=(0,x.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,j=Ee(m,T,"/v1/token",`key=${R}`),ie=yield m._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",ct.fetch()(j,{method:"POST",headers:ie,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Se(d.idToken,"internal-error"),Se(void 0!==d.idToken,"internal-error"),Se(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(m){const d=bs(m);return Se(d,"internal-error"),Se(void 0!==d.exp,"internal-error"),Se(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var v=this;return(0,g.Z)(function*(){return Se(!v.accessToken||v.refreshToken,d,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var v=this;return(0,g.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:j}=yield function(m,d){return fn.apply(this,arguments)}(d,f);v.updateTokensAndExpiration(T,R,Number(j))})()}updateTokensAndExpiration(d,f,v){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,f){const{refreshToken:v,accessToken:T,expirationTime:R}=f,j=new Wr;return v&&(Se("string"==typeof v,"internal-error",{appName:d}),j.refreshToken=v),T&&(Se("string"==typeof T,"internal-error",{appName:d}),j.accessToken=T),R&&(Se("number"==typeof R,"internal-error",{appName:d}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return Pn("not implemented")}}function gr(m,d){Se("string"==typeof m||void 0===m,"internal-error",{appName:d})}class dt{constructor(d){var{uid:f,auth:v,stsTokenManager:T}=d,R=le(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ar(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,g.Z)(function*(){const v=yield en(f,f.stsTokenManager.getToken(f.auth,d));return Se(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(d){return function(m){return ko.apply(this,arguments)}(this,d)}reload(){return function(m){return Qn.apply(this,arguments)}(this)}_assign(d){this!==d&&(Se(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new dt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var v=this;return(0,g.Z)(function*(){let T=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),T=!0),f&&(yield Be(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,g.Z)(function*(){const f=yield d.getIdToken();return yield en(d,function(m,d){return ge.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var v,T,R,j,ie,Pe,Oe,tt;const et=null!==(v=f.displayName)&&void 0!==v?v:void 0,Mt=null!==(T=f.email)&&void 0!==T?T:void 0,yn=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,js=null!==(j=f.photoURL)&&void 0!==j?j:void 0,Tc=null!==(ie=f.tenantId)&&void 0!==ie?ie:void 0,Pu=null!==(Pe=f._redirectEventId)&&void 0!==Pe?Pe:void 0,yl=null!==(Oe=f.createdAt)&&void 0!==Oe?Oe:void 0,hh=null!==(tt=f.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Nu,emailVerified:fh,isAnonymous:rp,providerData:Dr,stsTokenManager:Sc}=f;Se(Nu&&Sc,d,"internal-error");const vl=Wr.fromJSON(this.name,Sc);Se("string"==typeof Nu,d,"internal-error"),gr(et,d.name),gr(Mt,d.name),Se("boolean"==typeof fh,d,"internal-error"),Se("boolean"==typeof rp,d,"internal-error"),gr(yn,d.name),gr(js,d.name),gr(Tc,d.name),gr(Pu,d.name),gr(yl,d.name),gr(hh,d.name);const Ea=new dt({uid:Nu,auth:d,email:Mt,emailVerified:fh,displayName:et,isAnonymous:rp,photoURL:js,phoneNumber:yn,tenantId:Tc,stsTokenManager:vl,createdAt:yl,lastLoginAt:hh});return Dr&&Array.isArray(Dr)&&(Ea.providerData=Dr.map(wa=>Object.assign({},wa))),Pu&&(Ea._redirectEventId=Pu),Ea}static _fromIdTokenResponse(d,f,v=!1){return(0,g.Z)(function*(){const T=new Wr;T.updateFromServerResponse(f);const R=new dt({uid:f.localId,auth:d,stsTokenManager:T,isAnonymous:v});return yield Be(R),R})()}}const mr=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,v){var T=this;return(0,g.Z)(function*(){T.storage[f]=v})()}_get(f){var v=this;return(0,g.Z)(function*(){const T=v.storage[f];return void 0===T?null:T})()}_remove(f){var v=this;return(0,g.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return m.type="NONE",m})();function _r(m,d,f){return`firebase:${m}:${d}:${f}`}class Rr{constructor(d,f,v){this.persistence=d,this.auth=f,this.userKey=v;const{config:T,name:R}=this.auth;this.fullUserKey=_r(this.userKey,T.apiKey,R),this.fullPersistenceKey=_r("persistence",T.apiKey,R),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?dt._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,g.Z)(function*(){if(f.persistence===d)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,v="authUser"){return(0,g.Z)(function*(){if(!f.length)return new Rr(Rt(mr),d,v);const T=(yield Promise.all(f.map(function(){var Oe=(0,g.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let R=T[0]||Rt(mr);const j=_r(v,d.config.apiKey,d.name);let ie=null;for(const Oe of f)try{const tt=yield Oe._get(j);if(tt){const et=dt._fromJSON(d,tt);Oe!==R&&(ie=et),R=Oe;break}}catch(tt){}const Pe=T.filter(Oe=>Oe._shouldAllowMigration);return R._shouldAllowMigration&&Pe.length?(R=Pe[0],ie&&(yield R._set(j,ie.toJSON())),yield Promise.all(f.map(function(){var Oe=(0,g.Z)(function*(tt){if(tt!==R)try{yield tt._remove(j)}catch(et){}});return function(tt){return Oe.apply(this,arguments)}}())),new Rr(R,d,v)):new Rr(R,d,v)})()}}function Kt(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Zt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Po(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ua(d))return"Blackberry";if(xo(d))return"Webos";if(bi(d))return"Safari";if((d.includes("chrome/")||Mr(d))&&!d.includes("edge/"))return"Chrome";if(No(d))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Po(m=(0,x.z$)()){return/firefox\//i.test(m)}function bi(m=(0,x.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Mr(m=(0,x.z$)()){return/crios\//i.test(m)}function Zt(m=(0,x.z$)()){return/iemobile/i.test(m)}function No(m=(0,x.z$)()){return/android/i.test(m)}function Ua(m=(0,x.z$)()){return/blackberry/i.test(m)}function xo(m=(0,x.z$)()){return/webos/i.test(m)}function $i(m=(0,x.z$)()){return/iphone|ipad|ipod/i.test(m)}function wn(m=(0,x.z$)()){return $i(m)||No(m)||xo(m)||Ua(m)||/windows phone/i.test(m)||Zt(m)}function li(m,d=[]){let f;switch(m){case"Browser":f=Kt((0,x.z$)());break;case"Worker":f=`${Kt((0,x.z$)())}-${m}`;break;default:f=m}const v=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.SDK_VERSION}/${v}`}class ci{constructor(d,f){this.app=d,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(d,f){var v=this;return f&&(this._popupRedirectResolver=Rt(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var T,R;if(!v._deleted&&(v.persistenceManager=yield Rr.create(v,d),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(j){}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,g.Z)(function*(){var v;let T=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const R=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,j=null==T?void 0:T._redirectEventId,ie=yield f.tryRedirectSignIn(d);(!R||R===j)&&(null==ie?void 0:ie.user)&&(T=ie.user)}return T?T._redirectEventId?(Se(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===T._redirectEventId?f.directlySetCurrentUser(T):f.reloadAndSetCurrentUserOrClear(T)):f.reloadAndSetCurrentUserOrClear(T):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,g.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(T){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,g.Z)(function*(){try{yield Be(d)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){const v=d?(0,x.m9)(d):null;return v&&Se(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,g.Z)(function*(){if(!f._deleted)return d&&Se(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,g.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(Rt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new x.LL("auth","Firebase",d())}onAuthStateChanged(d,f,v){return this.registerStateListener(this.authStateSubscription,d,f,v)}onIdTokenChanged(d,f,v){return this.registerStateListener(this.idTokenSubscription,d,f,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var v=this;return(0,g.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(f);return null===d?T.removeCurrentUser():T.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const v=d&&Rt(d)||f._popupRedirectResolver;Se(v,f,"argument-error"),f.redirectPersistenceManager=yield Rr.create(f,[Rt(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,g.Z)(function*(){var v,T;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===d?f._currentUser:(null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,g.Z)(function*(){if(d===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,v,T){if(this._deleted)return()=>{};const R="function"==typeof f?f:f.next.bind(f),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof f?d.addObserver(f,v,T):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){const f={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(f["X-Firebase-gmpid"]=d.app.options.appId),f})()}}function kn(m){return(0,x.m9)(m)}class Ii{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,x.ne)(f=>this.observer=f)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Df(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class Ys{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return Pn("not implemented")}_getIdTokenResponse(d){return Pn("not implemented")}_linkToIdToken(d,f){return Pn("not implemented")}_getReauthenticationResolver(d){return Pn("not implemented")}}function Sd(m,d){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:resetPassword",Nt(m,d))})).apply(this,arguments)}function Ad(m,d){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function bf(m,d){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:update",Nt(m,d))})).apply(this,arguments)}function Jc(){return(Jc=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithPassword",Nt(m,d))})).apply(this,arguments)}function Kl(m,d){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:sendOobCode",Nt(m,d))})).apply(this,arguments)}function If(m,d){return eu.apply(this,arguments)}function eu(){return(eu=(0,g.Z)(function*(m,d){return Kl(m,d)})).apply(this,arguments)}function Tf(m,d){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,g.Z)(function*(m,d){return Kl(m,d)})).apply(this,arguments)}function Va(m,d){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(m,d){return Kl(m,d)})).apply(this,arguments)}function Zl(m,d){return tu.apply(this,arguments)}function tu(){return(tu=(0,g.Z)(function*(m,d){return Kl(m,d)})).apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithEmailLink",Nt(m,d))})).apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithEmailLink",Nt(m,d))})).apply(this,arguments)}class Js extends Ys{constructor(d,f,v,T=null){super("password",v),this._email=d,this._password=f,this._tenantId=T}static _fromEmailAndPassword(d,f){return new Js(d,f,"password")}static _fromEmailAndCode(d,f,v=null){return new Js(d,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function(m,d){return Jc.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(m,d){return ui.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:$t(d,"internal-error")}})()}_linkToIdToken(d,f){var v=this;return(0,g.Z)(function*(){switch(v.signInMethod){case"password":return Ad(d,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(m,d){return Wi.apply(this,arguments)}(d,{idToken:f,email:v._email,oobCode:v._password});default:$t(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Gi(m,d){return ja.apply(this,arguments)}function ja(){return(ja=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithIdp",Nt(m,d))})).apply(this,arguments)}class zn extends Ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new zn(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):$t("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T}=f,R=le(f,["providerId","signInMethod"]);if(!v||!T)return null;const j=new zn(v,T);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(d){return Gi(d,this.buildRequest())}_linkToIdToken(d,f){const v=this.buildRequest();return v.idToken=f,Gi(d,v)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Gi(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,x.xO)(f)}return d}}function Ti(m,d){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:sendVerificationCode",Nt(m,d))})).apply(this,arguments)}function sr(){return(sr=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithPhoneNumber",Nt(m,d))})).apply(this,arguments)}function Ql(){return(Ql=(0,g.Z)(function*(m,d){const f=yield V(m,"POST","/v1/accounts:signInWithPhoneNumber",Nt(m,d));if(f.temporaryProof)throw Ke(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ha={USER_NOT_FOUND:"user-not-found"};function Bo(){return(Bo=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithPhoneNumber",Nt(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ha)})).apply(this,arguments)}class Ss extends Ys{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Ss({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Ss({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function(m,d){return sr.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function(m,d){return Ql.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(m,d){return Bo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:v,verificationCode:T}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:v,code:T}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:R}=d;return v||f||T||R?new Ss({verificationId:f,verificationCode:v,phoneNumber:T,temporaryProof:R}):null}}class Ki{constructor(d){var f,v,T,R,j,ie;const Pe=(0,x.zd)((0,x.pd)(d)),Oe=null!==(f=Pe.apiKey)&&void 0!==f?f:null,tt=null!==(v=Pe.oobCode)&&void 0!==v?v:null,et=function(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Pe.mode)&&void 0!==T?T:null);Se(Oe&&tt&&et,"argument-error"),this.apiKey=Oe,this.operation=et,this.code=tt,this.continueUrl=null!==(R=Pe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Pe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ie=Pe.tenantId)&&void 0!==ie?ie:null}static parseLink(d){const f=function(m){const d=(0,x.zd)((0,x.pd)(m)).link,f=d?(0,x.zd)((0,x.pd)(d)).deep_link_id:null,v=(0,x.zd)((0,x.pd)(m)).deep_link_id;return(v?(0,x.zd)((0,x.pd)(v)).link:null)||v||f||d||m}(d);try{return new Ki(f)}catch(v){return null}}}let As=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,v){return Js._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const T=Ki.parseLink(v);return Se(T,"argument-error"),Js._fromEmailAndCode(f,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class or{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Kr extends or{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class bn extends Kr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return Se("providerId"in f&&"signInMethod"in f,"argument-error"),zn._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Se(d.idToken||d.accessToken,"argument-error"),zn._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return bn.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return bn.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:R,nonce:j,providerId:ie}=d;if(!v&&!T&&!f&&!R||!ie)return null;try{return new bn(ie)._credential({idToken:f,accessToken:v,nonce:j,pendingToken:R})}catch(Pe){return null}}}let $a=(()=>{class m extends Kr{constructor(){super("facebook.com")}static credential(f){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Rs=(()=>{class m extends Kr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:T}=f;if(!v&&!T)return null;try{return m.credential(v,T)}catch(R){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Ms=(()=>{class m extends Kr{constructor(){super("github.com")}static credential(f){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Si extends Ys{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Gi(d,this.buildRequest())}_linkToIdToken(d,f){const v=this.buildRequest();return v.idToken=f,Gi(d,v)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Gi(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:T,pendingToken:R}=f;return v&&T&&R&&v===T?new Si(v,R):null}static _create(d,f){return new Si(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Os extends or{constructor(d){Se(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Os.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Os.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Si.fromJSON(d);return Se(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:v}=d;if(!f||!v)return null;try{return Si._create(v,f)}catch(T){return null}}}let ar=(()=>{class m extends Kr{constructor(){super("twitter.com")}static credential(f,v){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=f;if(!v||!T)return null;try{return m.credential(v,T)}catch(R){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function jo(m,d){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signUp",Nt(m,d))})).apply(this,arguments)}class Ye{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,v,T=!1){return(0,g.Z)(function*(){const R=yield dt._fromIdTokenResponse(d,v,T),j=za(v);return new Ye({user:R,providerId:j,_tokenResponse:v,operationType:f})})()}static _forOperation(d,f,v){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const T=za(v);return new Ye({user:d,providerId:T,_tokenResponse:v,operationType:f})})()}}function za(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Xs(){return(Xs=(0,g.Z)(function*(m){var d;const f=kn(m);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new Ye({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield jo(f,{returnSecureToken:!0}),T=yield Ye._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class $o extends x.ZR{constructor(d,f,v,T){var R;super(f.code,f.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:d.name,tenantId:null!==(R=d.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,f,v,T){return new $o(d,f,v,T)}}function Wa(m,d,f,v){return("reauthenticate"===d?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?$o._fromErrorAndOperation(m,R,d,v):R})}function Ga(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function Te(){return(Te=(0,g.Z)(function*(m,d){const f=(0,x.m9)(m);yield cn(!0,f,d);const{providerUserInfo:v}=yield je(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),T=Ga(v||[]);return f.providerData=f.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function St(m,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(m,d,f=!1){const v=yield en(m,d._linkToIdToken(m.auth,yield m.getIdToken()),f);return Ye._forOperation(m,"link",v)})).apply(this,arguments)}function cn(m,d,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(m,d,f){yield Be(d);const T=!1===m?"provider-already-linked":"no-such-provider";Se(Ga(d.providerData).has(f)===m,d.auth,T)})).apply(this,arguments)}function Ai(m,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(m,d,f=!1){const{auth:v}=m,T="reauthenticate";try{const R=yield en(m,Wa(v,T,d,m),f);Se(R.idToken,v,"internal-error");const j=bs(R.idToken);Se(j,v,"internal-error");const{sub:ie}=j;return Se(m.uid===ie,v,"user-mismatch"),Ye._forOperation(m,T,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&$t(v,"user-mismatch"),R}})).apply(this,arguments)}function Ka(m,d){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(m,d,f=!1){const v="signIn",T=yield Wa(m,v,d),R=yield Ye._fromIdTokenResponse(m,v,T);return f||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Xl(m,d){return ec.apply(this,arguments)}function ec(){return(ec=(0,g.Z)(function*(m,d){return Ka(kn(m),d)})).apply(this,arguments)}function Wo(m,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,g.Z)(function*(m,d){const f=(0,x.m9)(m);return yield cn(!1,f,d.providerId),St(f,d)})).apply(this,arguments)}function Fn(m,d){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(m,d){return Ai((0,x.m9)(m),d)})).apply(this,arguments)}function Go(m,d){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,g.Z)(function*(m,d){return V(m,"POST","/v1/accounts:signInWithCustomToken",Nt(m,d))})).apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(m,d){const f=kn(m),v=yield Go(f,{token:d,returnSecureToken:!0}),T=yield Ye._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(T.user),T})).apply(this,arguments)}class Zo{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?qo._fromServerResponse(d,f):$t(d,"internal-error")}}class qo extends Zo{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new qo(f)}}function Za(m,d,f){var v;Se((null===(v=f.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Se(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Se(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(Se(f.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function eo(){return(eo=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m),T={requestType:"PASSWORD_RESET",email:d};f&&Za(v,T,f),yield Tf(v,T)})).apply(this,arguments)}function to(){return(to=(0,g.Z)(function*(m,d,f){yield Sd((0,x.m9)(m),{oobCode:d,newPassword:f})})).apply(this,arguments)}function Ya(){return(Ya=(0,g.Z)(function*(m,d){yield bf((0,x.m9)(m),{oobCode:d})})).apply(this,arguments)}function Qa(m,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(m,d){const f=(0,x.m9)(m),v=yield Sd(f,{oobCode:d}),T=v.requestType;switch(Se(T,f,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(v.mfaInfo,f,"internal-error");default:Se(v.email,f,"internal-error")}let R=null;return v.mfaInfo&&(R=Zo._fromServerResponse(kn(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(m,d){const{data:f}=yield Qa((0,x.m9)(m),d);return f.email})).apply(this,arguments)}function Xo(){return(Xo=(0,g.Z)(function*(m,d,f){const v=kn(m),T=yield jo(v,{returnSecureToken:!0,email:d,password:f}),R=yield Ye._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m),T={requestType:"EMAIL_SIGNIN",email:d};Se(f.handleCodeInApp,v,"argument-error"),f&&Za(v,T,f),yield Va(v,T)})).apply(this,arguments)}function ea(){return(ea=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m),T=As.credentialWithLink(d,f||xn());return Se(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Xl(v,T)})).apply(this,arguments)}function Od(m,d){return kd.apply(this,arguments)}function kd(){return(kd=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:createAuthUri",Nt(m,d))})).apply(this,arguments)}function Pd(){return(Pd=(0,g.Z)(function*(m,d){const v={identifier:d,continueUri:Cs()?xn():"http://localhost"},{signinMethods:T}=yield Od((0,x.m9)(m),v);return T||[]})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(m,d){const f=(0,x.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&Za(f.auth,T,d);const{email:R}=yield If(f.auth,T);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function ta(){return(ta=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};f&&Za(v.auth,R,f);const{email:j}=yield Zl(v.auth,R);j!==m.email&&(yield m.reload())})).apply(this,arguments)}function lu(m,d){return rc.apply(this,arguments)}function rc(){return(rc=(0,g.Z)(function*(m,d){return ft(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(m,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const v=(0,x.m9)(m),R={idToken:yield v.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},j=yield en(v,lu(v.auth,R));v.displayName=j.displayName||null,v.photoURL=j.photoUrl||null;const ie=v.providerData.find(({providerId:Pe})=>"password"===Pe);ie&&(ie.displayName=v.displayName,ie.photoURL=v.photoURL),yield v._updateTokensIfNecessary(j)})).apply(this,arguments)}function Nd(m,d,f){return no.apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(m,d,f){const{auth:v}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(R.email=d),f&&(R.password=f);const j=yield en(m,Ad(v,R));yield m._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class ra{constructor(d,f,v={}){this.isNewUser=d,this.providerId=f,this.profile=v}}class ic extends ra{constructor(d,f,v,T){super(d,f,v),this.username=T}}class Of extends ra{constructor(d,f){super(d,"facebook.com",f)}}class Vg extends ic{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ri extends ra{constructor(d,f){super(d,"google.com",f)}}class Rn extends ic{constructor(d,f,v){super(d,"twitter.com",f,v)}}function Qe(m){const{user:d,_tokenResponse:f}=m;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(m){var d,f;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const j=null===(f=null===(d=bs(m.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(j)return new ra(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!v)return null;switch(v){case"facebook.com":return new Of(R,T);case"github.com":return new Vg(R,T);case"google.com":return new Ri(R,T);case"twitter.com":return new Rn(R,T,m.screenName||null);case"custom":case"anonymous":return new ra(R,null);default:return new ra(R,v,T)}}(f)}class Mi{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new Mi("enroll",d)}static _fromMfaPendingCredential(d){return new Mi("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,v;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Mi._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return Mi._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ro{constructor(d,f,v){this.session=d,this.hints=f,this.signInResolver=v}static _fromError(d,f){const v=kn(d),T=f.customData._serverResponse,R=(T.mfaInfo||[]).map(ie=>Zo._fromServerResponse(v,ie));Se(T.mfaPendingCredential,v,"internal-error");const j=Mi._fromMfaPendingCredential(T.mfaPendingCredential);return new ro(j,R,function(){var ie=(0,g.Z)(function*(Pe){const Oe=yield Pe._process(v,j);delete T.mfaInfo,delete T.mfaPendingCredential;const tt=Object.assign(Object.assign({},T),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(f.operationType){case"signIn":const et=yield Ye._fromIdTokenResponse(v,f.operationType,tt);return yield v._updateCurrentUser(et.user),et;case"reauthenticate":return Se(f.user,v,"internal-error"),Ye._forOperation(f.user,f.operationType,tt);default:$t(v,"internal-error")}});return function(Pe){return ie.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,g.Z)(function*(){return f.signInResolver(d)})()}}function xd(m,d){return ft(m,"POST","/v2/accounts/mfaEnrollment:start",Nt(m,d))}class sa{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>Zo._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new sa(d)}getSession(){var d=this;return(0,g.Z)(function*(){return Mi._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var v=this;return(0,g.Z)(function*(){const T=d,R=yield v.getSession(),j=yield en(v.user,T._process(v.user.auth,R,f));return yield v.user._updateTokensIfNecessary(j),v.user.reload()})()}unenroll(d){var f=this;return(0,g.Z)(function*(){const v="string"==typeof d?d:d.uid,T=yield f.user.getIdToken(),R=yield en(f.user,function(m,d){return ft(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(m,d))}(f.user.auth,{idToken:T,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:j})=>j!==v),yield f.user._updateTokensIfNecessary(R);try{yield f.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const Xi=new WeakMap,Zn="__sak";class Ld{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const io=(()=>{class m extends Ld{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const m=(0,x.z$)();return bi(m)||$i(m)}()&&function(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),R=this.localCache[v];T!==R&&f(v,R,T)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((ie,Pe,Oe)=>{this.notifyListeners(ie,Oe)});const T=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(T);if(f.newValue!==ie)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!v)return}const R=()=>{const ie=this.storage.getItem(T);!v&&this.localCache[T]===ie||this.notifyListeners(T,ie)},j=this.storage.getItem(T);(0,x.w1)()&&10===document.documentMode&&j!==f.newValue&&f.newValue!==f.oldValue?setTimeout(R,10):R()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const R of Array.from(T))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var T=()=>super._set,R=this;return(0,g.Z)(function*(){yield T().call(R,f,v),R.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,T=this;return(0,g.Z)(function*(){const R=yield v().call(T,f);return T.localCache[f]=JSON.stringify(R),R})()}_remove(f){var v=()=>super._remove,T=this;return(0,g.Z)(function*(){yield v().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),Mn=(()=>{class m extends Ld{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return m.type="SESSION",m})();let uu=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(R=>R.isListeningto(f));if(v)return v;const T=new m(f);return this.receivers.push(T),T}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,g.Z)(function*(){const T=f,{eventId:R,eventType:j,data:ie}=T.data,Pe=v.handlersMap[j];if(!(null==Pe?void 0:Pe.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const Oe=Array.from(Pe).map(function(){var et=(0,g.Z)(function*(Mt){return Mt(T.origin,ie)});return function(Mt){return et.apply(this,arguments)}}()),tt=yield function(m){return Promise.all(m.map(function(){var d=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return d.apply(this,arguments)}}()))}(Oe);T.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:tt})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function es(m="",d=10){let f="";for(let v=0;v<d;v++)f+=Math.floor(10*Math.random());return m+f}class la{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,v=50){var T=this;return(0,g.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,ie;return new Promise((Pe,Oe)=>{const tt=es("",20);R.port1.start();const et=setTimeout(()=>{Oe(new Error("unsupported_event"))},v);ie={messageChannel:R,onMessage(Mt){const yn=Mt;if(yn.data.eventId===tt)switch(yn.data.status){case"ack":clearTimeout(et),j=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Pe(yn.data.response);break;default:clearTimeout(et),clearTimeout(j),Oe(new Error("invalid_response"))}}},T.handlers.add(ie),R.port1.addEventListener("message",ie.onMessage),T.target.postMessage({eventType:d,eventId:tt,data:f},[R.port2])}).finally(()=>{ie&&T.removeMessageHandler(ie)})})()}}function on(){return window}function ca(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function Oi(){return(Oi=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Ns="firebaseLocalStorageDb",fi="firebaseLocalStorage",jg="fbase_key";class nl{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function dn(m,d){return m.transaction([fi],d?"readwrite":"readonly").objectStore(fi)}function Bd(){const m=indexedDB.open(Ns,1);return new Promise((d,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(fi,{keyPath:jg})}catch(T){f(T)}}),m.addEventListener("success",(0,g.Z)(function*(){const v=m.result;v.objectStoreNames.contains(fi)?d(v):(v.close(),yield function(){const m=indexedDB.deleteDatabase(Ns);return new nl(m).toPromise()}(),d(yield Bd()))}))})}function Vd(m,d,f){return ac.apply(this,arguments)}function ac(){return(ac=(0,g.Z)(function*(m,d,f){const v=dn(m,!0).put({[jg]:d,value:f});return new nl(v).toPromise()})).apply(this,arguments)}function lc(){return(lc=(0,g.Z)(function*(m,d){const f=dn(m,!1).get(d),v=yield new nl(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function hu(m,d){const f=dn(m,!0).delete(d);return new nl(f).toPromise()}const xs=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield Bd()),f.db})()}_withRetries(f){var v=this;return(0,g.Z)(function*(){let T=0;for(;;)try{const R=yield v._openDb();return yield f(R)}catch(R){if(T++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return ca()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=uu._getInstance(ca()?self:null),f.receiver._subscribe("keyChanged",function(){var v=(0,g.Z)(function*(T,R){return{keyProcessed:(yield f._poll()).includes(R.key)}});return function(T,R){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,g.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var v,T;if(f.activeServiceWorker=yield function(){return Oi.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new la(f.activeServiceWorker);const R=yield f.sender._send("ping",{},800);!R||(null===(v=R[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,g.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Bd();return yield Vd(f,Zn,"1"),yield hu(f,Zn),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,g.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var T=this;return(0,g.Z)(function*(){return T._withPendingWrite((0,g.Z)(function*(){return yield T._withRetries(R=>Vd(R,f,v)),T.localCache[f]=v,T.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,g.Z)(function*(){const T=yield v._withRetries(R=>function(m,d){return lc.apply(this,arguments)}(R,f));return v.localCache[f]=T,T})()}_remove(f){var v=this;return(0,g.Z)(function*(){return v._withPendingWrite((0,g.Z)(function*(){return yield v._withRetries(T=>hu(T,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const v=yield f._withRetries(j=>{const ie=dn(j,!1).getAll();return new nl(ie).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:j,value:ie}of v)R.add(j),JSON.stringify(f.localCache[j])!==JSON.stringify(ie)&&(f.notifyListeners(j,ie),T.push(j));for(const j of Object.keys(f.localCache))f.localCache[j]&&!R.has(j)&&(f.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(f,v){this.localCache[f]=v;const T=this.listeners[f];if(T)for(const R of Array.from(T))R(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function da(m,d){return ft(m,"POST","/v2/accounts/mfaSignIn:start",Nt(m,d))}function Pr(){return(Pr=(0,g.Z)(function*(m){return(yield ft(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cc(m){return new Promise((d,f)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=d,v.onerror=T=>{const R=Vt("internal-error");R.customData=T,f(R)},v.type="text/javascript",v.charset="UTF-8",function(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(v)})}function yr(m){return`__${m}${Math.floor(1e6*Math.random())}`}const ha=1e12;class il{constructor(d){this.auth=d,this.counter=ha,this._widgets=new Map}render(d,f){const v=this.counter;return this._widgets.set(v,new uc(d,this.auth.name,f||{})),this.counter++,v}reset(d){var f;const v=d||ha;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(d){var f;return(null===(f=this._widgets.get(d||ha))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,g.Z)(function*(){var v;return null===(v=f._widgets.get(d||ha))||void 0===v||v.execute(),""})()}}class uc{constructor(d,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof d?document.getElementById(d):d;Se(T,"argument-error",{appName:f}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(m){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}();const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fa=yr("rcb"),lr=new Xt(3e4,6e4);class ol{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!on().grecaptcha}load(d,f=""){return Se((m=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(on().grecaptcha):new Promise((v,T)=>{const R=on().setTimeout(()=>{T(Vt(d,"network-request-failed"))},lr.get());on()[fa]=()=>{on().clearTimeout(R),delete on()[fa];const ie=on().grecaptcha;if(!ie)return void T(Vt(d,"internal-error"));const Pe=ie.render;ie.render=(Oe,tt)=>{const et=Pe(Oe,tt);return this.counter++,et},this.hostLanguage=f,v(ie)},cc(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:fa,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(R),T(Vt(d,"internal-error"))})});var m}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!on().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xf{load(d){return(0,g.Z)(function*(){return new il(d)})()}clearedOneInstance(){}}const zd="recaptcha",fu={theme:"light",type:"image"};class Jr{constructor(d,f=Object.assign({},fu),v){this.parameters=f,this.type=zd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(v),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof d?document.getElementById(d):d;Se(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xf:new ol,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(f)||new Promise(R=>{const j=ie=>{!ie||(d.tokenChangeListeners.delete(j),R(ie))};d.tokenChangeListeners.add(j),d.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof d)d(f);else if("string"==typeof d){const v=on()[d];"function"==typeof v&&v(f)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){Se(Cs()&&!ca(),d.auth,"internal-error"),yield function(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function(m){return Pr.apply(this,arguments)}(d.auth);Se(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pa{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Ss._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function vr(){return(vr=(0,g.Z)(function*(m,d,f){const v=kn(m),T=yield pi(v,d,(0,x.m9)(f));return new pa(T,R=>Xl(v,R))})).apply(this,arguments)}function ki(){return(ki=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m);yield cn(!1,v,"phone");const T=yield pi(v.auth,d,(0,x.m9)(f));return new pa(T,R=>Wo(v,R))})).apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m),T=yield pi(v.auth,d,(0,x.m9)(f));return new pa(T,R=>Fn(v,R))})).apply(this,arguments)}function pi(m,d,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,g.Z)(function*(m,d,f){var v;const T=yield f.verify();try{let R;if(Se("string"==typeof T,m,"argument-error"),Se(f.type===zd,m,"argument-error"),R="string"==typeof d?{phoneNumber:d}:d,"session"in R){const j=R.session;if("phoneNumber"in R)return Se("enroll"===j.type,m,"internal-error"),(yield xd(m,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Se("signin"===j.type,m,"internal-error");const ie=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return Se(ie,m,"missing-multi-factor-info"),(yield da(m,{mfaPendingCredential:j.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield Ti(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return j}}finally{f._reset()}})).apply(this,arguments)}function al(){return(al=(0,g.Z)(function*(m,d){yield St((0,x.m9)(m),d)})).apply(this,arguments)}let D=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=kn(f)}verifyPhoneNumber(f,v){return pi(this.auth,f,(0,x.m9)(v))}static credential(f,v){return Ss._fromVerification(f,v)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:T}=f;return v&&T?Ss._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function I(m,d){return d?Rt(d):(Se(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class O extends Ys{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Gi(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Gi(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Gi(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function U(m){return Ka(m.auth,new O(m),m.bypassAuthState)}function q(m){const{auth:d,user:f}=m;return Se(f,d,"internal-error"),Ai(f,new O(m),m.bypassAuthState)}function X(m){return Re.apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(m){const{auth:d,user:f}=m;return Se(f,d,"internal-error"),St(f,new O(m),m.bypassAuthState)})).apply(this,arguments)}class We{constructor(d,f,v,T,R=!1){this.auth=d,this.resolver=v,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,g.Z)(function*(v,T){d.pendingPromise={resolve:v,reject:T};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(R){d.reject(R)}});return function(v,T){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,g.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:R,tenantId:j,error:ie,type:Pe}=d;if(ie)return void f.reject(ie);const Oe={auth:f.auth,requestUri:v,sessionId:T,tenantId:j||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Pe)(Oe))}catch(tt){f.reject(tt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return U;case"linkViaPopup":case"linkViaRedirect":return X;case"reauthViaPopup":case"reauthViaRedirect":return q;default:$t(this.auth,"internal-error")}}resolve(d){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ze=new Xt(2e3,1e4);function jt(){return(jt=(0,g.Z)(function*(m,d,f){const v=kn(m);jr(m,d,or);const T=I(v,f);return new Fs(v,"signInViaPopup",d,T).executeNotNull()})).apply(this,arguments)}function er(){return(er=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m);jr(v.auth,d,or);const T=I(v.auth,f);return new Fs(v.auth,"reauthViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}function Nr(){return(Nr=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m);jr(v.auth,d,or);const T=I(v.auth,f);return new Fs(v.auth,"linkViaPopup",d,T,v).executeNotNull()})).apply(this,arguments)}let Fs=(()=>{class m extends We{constructor(f,v,T,R,j){super(f,v,R,j),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const v=yield f.execute();return Se(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,g.Z)(function*(){Nn(1===f.filter.length,"Popup operations only handle one event");const v=es();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(Vt(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,ze.get())};f()}}return m.currentPopupAction=null,m})();const xr=new Map;class mi extends We{constructor(d,f,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,g.Z)(function*(){let v=xr.get(f.auth._key());if(!v){try{const R=(yield function(m,d){return pc.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;v=()=>Promise.resolve(R)}catch(T){v=()=>Promise.reject(T)}xr.set(f.auth._key(),v)}return f.bypassAuthState||xr.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,v=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(v,d);if("unknown"!==d.type){if(d.eventId){const T=yield v.auth._redirectUserForId(d.eventId);if(T)return v.user=T,f().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function pc(){return(pc=(0,g.Z)(function*(m,d){const f=_i(d),v=Ls(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(f));return yield v._remove(f),T})).apply(this,arguments)}function ga(m,d){return ll.apply(this,arguments)}function ll(){return(ll=(0,g.Z)(function*(m,d){return Ls(m)._set(_i(d),"true")})).apply(this,arguments)}function Ls(m){return Rt(m._redirectPersistence)}function _i(m){return _r("pendingRedirect",m.config.apiKey,m.name)}function gu(){return(gu=(0,g.Z)(function*(m,d,f){const v=kn(m);jr(m,d,or);const T=I(v,f);return yield ga(T,v),T._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m);jr(v.auth,d,or);const T=I(v.auth,f);yield ga(T,v.auth);const R=yield Bf(v);return T._openRedirect(v.auth,d,"reauthViaRedirect",R)})).apply(this,arguments)}function Er(){return(Er=(0,g.Z)(function*(m,d,f){const v=(0,x.m9)(m);jr(v.auth,d,or);const T=I(v.auth,f);yield cn(!1,v,d.providerId),yield ga(T,v.auth);const R=yield Bf(v);return T._openRedirect(v.auth,d,"linkViaRedirect",R)})).apply(this,arguments)}function yi(){return(yi=(0,g.Z)(function*(m,d){return yield kn(m)._initializationPromise,mu(m,d,!1)})).apply(this,arguments)}function mu(m,d){return gc.apply(this,arguments)}function gc(){return(gc=(0,g.Z)(function*(m,d,f=!1){const v=kn(m),T=I(v,d),j=yield new mi(v,T,f).execute();return j&&!f&&(delete j.user._redirectEventId,yield v._persistUserIfCurrent(j.user),yield v._setRedirectUser(null,d)),j})).apply(this,arguments)}function Bf(m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,g.Z)(function*(m){const d=es(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class Kd{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(f=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zd(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var v;if(d.error&&!Zd(d)){const T=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(Vt(this.auth,T))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const v=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mc(d))}saveEventToCache(d){this.cachedEventUids.add(mc(d)),this.lastProcessedEventTime=Date.now()}}function mc(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Zd({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Yd(m){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(m,d={}){return ft(m,"GET","/v1/projects",d)})).apply(this,arguments)}const Qd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_u=/^https?/;function is(){return(is=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield Yd(m);for(const f of d)try{if(_c(f))return}catch(v){}$t(m,"unauthorized-domain")})).apply(this,arguments)}function _c(m){const d=xn(),{protocol:f,hostname:v}=new URL(d);if(m.startsWith("chrome-extension://")){const j=new URL(m);return""===j.hostname&&""===v?"chrome-extension:"===f&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&j.hostname===v}if(!_u.test(f))return!1;if(Qd.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const yu=new Xt(3e4,6e4);function vu(){const m=on().___jsl;if(null==m?void 0:m.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Eu=null;function nv(m){return Eu=Eu||function(m){return new Promise((d,f)=>{var v,T,R;function j(){vu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{vu(),f(Vt(m,"network-request-failed"))},timeout:yu.get()})}if(null===(T=null===(v=on().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)d(gapi.iframes.getContext());else{if(!(null===(R=on().gapi)||void 0===R?void 0:R.load)){const ie=yr("iframefcb");return on()[ie]=()=>{gapi.load?j():f(Vt(m,"network-request-failed"))},cc(`https://apis.google.com/js/api.js?onload=${ie}`).catch(Pe=>f(Pe))}j()}}).catch(d=>{throw Eu=null,d})}(m),Eu}const Vf=new Xt(5e3,15e3),Gg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zg(m){const d=m.config;Se(d.authDomain,m,"auth-domain-config-required");const f=d.emulator?qe(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:m.name,v:ae.SDK_VERSION},T=Kg.get(m.config.apiHost);T&&(v.eid=T);const R=m._getFrameworks();return R.length&&(v.fw=R.join(",")),`${f}?${(0,x.xO)(v).slice(1)}`}function dl(){return dl=(0,g.Z)(function*(m){const d=yield nv(m),f=on().gapi;return Se(f,m,"internal-error"),d.open({where:document.body,url:Zg(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gg,dontclear:!0},v=>new Promise(function(){var T=(0,g.Z)(function*(R,j){yield v.restyle({setHideOnLeave:!1});const ie=Vt(m,"network-request-failed"),Pe=on().setTimeout(()=>{j(ie)},Vf.get());function Oe(){on().clearTimeout(Pe),R(v)}v.ping(Oe).then(Oe,()=>{j(ie)})});return function(R,j){return T.apply(this,arguments)}}()))}),dl.apply(this,arguments)}const wu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xd{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function _a(m,d,f,v,T,R){Se(m.config.authDomain,m,"auth-domain-config-required"),Se(m.config.apiKey,m,"invalid-api-key");const j={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:v,v:ae.SDK_VERSION,eventId:T};if(d instanceof or){d.setDefaultLanguage(m.languageCode),j.providerId=d.providerId||"",(0,x.xb)(d.getCustomParameters())||(j.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Pe,Oe]of Object.entries(R||{}))j[Pe]=Oe}if(d instanceof Kr){const Pe=d.getScopes().filter(Oe=>""!==Oe);Pe.length>0&&(j.scopes=Pe.join(","))}m.tenantId&&(j.tid=m.tenantId);const ie=j;for(const Pe of Object.keys(ie))void 0===ie[Pe]&&delete ie[Pe];return`${function({config:m}){return m.emulator?qe(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,x.xO)(ie).slice(1)}`}const uo="webStorageSupport";class Du extends class{constructor(d){this.factorId=d}_process(d,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,v);case"signin":return this._finalizeSignIn(d,f.credential);default:return Pn("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Du(d)}_finalizeEnroll(d,f,v){return function(m,d){return ft(m,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(m,d))}(d,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function(m,d){return ft(m,"POST","/v2/accounts/mfaSignIn:finalize",Nt(m,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qg=(()=>{class m{constructor(){}static assertion(f){return Du._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var m,Yg="@firebase/auth";class Qg{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(v=>{var T;d((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ho(){return window}function th(){return th=(0,g.Z)(function*(m,d,f){var v;const{BuildInfo:T}=ho();Nn(d.sessionId,"AuthEvent did not contain a session ID");const R=yield nm(d.sessionId),j={};return $i()?j.ibi=T.packageName:No()?j.apn=T.packageName:$t(m,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=R,_a(m,f,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,j)}),th.apply(this,arguments)}function Tu(){return Tu=(0,g.Z)(function*(m){const{BuildInfo:d}=ho(),f={};$i()?f.iosBundleId=d.packageName:No()?f.androidPackageName=d.packageName:$t(m,"operation-not-supported-in-this-environment"),yield Yd(m,f)}),Tu.apply(this,arguments)}function Su(){return Su=(0,g.Z)(function*(m,d,f){const{cordova:v}=ho();let T=()=>{};try{yield new Promise((R,j)=>{let ie=null;function Pe(){var et;R();const Mt=null===(et=v.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Mt&&Mt(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function Oe(){ie||(ie=window.setTimeout(()=>{j(Vt(m,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===(null==document?void 0:document.visibilityState)&&Oe()}d.addPassiveListener(Pe),document.addEventListener("resume",Oe,!1),No()&&document.addEventListener("visibilitychange",tt,!1),T=()=>{d.removePassiveListener(Pe),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",tt,!1),ie&&window.clearTimeout(ie)}})}finally{T()}}),Su.apply(this,arguments)}function nm(m){return rh.apply(this,arguments)}function rh(){return rh=(0,g.Z)(function*(m){const d=av(m),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")}),rh.apply(this,arguments)}function av(m){if(Nn(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),f=new Uint8Array(d);for(let v=0;v<m.length;v++)f[v]=m.charCodeAt(v);return f}m="Browser",(0,ae._registerComponent)(new fe.wA("auth",(d,{options:f})=>{const v=d.getProvider("app").getImmediate(),{apiKey:T,authDomain:R}=v.options;return(j=>{Se(T&&!T.includes(":"),"invalid-api-key",{appName:j.name}),Se(!(null==R?void 0:R.includes(":")),"argument-error",{appName:j.name});const ie={apiKey:T,authDomain:R,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:li(m)},Pe=new ci(j,ie);return function(m,d){const f=(null==d?void 0:d.persistence)||[],v=(Array.isArray(f)?f:[f]).map(Rt);(null==d?void 0:d.errorMap)&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(Pe,f),Pe})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,v)=>{d.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new fe.wA("auth-internal",d=>{const f=kn(d.getProvider("auth").getImmediate());return new Qg(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Yg,"0.19.9",void 0),(0,ae.registerVersion)(Yg,"0.19.9","esm2017");class ur extends Kd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function sh(m){return Un.apply(this,arguments)}function Un(){return Un=(0,g.Z)(function*(m){const d=yield Ec()._get(ya(m));return d&&(yield Ec()._remove(ya(m))),d}),Un.apply(this,arguments)}function Fr(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*d.length);m.push(d.charAt(v))}return m.join("")}function Ec(){return Rt(io)}function ya(m){return _r("authEvent",m.config.apiKey,m.name)}function wc(m){if(!(null==m?void 0:m.includes("?")))return{};const[d,...f]=m.split("?");return(0,x.zd)(f.join("?"))}function Cc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}function fl(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function ei(m=(0,x.z$)()){return!("file:"!==fl()&&"ionic:"!==fl()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jf(){try{const m=self.localStorage,d=es();if(m)return m.setItem(d,"1"),m.removeItem(d),!function(m=(0,x.z$)()){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)||function(m=(0,x.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,x.hl)()}catch(m){return Mu()&&(0,x.hl)()}return!1}function Mu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gl(){return("http:"===fl()||"https:"===fl()||(0,x.ru)()||ei())&&!((0,x.b$)()||(0,x.UG)())&&Jf()&&!Mu()}function Ou(){return ei()&&"undefined"!=typeof document}function bc(){return bc=(0,g.Z)(function*(){return!!Ou()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})}),bc.apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},va=Se,ah="persistence";function lh(m){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,g.Z)(function*(m){yield m._initializationPromise;const d=um(),f=_r(ah,m.config.apiKey,m.name);d&&d.setItem(f,m._getPersistence())}),Vs.apply(this,arguments)}function um(){var m;try{return(null===(m="undefined"!=typeof window?window:null)||void 0===m?void 0:m.sessionStorage)||null}catch(d){return null}}const dm=Se;class Pi{constructor(){this.browserResolver=Rt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mn,this._completeRedirectFn=mu}_openPopup(d,f,v,T){var R=this;return(0,g.Z)(function*(){var j;Nn(null===(j=R.eventManagers[d._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ie=_a(d,f,v,xn(),T);return function(m,d,f,v=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-v)/2,0).toString();let ie="";const Pe=Object.assign(Object.assign({},wu),{width:v.toString(),height:T.toString(),top:R,left:j}),Oe=(0,x.z$)().toLowerCase();f&&(ie=Mr(Oe)?"_blank":f),Po(Oe)&&(d=d||"http://localhost",Pe.scrollbars="yes");const tt=Object.entries(Pe).reduce((Mt,[yn,js])=>`${Mt}${yn}=${js},`,"");if(function(m=(0,x.z$)()){var d;return $i(m)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Oe)&&"_self"!==ie)return function(m,d){const f=document.createElement("a");f.href=m,f.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(d||"",ie),new Xd(null);const et=window.open(d||"",ie,tt);Se(et,m,"popup-blocked");try{et.focus()}catch(Mt){}return new Xd(et)}(d,ie,es())})()}_openRedirect(d,f,v,T){var R=this;return(0,g.Z)(function*(){return yield R._originValidation(d),m=_a(d,f,v,xn(),T),on().location.href=m,new Promise(()=>{});var m})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:T,promise:R}=this.eventManagers[f];return T?Promise.resolve(T):(Nn(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(d);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(d){var f=this;return(0,g.Z)(function*(){const v=yield function(m){return dl.apply(this,arguments)}(d),T=new Kd(d);return v.register("authEvent",R=>(Se(null==R?void 0:R.authEvent,d,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:T},f.iframes[d._key()]=v,T})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(uo,{type:uo},T=>{var R;const j=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[uo];void 0!==j&&f(!!j),$t(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return is.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return wn()||bi()||$i()}}),this.cordovaResolver=Rt(class{constructor(){this._redirectPersistence=Mn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mu}_initialize(d){var f=this;return(0,g.Z)(function*(){const v=d._key();let T=f.eventManagers.get(v);return T||(T=new ur(d),f.eventManagers.set(v,T),f.attachCallbackListeners(d,T)),T})()}_openPopup(d){$t(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,v,T){var R=this;return(0,g.Z)(function*(){!function(m){var d,f,v,T,R,j,ie,Pe,Oe,tt;const et=ho();Se("function"==typeof(null===(d=null==et?void 0:et.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(f=null==et?void 0:et.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(R=null===(T=null===(v=null==et?void 0:et.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Pe=null===(ie=null===(j=null==et?void 0:et.cordova)||void 0===j?void 0:j.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Pe?void 0:Pe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(tt=null===(Oe=null==et?void 0:et.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===tt?void 0:tt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const j=yield R._initialize(d);yield j.initialized(),j.resetRedirect(),xr.clear(),yield R._originValidation(d);const ie=function(m,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Fr(),postBody:null,tenantId:m.tenantId,error:Vt(m,"no-auth-event")}}(d,v,T);yield function(m,d){return Ec()._set(ya(m),d)}(d,ie);const Pe=yield function(m,d,f){return th.apply(this,arguments)}(d,ie,f),Oe=yield function(m){const{cordova:d}=ho();return new Promise(f=>{d.plugins.browsertab.isAvailable(v=>{let T=null;v?d.plugins.browsertab.openUrl(m):T=d.InAppBrowser.open(m,function(m=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Pe);return function(m,d,f){return Su.apply(this,arguments)}(d,j,Oe)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(m){return Tu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:v,handleOpenURL:T,BuildInfo:R}=ho(),j=setTimeout((0,g.Z)(function*(){yield sh(d),f.onEvent(Cc())}),500),ie=function(){var tt=(0,g.Z)(function*(et){clearTimeout(j);const Mt=yield sh(d);let yn=null;Mt&&(null==et?void 0:et.url)&&(yn=function(m,d){var f,v;const T=function(m){const d=wc(m),f=d.link?decodeURIComponent(d.link):void 0,v=wc(f).link,T=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return wc(T).link||T||v||f||m}(d);if(T.includes("/__/auth/callback")){const R=wc(T),j=R.firebaseError?function(m){try{return JSON.parse(m)}catch(d){return null}}(decodeURIComponent(R.firebaseError)):null,ie=null===(v=null===(f=null==j?void 0:j.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],Pe=ie?Vt(ie):null;return Pe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(Mt,et.url)),f.onEvent(yn||Cc())});return function(Mt){return tt.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,ie);const Pe=T,Oe=`${R.packageName.toLowerCase()}://`;ho().handleOpenURL=function(){var tt=(0,g.Z)(function*(et){if(et.toLowerCase().startsWith(Oe)&&ie({url:et}),"function"==typeof Pe)try{Pe(et)}catch(Mt){console.error(Mt)}});return function(et){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Mn,this._completeRedirectFn=mu}_initialize(d){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,v,T){var R=this;return(0,g.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(d,f,v,T)})()}_openRedirect(d,f,v,T){var R=this;return(0,g.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(d,f,v,T)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Ou()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const f=yield function(){return bc.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Xf(m){return m.unwrap()}function Ic(m){return ep(m)}function ep(m){const{_tokenResponse:d}=m instanceof x.ZR?m.customData:m;if(!d)return null;if(!(m instanceof x.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return D.credentialFromResult(m);const f=d.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=Rs;break;case"facebook.com":v=$a;break;case"github.com":v=Ms;break;case"twitter.com":v=ar;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:ie,nonce:Pe}=d;return R||j||T||ie?ie?f.startsWith("saml.")?Si._create(f,ie):zn._fromParams({providerId:f,signInMethod:f,pendingToken:ie,idToken:T,accessToken:R}):new bn(f).credential({idToken:T,accessToken:R,rawNonce:Pe}):null}return m instanceof x.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function Cr(m,d){return d.catch(f=>{throw f instanceof x.ZR&&function(m,d){var f;const v=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new tp(m,function(m,d){var f;const v=(0,x.m9)(m),T=d;return Se(d.customData.operationType,v,"argument-error"),Se(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),ro._fromError(v,T)}(m,d));else if(v){const T=ep(d),R=d;T&&(R.credential=T,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:Ic(f),additionalUserInfo:Qe(f),user:Ei.getOrCreate(T)}})}function fo(m,d){return ku.apply(this,arguments)}function ku(){return ku=(0,g.Z)(function*(m,d){const f=yield d;return{verificationId:f.verificationId,confirm:v=>Cr(m,f.confirm(v))}}),ku.apply(this,arguments)}class tp{constructor(d,f){this.resolver=f,this.auth=function(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Cr(Xf(this.auth),this.resolver.resolveSignIn(d))}}class Ei{constructor(d){this._delegate=d,this.multiFactor=function(m){const d=(0,x.m9)(m);return Xi.has(d)||Xi.set(d,sa._fromUser(d)),Xi.get(d)}(d)}static getOrCreate(d){return Ei.USER_MAP.has(d)||Ei.USER_MAP.set(d,new Ei(d)),Ei.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,g.Z)(function*(){return Cr(f.auth,Wo(f._delegate,d))})()}linkWithPhoneNumber(d,f){var v=this;return(0,g.Z)(function*(){return fo(v.auth,function(m,d,f){return ki.apply(this,arguments)}(v._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,g.Z)(function*(){return Cr(f.auth,function(m,d,f){return Nr.apply(this,arguments)}(f._delegate,d,Pi))})()}linkWithRedirect(d){var f=this;return(0,g.Z)(function*(){return yield lh(kn(f.auth)),function(m,d,f){return function(m,d,f){return Er.apply(this,arguments)}(m,d,f)}(f._delegate,d,Pi)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,g.Z)(function*(){return Cr(f.auth,Fn(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return fo(this.auth,function(m,d,f){return lo.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Cr(this.auth,function(m,d,f){return er.apply(this,arguments)}(this._delegate,d,Pi))}reauthenticateWithRedirect(d){var f=this;return(0,g.Z)(function*(){return yield lh(kn(f.auth)),function(m,d,f){return function(m,d,f){return rs.apply(this,arguments)}(m,d,f)}(f._delegate,d,Pi)})()}sendEmailVerification(d){return function(m,d){return Ji.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,g.Z)(function*(){return yield function(m,d){return Te.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function(m,d){return Nd((0,x.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function(m,d){return Nd((0,x.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(m,d){return al.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(m,d){return sn.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function(m,d,f){return ta.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ei.USER_MAP=new WeakMap;const po=Se;let uh=(()=>{class m{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=f.options;po(T,"invalid-api-key",{appName:f.name}),po(T,"invalid-api-key",{appName:f.name});const R="undefined"!=typeof window?Pi:void 0;this._delegate=v.initialize({options:{persistence:ml(T,f.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Vn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function(m,d,f){const v=kn(m);Se(v._canInitEmulator,v,"emulator-config-failed"),Se(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const T=!!(null==f?void 0:f.disableWarnings),R=Or(d),{host:j,port:ie}=function(m){const d=Or(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const R=T[1];return{host:R,port:Df(v.substr(R.length+1))}}{const[R,j]=v.split(":");return{host:R,port:Df(j)}}}(d);v.config.emulator={url:`${R}//${j}${null===ie?"":`:${ie}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:j,port:ie,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function m(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,v)}applyActionCode(f){return function(m,d){return Ya.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Qa(this._delegate,f)}confirmPasswordReset(f,v){return function(m,d,f){return to.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var T=this;return(0,g.Z)(function*(){return Cr(T._delegate,function(m,d,f){return Xo.apply(this,arguments)}(T._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(m,d){return Pd.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(m,d){const f=Ki.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){po(gl(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function(m,d){return yi.apply(this,arguments)}(f._delegate,Pi);return v?Cr(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(m,d){kn(m)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,v,T){const{next:R,error:j,complete:ie}=hm(f,v,T);return this._delegate.onAuthStateChanged(R,j,ie)}onIdTokenChanged(f,v,T){const{next:R,error:j,complete:ie}=hm(f,v,T);return this._delegate.onIdTokenChanged(R,j,ie)}sendSignInLinkToEmail(f,v){return function(m,d,f){return tn.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function(m,d,f){return eo.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,g.Z)(function*(){let T;switch(function(m,d){va(Object.values(ti).includes(d),m,"invalid-persistence-type"),(0,x.b$)()?va(d!==ti.SESSION,m,"unsupported-persistence-type"):(0,x.UG)()?va(d===ti.NONE,m,"unsupported-persistence-type"):Mu()?va(d===ti.NONE||d===ti.LOCAL&&(0,x.hl)(),m,"unsupported-persistence-type"):va(d===ti.NONE||Jf(),m,"unsupported-persistence-type")}(v._delegate,f),f){case ti.SESSION:T=Mn;break;case ti.LOCAL:T=(yield Rt(xs)._isAvailable())?xs:io;break;case ti.NONE:T=mr;break;default:return $t("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Cr(this._delegate,function(m){return Xs.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Cr(this._delegate,Xl(this._delegate,f))}signInWithCustomToken(f){return Cr(this._delegate,function(m,d){return Ko.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return Cr(this._delegate,function(m,d,f){return Xl((0,x.m9)(m),As.credential(d,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return Cr(this._delegate,function(m,d,f){return ea.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return fo(this._delegate,function(m,d,f){return vr.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,g.Z)(function*(){return po(gl(),v._delegate,"operation-not-supported-in-this-environment"),Cr(v._delegate,function(m,d,f){return jt.apply(this,arguments)}(v._delegate,f,Pi))})()}signInWithRedirect(f){var v=this;return(0,g.Z)(function*(){return po(gl(),v._delegate,"operation-not-supported-in-this-environment"),yield lh(v._delegate),function(m,d,f){return function(m,d,f){return gu.apply(this,arguments)}(m,d,f)}(v._delegate,f,Pi)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(m,d){return Jo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=ti,m})();function hm(m,d,f){let v=m;"function"!=typeof m&&({next:v,error:d,complete:f}=m);const T=v;return{next:j=>T(j&&Ei.getOrCreate(j)),error:d,complete:f}}function ml(m,d){const f=function(m,d){const f=um();if(!f)return[];const v=_r(ah,m,d);switch(f.getItem(v)){case ti.NONE:return[mr];case ti.LOCAL:return[xs,Mn];case ti.SESSION:return[Mn];default:return[]}}(m,d);if("undefined"!=typeof self&&!f.includes(xs)&&f.push(xs),"undefined"!=typeof window)for(const v of[io,Mn])f.includes(v)||f.push(v);return f.includes(mr)||f.push(mr),f}class _l{constructor(){this.providerId="phone",this._delegate=new D(Xf(J.Z.auth()))}static credential(d,f){return D.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}_l.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,_l.PROVIDER_ID=D.PROVIDER_ID;const fm=Se;class np{constructor(d,f,v=J.Z.app()){var T;fm(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Jr(d,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(m){m.INTERNAL.registerComponent(new fe.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new uh(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:As,FacebookAuthProvider:$a,GithubAuthProvider:Ms,GoogleAuthProvider:Rs,OAuthProvider:bn,SAMLAuthProvider:Os,PhoneAuthProvider:_l,PhoneMultiFactorGenerator:qg,RecaptchaVerifier:np,TwitterAuthProvider:ar,Auth:uh,AuthCredential:Ys,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.9")}(J.Z)},4995:function(Ge,_e){!function(N){"use strict";function g(ce){return Array.prototype.slice.call(ce)}function J(ce){return new Promise(function(Y,ue){ce.onsuccess=function(){Y(ce.result)},ce.onerror=function(){ue(ce.error)}})}function x(ce,Y,ue){var De,ye=new Promise(function($e,Me){J(De=ce[Y].apply(ce,ue)).then($e,Me)});return ye.request=De,ye}function ae(ce,Y,ue){var De=x(ce,Y,ue);return De.then(function(ye){if(ye)return new H(ye,De.request)})}function se(ce,Y,ue){ue.forEach(function(De){Object.defineProperty(ce.prototype,De,{get:function(){return this[Y][De]},set:function(ye){this[Y][De]=ye}})})}function pe(ce,Y,ue,De){De.forEach(function(ye){ye in ue.prototype&&(ce.prototype[ye]=function(){return x(this[Y],ye,arguments)})})}function oe(ce,Y,ue,De){De.forEach(function(ye){ye in ue.prototype&&(ce.prototype[ye]=function(){return this[Y][ye].apply(this[Y],arguments)})})}function le(ce,Y,ue,De){De.forEach(function(ye){ye in ue.prototype&&(ce.prototype[ye]=function(){return ae(this[Y],ye,arguments)})})}function de(ce){this._index=ce}function H(ce,Y){this._cursor=ce,this._request=Y}function $(ce){this._store=ce}function ee(ce){this._tx=ce,this.complete=new Promise(function(Y,ue){ce.oncomplete=function(){Y()},ce.onerror=function(){ue(ce.error)},ce.onabort=function(){ue(ce.error)}})}function Le(ce,Y,ue){this._db=ce,this.oldVersion=Y,this.transaction=new ee(ue)}function Ie(ce){this._db=ce}se(de,"_index",["name","keyPath","multiEntry","unique"]),pe(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(H,"_cursor",["direction","key","primaryKey","value"]),pe(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ce){ce in IDBCursor.prototype&&(H.prototype[ce]=function(){var Y=this,ue=arguments;return Promise.resolve().then(function(){return Y._cursor[ce].apply(Y._cursor,ue),J(Y._request).then(function(De){if(De)return new H(De,Y._request)})})})}),$.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},$.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},se($,"_store",["name","keyPath","indexNames","autoIncrement"]),pe($,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le($,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe($,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new $(this._tx.objectStore.apply(this._tx,arguments))},se(ee,"_tx",["objectStoreNames","mode"]),oe(ee,"_tx",IDBTransaction,["abort"]),Le.prototype.createObjectStore=function(){return new $(this._db.createObjectStore.apply(this._db,arguments))},se(Le,"_db",["name","version","objectStoreNames"]),oe(Le,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},se(Ie,"_db",["name","version","objectStoreNames"]),oe(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ce){[$,de].forEach(function(Y){ce in Y.prototype&&(Y.prototype[ce.replace("open","iterate")]=function(){var ue=g(arguments),De=ue[ue.length-1],ye=this._store||this._index,$e=ye[ce].apply(ye,ue.slice(0,-1));$e.onsuccess=function(){De($e.result)}})})}),[de,$].forEach(function(ce){ce.prototype.getAll||(ce.prototype.getAll=function(Y,ue){var De=this,ye=[];return new Promise(function($e){De.iterateCursor(Y,function(Me){Me?(ye.push(Me.value),void 0===ue||ye.length!=ue?Me.continue():$e(ye)):$e(ye)})})})}),N.openDb=function(ce,Y,ue){var De=x(indexedDB,"open",[ce,Y]),ye=De.request;return ye&&(ye.onupgradeneeded=function($e){ue&&ue(new Le(ye.result,$e.oldVersion,ye.transaction))}),De.then(function($e){return new Ie($e)})},N.deleteDb=function(ce){return x(indexedDB,"deleteDatabase",[ce])},Object.defineProperty(N,"__esModule",{value:!0})}(_e)},8305:(Ge,_e,N)=>{"use strict";N.d(_e,{y:()=>H});var g=N(584),J=N(7908),x=N(4816),ae=N(4623);var oe=N(5367),le=N(5044),de=N(8706);let H=(()=>{class Ie{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const ce=new Ie;return ce.source=this,ce.operator=Fe,ce}subscribe(Fe,ce,Y){const ue=function(Ie){return Ie&&Ie instanceof g.Lv||function(Ie){return Ie&&(0,le.m)(Ie.next)&&(0,le.m)(Ie.error)&&(0,le.m)(Ie.complete)}(Ie)&&(0,J.Nn)(Ie)}(Fe)?Fe:new g.Hp(Fe,ce,Y);return(0,de.x)(()=>{const{operator:De,source:ye}=this;ue.add(De?De.call(ue,ye):ye?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(ce){Fe.error(ce)}}forEach(Fe,ce){return new(ce=$(ce))((Y,ue)=>{let De;De=this.subscribe(ye=>{try{Fe(ye)}catch($e){ue($e),null==De||De.unsubscribe()}},ue,Y)})}_subscribe(Fe){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Fe)}[x.L](){return this}pipe(...Fe){return function(Ie){return 0===Ie.length?ae.y:1===Ie.length?Ie[0]:function(Fe){return Ie.reduce((ce,Y)=>Y(ce),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=$(Fe))((ce,Y)=>{let ue;this.subscribe(De=>ue=De,De=>Y(De),()=>ce(ue))})}}return Ie.create=Ue=>new Ie(Ue),Ie})();function $(Ie){var Ue;return null!==(Ue=null!=Ie?Ie:oe.v.Promise)&&void 0!==Ue?Ue:Promise}},273:(Ge,_e,N)=>{"use strict";N.d(_e,{x:()=>oe});var g=N(8305),J=N(7908);const ae=(0,N(4893).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=N(3980),pe=N(8706);let oe=(()=>{class de extends g.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ee=new le(this,this);return ee.operator=$,ee}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const Le of ee)Le.next($)}})}error($){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ee}=this;for(;ee.length;)ee.shift().error($)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ee,isStopped:Le,observers:Ie}=this;return ee||Le?J.Lc:(Ie.push($),new J.w0(()=>(0,se.P)(Ie,$)))}_checkFinalizedStatuses($){const{hasError:ee,thrownError:Le,isStopped:Ie}=this;ee?$.error(Le):Ie&&$.complete()}asObservable(){const $=new g.y;return $.source=this,$}}return de.create=(H,$)=>new le(H,$),de})();class le extends oe{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ee||ee.call($,H)}error(H){var $,ee;null===(ee=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ee||ee.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,ee;return null!==(ee=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==ee?ee:J.Lc}}},584:(Ge,_e,N)=>{"use strict";N.d(_e,{Hp:()=>Le,Lv:()=>ee});var g=N(5044),J=N(7908),x=N(5367),ae=N(5160),se=N(6921);const pe=de("C",void 0,void 0);function de(Y,ue,De){return{kind:Y,value:ue,error:De}}var H=N(2496),$=N(8706);class ee extends J.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,J.Nn)(ue)&&ue.add(this)):this.destination=ce}static create(ue,De,ye){return new Le(ue,De,ye)}next(ue){this.isStopped?Fe(de("N",ue,void 0),this):this._next(ue)}error(ue){this.isStopped?Fe(de("E",void 0,ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Fe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends ee{constructor(ue,De,ye){let $e;if(super(),(0,g.m)(ue))$e=ue;else if(ue){let Me;({next:$e,error:De,complete:ye}=ue),this&&x.v.useDeprecatedNextContext?(Me=Object.create(ue),Me.unsubscribe=()=>this.unsubscribe()):Me=ue,$e=null==$e?void 0:$e.bind(Me),De=null==De?void 0:De.bind(Me),ye=null==ye?void 0:ye.bind(Me)}this.destination={next:$e?Ie($e):se.Z,error:Ie(null!=De?De:Ue),complete:ye?Ie(ye):se.Z}}}function Ie(Y,ue){return(...De)=>{try{Y(...De)}catch(ye){x.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(ye):(0,ae.h)(ye)}}}function Ue(Y){throw Y}function Fe(Y,ue){const{onStoppedNotification:De}=x.v;De&&H.z.setTimeout(()=>De(Y,ue))}const ce={closed:!0,next:se.Z,error:Ue,complete:se.Z}},7908:(Ge,_e,N)=>{"use strict";N.d(_e,{Lc:()=>pe,w0:()=>se,Nn:()=>oe});var g=N(5044);const x=(0,N(4893).d)(de=>function($){de(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ee,Le)=>`${Le+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=N(3980);class se{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ie of $)Ie.remove(this);else $.remove(this);const{initialTeardown:ee}=this;if((0,g.m)(ee))try{ee()}catch(Ie){H=Ie instanceof x?Ie.errors:[Ie]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const Ie of Le)try{le(Ie)}catch(Ue){H=null!=H?H:[],Ue instanceof x?H=[...H,...Ue.errors]:H.push(Ue)}}if(H)throw new x(H)}}add(H){var $;if(H&&H!==this)if(this.closed)le(H);else{if(H instanceof se){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==($=this._teardowns)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ae.P)($,H)}remove(H){const{_teardowns:$}=this;$&&(0,ae.P)($,H),H instanceof se&&H._removeParent(this)}}se.EMPTY=(()=>{const de=new se;return de.closed=!0,de})();const pe=se.EMPTY;function oe(de){return de instanceof se||de&&"closed"in de&&(0,g.m)(de.remove)&&(0,g.m)(de.add)&&(0,g.m)(de.unsubscribe)}function le(de){(0,g.m)(de)?de():de.unsubscribe()}},5367:(Ge,_e,N)=>{"use strict";N.d(_e,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ge,_e,N)=>{"use strict";N.d(_e,{E:()=>J});const J=new(N(8305).y)(se=>se.complete())},5947:(Ge,_e,N)=>{"use strict";N.d(_e,{D:()=>$e});var g=N(9985),J=N(4763),x=N(5222),pe=N(8305),le=N(5497),de=N(5044),H=N(8395);function ee(Me,He){if(!Me)throw new Error("Iterable cannot be null");return new pe.y(Ze=>{(0,H.f)(Ze,He,()=>{const st=Me[Symbol.asyncIterator]();(0,H.f)(Ze,He,()=>{st.next().then(re=>{re.done?Ze.complete():Ze.next(re.value)})},0,!0)})})}var Le=N(1073),Ie=N(2442),Ue=N(1537),Fe=N(2317),ce=N(9908),Y=N(3754),ue=N(7751);function $e(Me,He){return He?function(Me,He){if(null!=Me){if((0,Le.c)(Me))return function(Me,He){return(0,g.Xf)(Me).pipe((0,x.R)(He),(0,J.Q)(He))}(Me,He);if((0,Ue.z)(Me))return function(Me,He){return new pe.y(Ze=>{let st=0;return He.schedule(function(){st===Me.length?Ze.complete():(Ze.next(Me[st++]),Ze.closed||this.schedule())})})}(Me,He);if((0,Ie.t)(Me))return function(Me,He){return(0,g.Xf)(Me).pipe((0,x.R)(He),(0,J.Q)(He))}(Me,He);if((0,ce.D)(Me))return ee(Me,He);if((0,Fe.T)(Me))return function(Me,He){return new pe.y(Ze=>{let st;return(0,H.f)(Ze,He,()=>{st=Me[le.h](),(0,H.f)(Ze,He,()=>{let re,he;try{({value:re,done:he}=st.next())}catch(ve){return void Ze.error(ve)}he?Ze.complete():Ze.next(re)},0,!0)}),()=>(0,de.m)(null==st?void 0:st.return)&&st.return()})}(Me,He);if((0,ue.L)(Me))return function(Me,He){return ee((0,ue.Q)(Me),He)}(Me,He)}throw(0,Y.z)(Me)}(Me,He):(0,g.Xf)(Me)}},9985:(Ge,_e,N)=>{"use strict";N.d(_e,{Xf:()=>Le});var g=N(9162),J=N(1537),x=N(2442),ae=N(8305),se=N(1073),pe=N(9908),oe=N(3754),le=N(2317),de=N(7751),H=N(5044),$=N(5160),ee=N(4816);function Le(ye){if(ye instanceof ae.y)return ye;if(null!=ye){if((0,se.c)(ye))return function(ye){return new ae.y($e=>{const Me=ye[ee.L]();if((0,H.m)(Me.subscribe))return Me.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,J.z)(ye))return function(ye){return new ae.y($e=>{for(let Me=0;Me<ye.length&&!$e.closed;Me++)$e.next(ye[Me]);$e.complete()})}(ye);if((0,x.t)(ye))return function(ye){return new ae.y($e=>{ye.then(Me=>{$e.closed||($e.next(Me),$e.complete())},Me=>$e.error(Me)).then(null,$.h)})}(ye);if((0,pe.D)(ye))return Y(ye);if((0,le.T)(ye))return function(ye){return new ae.y($e=>{for(const Me of ye)if($e.next(Me),$e.closed)return;$e.complete()})}(ye);if((0,de.L)(ye))return function(ye){return Y((0,de.Q)(ye))}(ye)}throw(0,oe.z)(ye)}function Y(ye){return new ae.y($e=>{(function(ye,$e){var Me,He,Ze,st;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Me=(0,g.KL)(ye);!(He=yield Me.next()).done;)if($e.next(He.value),$e.closed)return}catch(re){Ze={error:re}}finally{try{He&&!He.done&&(st=Me.return)&&(yield st.call(Me))}finally{if(Ze)throw Ze.error}}$e.complete()})})(ye,$e).catch(Me=>$e.error(Me))})}},3719:(Ge,_e,N)=>{"use strict";N.d(_e,{T:()=>pe});var g=N(5373),J=N(9985),x=N(5583),ae=N(7613),se=N(5947);function pe(...oe){const le=(0,ae.yG)(oe),de=(0,ae._6)(oe,1/0),H=oe;return H.length?1===H.length?(0,J.Xf)(H[0]):(0,g.J)(de)((0,se.D)(H,le)):x.E}},8889:(Ge,_e,N)=>{"use strict";N.d(_e,{Q:()=>J});var g=N(584);class J extends g.Lv{constructor(ae,se,pe,oe,le){super(ae),this.onFinalize=le,this._next=se?function(de){try{se(de)}catch(H){ae.error(H)}}:super._next,this._error=oe?function(de){try{oe(de)}catch(H){ae.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(de){ae.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:se}=this;super.unsubscribe(),!se&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4753:(Ge,_e,N)=>{"use strict";N.d(_e,{U:()=>x});var g=N(9947),J=N(8889);function x(ae,se){return(0,g.e)((pe,oe)=>{let le=0;pe.subscribe(new J.Q(oe,de=>{oe.next(ae.call(se,de,le++))}))})}},5373:(Ge,_e,N)=>{"use strict";N.d(_e,{J:()=>x});var g=N(5724),J=N(4623);function x(ae=1/0){return(0,g.z)(J.y,ae)}},5724:(Ge,_e,N)=>{"use strict";N.d(_e,{z:()=>le});var g=N(4753),J=N(9985),x=N(9947),se=(N(8395),N(8889)),oe=N(5044);function le(de,H,$=1/0){return(0,oe.m)(H)?le((ee,Le)=>(0,g.U)((Ie,Ue)=>H(ee,Ie,Le,Ue))((0,J.Xf)(de(ee,Le))),$):("number"==typeof H&&($=H),(0,x.e)((ee,Le)=>function(de,H,$,ee,Le,Ie,Ue,Fe){const ce=[];let Y=0,ue=0,De=!1;const ye=()=>{De&&!ce.length&&!Y&&H.complete()},$e=He=>Y<ee?Me(He):ce.push(He),Me=He=>{Y++;let Ze=!1;(0,J.Xf)($(He,ue++)).subscribe(new se.Q(H,st=>{H.next(st)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Y--;ce.length&&Y<ee;){const st=ce.shift();Me(st)}ye()}catch(st){H.error(st)}}))};return de.subscribe(new se.Q(H,$e,()=>{De=!0,ye()})),()=>{}}(ee,Le,de,$)))}},4763:(Ge,_e,N)=>{"use strict";N.d(_e,{Q:()=>ae});var g=N(8395),J=N(9947),x=N(8889);function ae(se,pe=0){return(0,J.e)((oe,le)=>{oe.subscribe(new x.Q(le,de=>(0,g.f)(le,se,()=>le.next(de),pe),()=>(0,g.f)(le,se,()=>le.complete(),pe),de=>(0,g.f)(le,se,()=>le.error(de),pe)))})}},3174:(Ge,_e,N)=>{"use strict";N.d(_e,{B:()=>pe});var g=N(5947),J=N(9468),x=N(273),ae=N(584),se=N(9947);function pe(le={}){const{connector:de=(()=>new x.x),resetOnError:H=!0,resetOnComplete:$=!0,resetOnRefCountZero:ee=!0}=le;return Le=>{let Ie=null,Ue=null,Fe=null,ce=0,Y=!1,ue=!1;const De=()=>{null==Ue||Ue.unsubscribe(),Ue=null},ye=()=>{De(),Ie=Fe=null,Y=ue=!1},$e=()=>{const Me=Ie;ye(),null==Me||Me.unsubscribe()};return(0,se.e)((Me,He)=>{ce++,!ue&&!Y&&De();const Ze=Fe=null!=Fe?Fe:de();He.add(()=>{ce--,0===ce&&!ue&&!Y&&(Ue=oe($e,ee))}),Ze.subscribe(He),Ie||(Ie=new ae.Hp({next:st=>Ze.next(st),error:st=>{ue=!0,De(),Ue=oe(ye,H,st),Ze.error(st)},complete:()=>{Y=!0,De(),Ue=oe(ye,$),Ze.complete()}}),(0,g.D)(Me).subscribe(Ie))})(Le)}}function oe(le,de,...H){return!0===de?(le(),null):!1===de?null:de(...H).pipe((0,J.q)(1)).subscribe(()=>le())}},5222:(Ge,_e,N)=>{"use strict";N.d(_e,{R:()=>J});var g=N(9947);function J(x,ae=0){return(0,g.e)((se,pe)=>{pe.add(x.schedule(()=>se.subscribe(pe),ae))})}},9468:(Ge,_e,N)=>{"use strict";N.d(_e,{q:()=>ae});var g=N(5583),J=N(9947),x=N(8889);function ae(se){return se<=0?()=>g.E:(0,J.e)((pe,oe)=>{let le=0;pe.subscribe(new x.Q(oe,de=>{++le<=se&&(oe.next(de),se<=le&&oe.complete())}))})}},7384:(Ge,_e,N)=>{"use strict";N.d(_e,{b:()=>se});var g=N(5044),J=N(9947),x=N(8889),ae=N(4623);function se(pe,oe,le){const de=(0,g.m)(pe)||oe||le?{next:pe,error:oe,complete:le}:pe;return de?(0,J.e)((H,$)=>{var ee;null===(ee=de.subscribe)||void 0===ee||ee.call(de);let Le=!0;H.subscribe(new x.Q($,Ie=>{var Ue;null===(Ue=de.next)||void 0===Ue||Ue.call(de,Ie),$.next(Ie)},()=>{var Ie;Le=!1,null===(Ie=de.complete)||void 0===Ie||Ie.call(de),$.complete()},Ie=>{var Ue;Le=!1,null===(Ue=de.error)||void 0===Ue||Ue.call(de,Ie),$.error(Ie)},()=>{var Ie,Ue;Le&&(null===(Ie=de.unsubscribe)||void 0===Ie||Ie.call(de)),null===(Ue=de.finalize)||void 0===Ue||Ue.call(de)}))}):ae.y}},2869:(Ge,_e,N)=>{"use strict";N.d(_e,{o:()=>se});var g=N(7908);class J extends g.w0{constructor(oe,le){super()}schedule(oe,le=0){return this}}const x={setInterval(...pe){const{delegate:oe}=x;return((null==oe?void 0:oe.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:oe}=x;return((null==oe?void 0:oe.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=N(3980);class se extends J{constructor(oe,le){super(oe,le),this.scheduler=oe,this.work=le,this.pending=!1}schedule(oe,le=0){if(this.closed)return this;this.state=oe;const de=this.id,H=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(H,de,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(H,this.id,le),this}requestAsyncId(oe,le,de=0){return x.setInterval(oe.flush.bind(oe,this),de)}recycleAsyncId(oe,le,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return le;x.clearInterval(le)}execute(oe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(oe,le);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,le){let H,de=!1;try{this.work(oe)}catch($){de=!0,H=$||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:oe,scheduler:le}=this,{actions:de}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=oe&&(this.id=this.recycleAsyncId(le,oe,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ge,_e,N)=>{"use strict";N.d(_e,{v:()=>x});var g=N(1733);class J{constructor(se,pe=J.now){this.schedulerActionCtor=se,this.now=pe}schedule(se,pe=0,oe){return new this.schedulerActionCtor(this,se).schedule(oe,pe)}}J.now=g.l.now;class x extends J{constructor(se,pe=J.now){super(se,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:pe}=this;if(this._active)return void pe.push(se);let oe;this._active=!0;do{if(oe=se.execute(se.state,se.delay))break}while(se=pe.shift());if(this._active=!1,oe){for(;se=pe.shift();)se.unsubscribe();throw oe}}}},2210:(Ge,_e,N)=>{"use strict";N.d(_e,{z:()=>x,P:()=>ae});var g=N(2869);const x=new(N(8843).v)(g.o),ae=x},1733:(Ge,_e,N)=>{"use strict";N.d(_e,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},2496:(Ge,_e,N)=>{"use strict";N.d(_e,{z:()=>g});const g={setTimeout(...J){const{delegate:x}=g;return((null==x?void 0:x.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:x}=g;return((null==x?void 0:x.clearTimeout)||clearTimeout)(J)},delegate:void 0}},5497:(Ge,_e,N)=>{"use strict";N.d(_e,{h:()=>J});const J="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ge,_e,N)=>{"use strict";N.d(_e,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Ge,_e,N)=>{"use strict";N.d(_e,{jO:()=>ae,yG:()=>se,_6:()=>pe});var g=N(5044),J=N(7398);function x(oe){return oe[oe.length-1]}function ae(oe){return(0,g.m)(x(oe))?oe.pop():void 0}function se(oe){return(0,J.K)(x(oe))?oe.pop():void 0}function pe(oe,le){return"number"==typeof x(oe)?oe.pop():le}},3980:(Ge,_e,N)=>{"use strict";function g(J,x){if(J){const ae=J.indexOf(x);0<=ae&&J.splice(ae,1)}}N.d(_e,{P:()=>g})},4893:(Ge,_e,N)=>{"use strict";function g(J){const ae=J(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(_e,{d:()=>g})},8706:(Ge,_e,N)=>{"use strict";N.d(_e,{x:()=>x,O:()=>ae});var g=N(5367);let J=null;function x(se){if(g.v.useDeprecatedSynchronousErrorHandling){const pe=!J;if(pe&&(J={errorThrown:!1,error:null}),se(),pe){const{errorThrown:oe,error:le}=J;if(J=null,oe)throw le}}else se()}function ae(se){g.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=se)}},8395:(Ge,_e,N)=>{"use strict";function g(J,x,ae,se=0,pe=!1){const oe=x.schedule(function(){ae(),pe?J.add(this.schedule(null,se)):this.unsubscribe()},se);if(J.add(oe),!pe)return oe}N.d(_e,{f:()=>g})},4623:(Ge,_e,N)=>{"use strict";function g(J){return J}N.d(_e,{y:()=>g})},1537:(Ge,_e,N)=>{"use strict";N.d(_e,{z:()=>g});const g=J=>J&&"number"==typeof J.length&&"function"!=typeof J},9908:(Ge,_e,N)=>{"use strict";N.d(_e,{D:()=>J});var g=N(5044);function J(x){return Symbol.asyncIterator&&(0,g.m)(null==x?void 0:x[Symbol.asyncIterator])}},5044:(Ge,_e,N)=>{"use strict";function g(J){return"function"==typeof J}N.d(_e,{m:()=>g})},1073:(Ge,_e,N)=>{"use strict";N.d(_e,{c:()=>x});var g=N(4816),J=N(5044);function x(ae){return(0,J.m)(ae[g.L])}},2317:(Ge,_e,N)=>{"use strict";N.d(_e,{T:()=>x});var g=N(5497),J=N(5044);function x(ae){return(0,J.m)(null==ae?void 0:ae[g.h])}},2442:(Ge,_e,N)=>{"use strict";N.d(_e,{t:()=>J});var g=N(5044);function J(x){return(0,g.m)(null==x?void 0:x.then)}},7751:(Ge,_e,N)=>{"use strict";N.d(_e,{Q:()=>x,L:()=>ae});var g=N(9162),J=N(5044);function x(se){return(0,g.FC)(this,arguments,function*(){const oe=se.getReader();try{for(;;){const{value:le,done:de}=yield(0,g.qq)(oe.read());if(de)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(le)}}finally{oe.releaseLock()}})}function ae(se){return(0,J.m)(null==se?void 0:se.getReader)}},7398:(Ge,_e,N)=>{"use strict";N.d(_e,{K:()=>J});var g=N(5044);function J(x){return x&&(0,g.m)(x.schedule)}},9947:(Ge,_e,N)=>{"use strict";N.d(_e,{A:()=>J,e:()=>x});var g=N(5044);function J(ae){return(0,g.m)(null==ae?void 0:ae.lift)}function x(ae){return se=>{if(J(se))return se.lift(function(pe){try{return ae(pe,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Ge,_e,N)=>{"use strict";function g(){}N.d(_e,{Z:()=>g})},5160:(Ge,_e,N)=>{"use strict";N.d(_e,{h:()=>x});var g=N(5367),J=N(2496);function x(ae){J.z.setTimeout(()=>{const{onUnhandledError:se}=g.v;if(!se)throw ae;se(ae)})}},3754:(Ge,_e,N)=>{"use strict";function g(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(_e,{z:()=>g})},8154:(Ge,_e,N)=>{"use strict";var g=N(3668);let J=null;function x(){return J}const oe=new g.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.LFG)($)},providedIn:"platform"}),n})();const H=new g.OlP("Location Initialized");let $=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ee()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ee()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:function(){return new $((0,g.LFG)(oe))},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ue(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function(n){const t=(0,g.LFG)(oe).location;return new De((0,g.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const ue=new g.OlP("appBaseHref");let De=(()=>{class n extends ce{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,c){const h=this.prepareExternalUrl(o+Fe(c));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,c){const h=this.prepareExternalUrl(o+Fe(c));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(le),g.LFG(ue,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n extends ce{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ie(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,c){let h=this.prepareExternalUrl(o+Fe(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,c){let h=this.prepareExternalUrl(o+Fe(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(le),g.LFG(ue,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(e,r){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(Ze(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Fe(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null==(o=(r=this._platformStrategy).historyGo)||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Ie,n.stripTrailingSlash=Ue,n.\u0275fac=function(e){return new(e||n)(g.LFG(ce),g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:function(){return new $e((0,g.LFG)(ce),(0,g.LFG)(le))},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const oi=g.kL8;class _r{}let Kt=(()=>{class n extends _r{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(oi(r||this.locale)(e)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.soG))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function bi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}let ja=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[{provide:_r,useClass:Kt}]}),n})();const nu="browser";let Md=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Bo((0,g.LFG)(oe),window)}),n})();class Bo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ss(this.window.history)||Ss(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ss(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ki{}class As extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new As,J||(J=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(or=or||document.querySelector("base"),or?or.getAttribute("href"):null);return null==e?null:function(n){bn=bn||document.createElement("a"),bn.setAttribute("href",n);const t=bn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){or=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return bi(document.cookie,t)}}let bn,or=null;const Rs=new g.OlP("TRANSITION_ID"),zt=[{provide:g.ip1,useFactory:function(n,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const r=x(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Rs,oe,g.zs3],multi:!0}];class Si{static init(){(0,g.VLi)(new Si)}addToWindow(t){g.dqk.getAngularTestability=(r,o=!0)=>{const c=t.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const o=g.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const _=function(E){h=h||E,c--,0==c&&r(h)};o.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Vo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Os=new g.OlP("EventManagerPlugins");let ar=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Os),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class jo{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=x().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let Zi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n extends Zi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(za),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(za))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function za(n){x().remove(n)}const Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xs=/%COMP%/g;function qi(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?qi(n,o,e):(o=o.replace(Xs,n),e.push(o))}return e}function cn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ai=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Wn(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Xl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case g.ifc.ShadowDom:return new ec(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=qi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ar),g.LFG(Ye),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Wn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ho[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const c=Ho[o];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Ho[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,r,o&g.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cn(r)):this.eventManager.addEventListener(t,e,cn(r))}}class Xl extends Wn{constructor(t,e,r,o){super(t),this.component=r;const c=qi(o+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Xs,o+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Xs,o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class ec extends Wn{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=qi(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const _=document.createElement("style");_.textContent=c[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wo=(()=>{class n extends jo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=["alt","control","meta","shift"],Zr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Go={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let di=(()=>{class n extends jo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(Ps.forEach(E=>{const b=r.indexOf(E);b>-1&&(r.splice(b,1),h+=E+".")}),h+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=h,_}static getEventFullKey(e){let r="",o=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Go.hasOwnProperty(t)&&(t=Go[t]))}return Zr[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ps.forEach(c=>{c!=o&&Yi[c](e)&&(r+=c+".")}),r+=o,r}static eventCallback(e,r,o){return c=>{n.getEventFullKey(c)===e&&o.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const eo=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:nu},{provide:g.g9A,useValue:function(){As.makeCurrent(),Si.init()},multi:!0},{provide:oe,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),qa=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Os,useClass:Wo,multi:!0,deps:[oe,g.R0b,g.Lbi]},{provide:Os,useClass:di,multi:!0,deps:[oe]},{provide:Ai,useClass:Ai,deps:[ar,Ye,g.AFp]},{provide:g.FYo,useExisting:Ai},{provide:Zi,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[oe]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:ar,useClass:ar,deps:[Os,g.R0b]},{provide:Ki,useClass:Vo,deps:[]}];let to=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:g.AFp,useValue:e.appId},{provide:Rs,useExisting:g.AFp},zt]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(n,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:qa,imports:[ja,g.hGG]}),n})();"undefined"!=typeof window&&window;var Ri=N(7613),Rn=N(5947);function Qe(...n){const t=(0,Ri.yG)(n);return(0,Rn.D)(n,t)}var Gn=N(8305),Kn=N(5724),el=N(5044);function qr(n,t){return(0,el.m)(t)?(0,Kn.z)(n,t,1):(0,Kn.z)(n,1)}var Jn=N(9947),_n=N(8889);function Yr(n,t){return(0,Jn.e)((e,r)=>{let o=0;e.subscribe(new _n.Q(r,c=>n.call(t,c,o++)&&r.next(c)))})}var yt=N(4753);class Mi{}class ro{}class kr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),c=o.toLowerCase(),h=e.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof kr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new kr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof kr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const c=t.value;if(c){let h=this.headers.get(e);if(!h)return;h=h.filter(_=>-1===c.indexOf(_)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class xd{encodeKey(t){return Xi(t)}encodeValue(t){return Xi(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ia=/%(\d[a-f0-9])/gi,sa={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Xi(n){return encodeURIComponent(n).replace(ia,(t,e)=>{var r;return null!=(r=sa[e])?r:t})}function oa(n){return`${n}`}class Zn{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[h,_]=-1==c?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,c)),t.decodeValue(o.slice(c+1))],E=e.get(h)||[];E.push(_),e.set(h,E)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Zn({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(oa(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(oa(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hi{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function tl(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function aa(n){return"undefined"!=typeof Blob&&n instanceof Blob}function io(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Mn{constructor(t,e,r,o){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new kr),this.context||(this.context=new hi),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+h}}else this.params=new Zn,this.urlWithParams=e}serializeBody(){return null===this.body?null:tl(this.body)||aa(this.body)||io(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Zn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||io(this.body)?null:aa(this.body)?this.body.type||null:tl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var P;const e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let E=t.headers||this.headers,b=t.params||this.params;const k=null!=(P=t.context)?P:this.context;return void 0!==t.setHeaders&&(E=Object.keys(t.setHeaders).reduce((B,K)=>B.set(K,t.setHeaders[K]),E)),t.setParams&&(b=Object.keys(t.setParams).reduce((B,K)=>B.set(K,t.setParams[K]),b)),new Mn(e,r,c,{params:b,headers:E,context:k,reportProgress:_,responseType:o,withCredentials:h})}}var nn=(()=>((nn=nn||{})[nn.Sent=0]="Sent",nn[nn.UploadProgress=1]="UploadProgress",nn[nn.ResponseHeader=2]="ResponseHeader",nn[nn.DownloadProgress=3]="DownloadProgress",nn[nn.Response=4]="Response",nn[nn.User=5]="User",nn))();class uu{constructor(t,e=200,r="OK"){this.headers=t.headers||new kr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class es extends uu{constructor(t={}){super(t),this.type=nn.ResponseHeader}clone(t={}){return new es({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class la extends uu{constructor(t={}){super(t),this.type=nn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new la({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class on extends uu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function so(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ca=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let c;if(e instanceof Mn)c=e;else{let E,b;E=o.headers instanceof kr?o.headers:new kr(o.headers),o.params&&(b=o.params instanceof Zn?o.params:new Zn({fromObject:o.params})),c=new Mn(e,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Qe(c).pipe(qr(E=>this.handler.handle(E)));if(e instanceof Mn||"events"===o.observe)return h;const _=h.pipe(Yr(E=>E instanceof la));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,yt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return _.pipe((0,yt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return _.pipe((0,yt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return _.pipe((0,yt.U)(E=>E.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Zn).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,so(o,r))}post(e,r,o={}){return this.request("POST",e,so(o,r))}put(e,r,o={}){return this.request("PUT",e,so(o,r))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Mi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class oo{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Oi=new g.OlP("HTTP_INTERCEPTORS");let ts=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=/^\)\]\}',?\n/;let Vd=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Gn.y(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((K,ne)=>o.setRequestHeader(K,ne.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const K=e.detectContentTypeHeader();null!==K&&o.setRequestHeader("Content-Type",K)}if(e.responseType){const K=e.responseType.toLowerCase();o.responseType="json"!==K?K:"text"}const c=e.serializeBody();let h=null;const _=()=>{if(null!==h)return h;const K=1223===o.status?204:o.status,ne=o.statusText||"OK",Ae=new kr(o.getAllResponseHeaders()),ke=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return h=new es({headers:Ae,status:K,statusText:ne,url:ke}),h},E=()=>{let{headers:K,status:ne,statusText:Ae,url:ke}=_(),nt=null;204!==ne&&(nt=void 0===o.response?o.responseText:o.response),0===ne&&(ne=nt?200:0);let gt=ne>=200&&ne<300;if("json"===e.responseType&&"string"==typeof nt){const Lt=nt;nt=nt.replace(oc,"");try{nt=""!==nt?JSON.parse(nt):null}catch(_t){nt=Lt,gt&&(gt=!1,nt={error:_t,text:nt})}}gt?(r.next(new la({body:nt,headers:K,status:ne,statusText:Ae,url:ke||void 0})),r.complete()):r.error(new on({error:nt,headers:K,status:ne,statusText:Ae,url:ke||void 0}))},b=K=>{const{url:ne}=_(),Ae=new on({error:K,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ne||void 0});r.error(Ae)};let k=!1;const P=K=>{k||(r.next(_()),k=!0);let ne={type:nn.DownloadProgress,loaded:K.loaded};K.lengthComputable&&(ne.total=K.total),"text"===e.responseType&&!!o.responseText&&(ne.partialText=o.responseText),r.next(ne)},B=K=>{let ne={type:nn.UploadProgress,loaded:K.loaded};K.lengthComputable&&(ne.total=K.total),r.next(ne)};return o.addEventListener("load",E),o.addEventListener("error",b),o.addEventListener("timeout",b),o.addEventListener("abort",b),e.reportProgress&&(o.addEventListener("progress",P),null!==c&&o.upload&&o.upload.addEventListener("progress",B)),o.send(c),r.next({type:nn.Sent}),()=>{o.removeEventListener("error",b),o.removeEventListener("abort",b),o.removeEventListener("load",E),o.removeEventListener("timeout",b),e.reportProgress&&(o.removeEventListener("progress",P),null!==c&&o.upload&&o.upload.removeEventListener("progress",B)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Ki))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const ac=new g.OlP("XSRF_COOKIE_NAME"),jd=new g.OlP("XSRF_HEADER_NAME");class lc{}let hu=(()=>{class n{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=bi(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe),g.LFG(g.Lbi),g.LFG(ac))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),ns=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(lc),g.LFG(jd))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),kf=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Oi,[]);this.chain=r.reduceRight((o,c)=>new oo(o,c),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ro),g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),da=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ns,useClass:ts}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:ac,useValue:e.cookieName}:[],e.headerName?{provide:jd,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[ns,{provide:Oi,useExisting:ns,multi:!0},{provide:lc,useClass:hu},{provide:ac,useValue:"XSRF-TOKEN"},{provide:jd,useValue:"X-XSRF-TOKEN"}]}),n})(),Pf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[ca,{provide:Mi,useClass:kf},Vd,{provide:ro,useExisting:Vd}],imports:[[da.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class Qr{}const yr="*";function il(n,t=null){return{type:2,steps:n,options:t}}function uc(n){return{type:6,styles:n,offset:null}}function fu(n){Promise.resolve(null).then(n)}class Jr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class dc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const c=this.players.length;0==c?fu(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++r==c&&this._onDestroy()}),h.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,_)=>Math.max(h,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function hc(){return"undefined"!=typeof window&&void 0!==window.document}function vr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xr(n){switch(n.length){case 0:return new Jr;case 1:return n[0];default:return new dc(n)}}function ki(n,t,e,r,o={},c={}){const h=[],_=[];let E=-1,b=null;if(r.forEach(k=>{const P=k.offset,B=P==E,K=B&&b||{};Object.keys(k).forEach(ne=>{let Ae=ne,ke=k[ne];if("offset"!==ne)switch(Ae=t.normalizePropertyName(Ae,h),ke){case"!":ke=o[ne];break;case yr:ke=c[ne];break;default:ke=t.normalizeStyleValue(ne,Ae,ke,h)}K[Ae]=ke}),B||_.push(K),b=K,E=P}),h.length){const k="\n - ";throw new Error(`Unable to animate due to the following errors:${k}${h.join(k)}`)}return _}function ao(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&lo(e,"start",n)));break;case"done":n.onDone(()=>r(e&&lo(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&lo(e,"destroy",n)))}}function lo(n,t,e){const r=e.totalTime,c=pi(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),h=n._data;return null!=h&&(c._data=h),c}function pi(n,t,e,r,o="",c=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:c,disabled:!!h}}function Xn(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function pu(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let al=(n,t)=>!1,D=(n,t)=>!1,I=(n,t,e)=>[];const O=vr();(O||"undefined"!=typeof Element)&&(al=hc()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),D=(()=>{if(O||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):D}})(),I=(n,t,e)=>{let r=[];if(e){const o=n.querySelectorAll(t);for(let c=0;c<o.length;c++)r.push(o[c])}else{const o=n.querySelector(t);o&&r.push(o)}return r});let q=null,X=!1;function Re(n){q||(q=("undefined"!=typeof document?document.body:null)||{},X=!!q.style&&"WebkitAppearance"in q.style);let t=!0;return q.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in q.style,!t&&X&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in q.style)),t}const ze=D,Tt=al,jt=I;function cr(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let er=(()=>{class n{validateStyleProperty(e){return Re(e)}matchesElement(e,r){return ze(e,r)}containsElement(e,r){return Tt(e,r)}query(e,r,o){return jt(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,c,h,_=[],E){return new Jr(o,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),pn=(()=>{class n{}return n.NOOP=new er,n})();const xr="ng-enter",mi="ng-leave",ga="ng-trigger",ll=".ng-trigger",Ff="ng-animating",Ls=".ng-animating";function _i(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Wd(parseFloat(t[1]),t[2])}function Wd(n,t){return"s"===t?1e3*n:n}function Gd(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let o,c=0,h="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=Wd(parseFloat(_[1]),_[2]);const E=_[3];null!=E&&(c=Wd(parseFloat(E),_[4]));const b=_[5];b&&(h=b)}else o=n;if(!e){let _=!1,E=t.length;o<0&&(t.push("Duration values below 0 are not allowed for this animation step."),_=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&t.splice(E,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:c,easing:h}}(n,t,e)}function cl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function rs(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else cl(n,e);return e}function Lf(n,t,e){return e?t+":"+e+";":""}function Uf(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Lf(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Lf(0,Zd(e),n.style[e]));n.setAttribute("style",t)}function Er(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const o=mc(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[o]),n.style[o]=t[r]}),vr()&&Uf(n))}function Us(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=mc(e);n.style[r]=""}),vr()&&Uf(n))}function yi(n){return Array.isArray(n)?1==n.length?n[0]:il(n):n}const gc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bf(n){let t=[];if("string"==typeof n){let e;for(;e=gc.exec(n);)t.push(e[1]);gc.lastIndex=0}return t}function Bs(n,t,e){const r=n.toString(),o=r.replace(gc,(c,h)=>{let _=t[h];return t.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),_=""),_.toString()});return o==r?n:o}function ul(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Kd=/-+([a-z0-9])/g;function mc(n){return n.replace(Kd,(...t)=>t[1].toUpperCase())}function Zd(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qd(n,t){return 0===n||0===t}function Yd(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],h=[];if(r.forEach(_=>{c.hasOwnProperty(_)||h.push(_),c[_]=e[_]}),h.length)for(var o=1;o<t.length;o++){let _=t[o];h.forEach(function(E){_[E]=Qd(n,E)})}}return t}function wr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Qd(n,t){return window.getComputedStyle(n)[t]}function $g(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const E=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const o=r[1],c=r[2],h=r[3];t.push(zg(o,h));"<"==c[0]&&!("*"==o&&"*"==h)&&t.push(zg(h,o))}(r,e,t)):e.push(n),e}const yu=new Set(["true","1"]),vu=new Set(["false","0"]);function zg(n,t){const e=yu.has(n)||vu.has(n),r=yu.has(t)||vu.has(t);return(o,c)=>{let h="*"==n||n==o,_="*"==t||t==c;return!h&&e&&"boolean"==typeof o&&(h=o?yu.has(n):vu.has(n)),!_&&r&&"boolean"==typeof c&&(_=c?yu.has(t):vu.has(t)),h&&_}}const nv=new RegExp("s*:selfs*,?","g");function Vf(n,t,e){return new Wg(n).build(t,e)}class Wg{constructor(t){this._driver=t}build(t,e){const r=new Zg(e);return this._resetContextStyleTimingState(r),wr(this,yi(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const c=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),0==_.type){const E=_,b=E.name;b.toString().split(/\s*,\s*/).forEach(k=>{E.name=k,c.push(this.visitState(E,e))}),E.name=b}else if(1==_.type){const E=this.visitTransition(_,e);r+=E.queryCount,o+=E.depCount,h.push(E)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,h=o||{};if(r.styles.forEach(_=>{if(dl(_)){const E=_;Object.keys(E).forEach(b=>{Bf(E[b]).forEach(k=>{h.hasOwnProperty(k)||c.add(k)})})}}),c.size){const _=ul(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=wr(this,yi(t.animation),e);return{type:1,matchers:$g(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:co(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>wr(this,r,e)),options:co(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const c=t.steps.map(h=>{e.currentTime=r;const _=wr(this,h,e);return o=Math.max(o,e.currentTime),_});return e.currentTime=o,{type:3,steps:c,options:co(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return vi(Gd(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=vi(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Gd(r,t),vi(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,c=t.styles?t.styles:uc({});if(5==c.type)o=this.visitKeyframes(c,e);else{let h=t.styles,_=!1;if(!h){_=!0;const b={};r.easing&&(b.easing=r.easing),h=uc(b)}e.currentTime+=r.duration+r.delay;const E=this.visitStyle(h,e);E.isEmptyStep=_,o=E}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==yr?r.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(t.styles);let o=!1,c=null;return r.forEach(h=>{if(dl(h)){const _=h,E=_.easing;if(E&&(c=E,delete _.easing),!o)for(let b in _)if(_[b].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void e.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const E=e.collectedStyles[e.currentQuerySelector],b=E[_];let k=!0;b&&(c!=o&&c>=b.startTime&&o<=b.endTime&&(e.errors.push(`The CSS property "${_}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${o}ms"`),k=!1),c=b.startTime),k&&(E[_]={startTime:c,endTime:o}),e.options&&function(n,t,e){const r=t.params||{},o=Bf(n);o.length&&o.forEach(c=>{r.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(h[_],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let c=0;const h=[];let _=!1,E=!1,b=0;const k=t.steps.map(nt=>{const gt=this._makeStyleAst(nt,e);let Lt=null!=gt.offset?gt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(dl(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(dl(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(gt.styles),_t=0;return null!=Lt&&(c++,_t=gt.offset=Lt),E=E||_t<0||_t>1,_=_||_t<b,b=_t,h.push(_t),gt});E&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&e.errors.push("Please ensure that all keyframe offsets are in order");const P=t.steps.length;let B=0;c>0&&c<P?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(B=1/(P-1));const K=P-1,ne=e.currentTime,Ae=e.currentAnimateTimings,ke=Ae.duration;return k.forEach((nt,gt)=>{const Lt=B>0?gt==K?1:B*gt:h[gt],_t=Lt*ke;e.currentTime=ne+Ae.delay+_t,Ae.duration=_t,this._validateStyleAst(nt,e),nt.offset=Lt,r.styles.push(nt)}),r}visitReference(t,e){return{type:8,animation:wr(this,yi(t.animation),e),options:co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:co(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:co(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[c,h]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(nv,"")),n=n.replace(/@\*/g,ll).replace(/@\w+/g,e=>ll+"-"+e.substr(1)).replace(/:animating/g,Ls),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Xn(e.collectedStyles,e.currentQuerySelector,{});const _=wr(this,yi(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:_,originalSelector:t.selector,options:co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Gd(t.timings,e.errors,!0);return{type:12,animation:wr(this,yi(t.animation),e),timings:r,options:null}}}class Zg{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function dl(n){return!Array.isArray(n)&&"object"==typeof n}function co(n){return n?(n=cl(n)).params&&(n.params=function(n){return n?cl(n):null}(n.params)):n={},n}function vi(n,t,e){return{duration:n,delay:t,easing:e}}function ma(n,t,e,r,o,c,h=null,_=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:c,totalTime:o+c,easing:h,subTimeline:_}}class yc{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const iv=new RegExp(":enter","g"),ov=new RegExp(":leave","g");function _a(n,t,e,r,o,c={},h={},_,E,b=[]){return(new eh).buildKeyframes(n,t,e,r,o,c,h,_,E,b)}class eh{buildKeyframes(t,e,r,o,c,h,_,E,b,k=[]){b=b||new yc;const P=new Hf(t,e,b,o,c,k,[]);P.options=E,P.currentTimeline.setStyles([h],null,P.errors,E),wr(this,r,P);const B=P.timelines.filter(K=>K.containsAnimation());if(B.length&&Object.keys(_).length){const K=B[B.length-1];K.allowOnlyTimelineStyles()||K.setStyles([_],null,P.errors,E)}return B.length?B.map(K=>K.buildKeyframes()):[ma(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const o=e.createSubContext(t.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const h=null!=r.duration?_i(r.duration):null,_=null!=r.delay?_i(r.delay):null;return 0!==h&&t.forEach(E=>{const b=e.appendInstructionToTimeline(E,h,_);c=Math.max(c,b.duration+b.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),wr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const c=t.options;if(c&&(c.params||c.delay)&&(o=e.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=uo);const h=_i(c.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>wr(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?_i(t.options.delay):0;t.steps.forEach(h=>{const _=e.createSubContext(t.options);c&&_.delayNextStep(c),wr(this,h,_),o=Math.max(o,_.currentTimeline.currentTime),r.push(_.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Gd(e.params?Bs(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,c=r.duration,_=e.createSubContext().currentTimeline;_.easing=r.easing,t.styles.forEach(E=>{_.forwardTime((E.offset||0)*c),_.setStyles(E.styles,E.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(o+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},c=o.delay?_i(o.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uo);let h=r;const _=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=_.length;let E=null;_.forEach((b,k)=>{e.currentQueryIndex=k;const P=e.createSubContext(t.options,b);c&&P.delayNextStep(c),b===e.element&&(E=P.currentTimeline),wr(this,t.animation,P),P.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,P.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,c=t.timings,h=Math.abs(c.duration),_=h*(e.currentQueryTotal-1);let E=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":E=_-E;break;case"full":E=r.currentStaggerTime}const k=e.currentTimeline;E&&k.delayNextStep(E);const P=k.currentTime;wr(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-P+(o.startTime-r.currentTimeline.startTime)}}const uo={};class Hf{constructor(t,e,r,o,c,h,_,E){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=c,this.errors=h,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Cu(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=_i(r.duration)),null!=r.delay&&(o.delay=_i(r.delay));const c=r.params;if(c){let h=o.params;h||(h=this.options.params={}),Object.keys(c).forEach(_=>{(!e||!h.hasOwnProperty(_))&&(h[_]=Bs(c[_],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,c=new Hf(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=uo,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new $f(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,c,h){let _=[];if(o&&_.push(this.element),t.length>0){t=(t=t.replace(iv,"."+this._enterClassName)).replace(ov,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),_.push(...b)}return!c&&0==_.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),_}}class Cu{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Cu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||yr,this._currentKeyframe[e]=yr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&(this._previousKeyframe.easing=e);const c=o&&o.params||{},h=function(n,t){const e={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(t),r.forEach(c=>{e[c]=yr})):rs(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(_=>{const E=Bs(h[_],c,r);this._pendingStyles[_]=E,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:yr),this._updateStyle(_,E)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],o=t._styleSummary[e];(!r||o.time>r.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((_,E)=>{const b=rs(_,!0);Object.keys(b).forEach(k=>{const P=b[k];"!"==P?t.add(k):P==yr&&e.add(k)}),r||(b.offset=E/this.duration),o.push(b)});const c=t.size?ul(t.values()):[],h=e.size?ul(e.values()):[];if(r){const _=o[0],E=cl(_);_.offset=0,E.offset=1,o=[_,E]}return ma(this.element,o,c,h,this.duration,this.startTime,this.easing,!1)}}class $f extends Cu{constructor(t,e,r,o,c,h,_=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=r+e,_=e/h,E=rs(t[0],!1);E.offset=0,c.push(E);const b=rs(t[0],!1);b.offset=Du(_),c.push(b);const k=t.length-1;for(let P=1;P<=k;P++){let B=rs(t[P],!1);B.offset=Du((e+B.offset*r)/h),c.push(B)}r=h,e=0,o="",t=c}return ma(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function Du(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class bu{}class Iu extends bu{normalizePropertyName(t,e){return mc(t)}normalizeStyleValue(t,e,r,o){let c="";const h=r.toString().trim();if(Jg[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const _=r.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&o.push(`Please provide a CSS unit value for ${t}:${r}`)}return h+c}}const Jg=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ho(n,t,e,r,o,c,h,_,E,b,k,P,B){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:c,toState:r,toStyles:h,timelines:_,queriedElements:E,preStyleProps:b,postStyleProps:k,totalTime:P,errors:B}}const In={};class Wf{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function(n,t,e,r,o){return n.some(c=>c(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){const o=this._stateStyles["*"],c=this._stateStyles[t],h=o?o.buildStyles(e,r):{};return c?c.buildStyles(e,r):h}build(t,e,r,o,c,h,_,E,b,k){const P=[],B=this.ast.options&&this.ast.options.params||In,ne=this.buildStyles(r,_&&_.params||In,P),Ae=E&&E.params||In,ke=this.buildStyles(o,Ae,P),nt=new Set,gt=new Map,Lt=new Map,_t="void"===o,rr={params:ht(ht({},B),Ae)},Br=k?[]:_a(t,e,this.ast.animation,c,h,ne,ke,rr,b,P);let Hi=0;if(Br.forEach(Kc=>{Hi=Math.max(Kc.duration+Kc.delay,Hi)}),P.length)return ho(e,this._triggerName,r,o,_t,ne,ke,[],[],gt,Lt,Hi,P);Br.forEach(Kc=>{const Zc=Kc.element,AS=Xn(gt,Zc,{});Kc.preStyleProps.forEach(wf=>AS[wf]=!0);const Xy=Xn(Lt,Zc,{});Kc.postStyleProps.forEach(wf=>Xy[wf]=!0),Zc!==e&&nt.add(Zc)});const Gc=ul(nt.values());return ho(e,this._triggerName,r,o,_t,ne,ke,Br,Gc,gt,Lt,Hi)}}class nh{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},o=cl(this.defaultParams);return Object.keys(t).forEach(c=>{const h=t[c];null!=h&&(o[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(_=>{let E=h[_];E.length>1&&(E=Bs(E,o,e));const b=this.normalizer.normalizePropertyName(_,e);E=this.normalizer.normalizeStyleValue(_,b,E,e),r[b]=E})}}),r}}class Xg{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new nh(o.style,o.options&&o.options.params||{},r)}),Su(this.states,"true","1"),Su(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Wf(t,o,this.states))}),this.fallbackTransition=function(n,t,e){return new Wf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,_)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Su(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const tm=new yc;class nm{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],o=Vf(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=o}_buildPlayer(t,e,r){const o=t.element,c=ki(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],c=this._animations[t];let h;const _=new Map;if(c?(h=_a(this._driver,e,c,xr,mi,{},{},r,tm,o),h.forEach(k=>{const P=Xn(_,k.element,{});k.postStyleProps.forEach(B=>P[B]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);_.forEach((k,P)=>{Object.keys(k).forEach(B=>{k[B]=this._driver.computeStyle(P,B,yr)})});const b=Xr(h.map(k=>{const P=_.get(k.element);return this._buildPlayer(k,{},P)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,o){const c=pi(e,"","","");return ao(this._getPlayer(t),r,c,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const rh="ng-animate-queued",hl="ng-animate-disabled",ur=".ng-animate-disabled",sh=[],Un={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class Ec{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=null!=(n=r?t.value:t)?n:null,r){const c=cl(t);delete c.value,this.options=c}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const ya="void",Au=new Ec(ya);class rm{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ei(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);var n;const c=Xn(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};c.push(h);const _=Xn(this._engine.statesByElement,t,{});return _.hasOwnProperty(e)||(ei(t,ga),ei(t,ga+"-"+e),_[e]=Au),()=>{this._engine.afterFlush(()=>{const E=c.indexOf(h);E>=0&&c.splice(E,1),this._triggers[e]||delete _[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,o=!0){const c=this._getTrigger(e),h=new oh(this.id,e,t);let _=this._engine.statesByElement.get(t);_||(ei(t,ga),ei(t,ga+"-"+e),this._engine.statesByElement.set(t,_={}));let E=_[e];const b=new Ec(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&b.absorbOptions(E.options),_[e]=b,E||(E=Au),b.value!==ya&&E.value===b.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const c=e[o];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(E.params,b.params)){const Ae=[],ke=c.matchStyles(E.value,E.params,Ae),nt=c.matchStyles(b.value,b.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{Us(t,ke),Er(t,nt)})}return}const B=Xn(this._engine.playersByElement,t,[]);B.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==e&&Ae.queued&&Ae.destroy()});let K=c.matchTransition(E.value,b.value,t,b.params),ne=!1;if(!K){if(!o)return;K=c.fallbackTransition,ne=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:E,toState:b,player:h,isFallbackTransition:ne}),ne||(ei(t,rh),h.onStart(()=>{pl(t,rh)})),h.onDone(()=>{let Ae=this.players.indexOf(h);Ae>=0&&this.players.splice(Ae,1);const ke=this._engine.playersByElement.get(t);if(ke){let nt=ke.indexOf(h);nt>=0&&ke.splice(nt,1)}}),this.players.push(h),B.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,ll,!0);r.forEach(o=>{if(o[Fr])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const c=this._engine.statesByElement.get(t);if(c){const h=[];if(Object.keys(c).forEach(_=>{if(this._triggers[_]){const E=this.trigger(t,_,ya,o);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&Xr(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(c=>{const h=c.name;if(o.has(h))return;o.add(h);const E=this._triggers[h].fallbackTransition,b=r[h]||Au,k=new Ec(ya),P=new oh(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:E,fromState:b,toState:k,player:P,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Fr];(!c||c===Un)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){ei(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const c=r.element,h=this._elementListeners.get(c);h&&h.forEach(_=>{if(_.name==r.triggerName){const E=pi(c,r.triggerName,r.fromState.value,r.toState.value);E._data=t,ao(r.player,_.phase,E,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const c=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class wc{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new rm(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let c=r;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),o=!0;break}o||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const o=Object.keys(r);for(let c=0;c<o.length;c++){const h=r[o[c]].namespaceId;if(h){const _=this._fetchNamespace(h);_&&e.add(_)}}}return e}trigger(t,e,r,o){if(Cc(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!Cc(e))return;const c=e[Fr];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ei(t,hl)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pl(t,hl))}removeNode(t,e,r,o){if(Cc(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o){this.collectedLeaveElements.push(e),e[Fr]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,o,c){return Cc(e)?this._fetchNamespace(t).listen(e,r,o,c):()=>{}}_buildInstruction(t,e,r,o,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,ll,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ls,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Fr];if(e&&e.setForRemoval){if(t[Fr]=Un,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ur)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ur,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ei(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Xr(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new yc,o=[],c=new Map,h=[],_=new Map,E=new Map,b=new Map,k=new Set;this.disabledNodes.forEach(rt=>{k.add(rt);const pt=this.driver.query(rt,".ng-animate-queued",!0);for(let It=0;It<pt.length;It++)k.add(pt[It])});const P=this.bodyNode,B=Array.from(this.statesByElement.keys()),K=qf(B,this.collectedEnterElements),ne=new Map;let Ae=0;K.forEach((rt,pt)=>{const It=xr+Ae++;ne.set(pt,It),rt.forEach(Jt=>ei(Jt,It))});const ke=[],nt=new Set,gt=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const pt=this.collectedLeaveElements[rt],It=pt[Fr];It&&It.setForRemoval&&(ke.push(pt),nt.add(pt),It.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(Jt=>nt.add(Jt)):gt.add(pt))}const Lt=new Map,_t=qf(B,Array.from(nt));_t.forEach((rt,pt)=>{const It=mi+Ae++;Lt.set(pt,It),rt.forEach(Jt=>ei(Jt,It))}),t.push(()=>{K.forEach((rt,pt)=>{const It=ne.get(pt);rt.forEach(Jt=>pl(Jt,It))}),_t.forEach((rt,pt)=>{const It=Lt.get(pt);rt.forEach(Jt=>pl(Jt,It))}),ke.forEach(rt=>{this.processLeaveNode(rt)})});const rr=[],Br=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(e).forEach(It=>{const Jt=It.player,Vr=It.element;if(rr.push(Jt),this.collectedEnterElements.length){const zl=Vr[Fr];if(zl&&zl.setForMove)return void Jt.destroy()}const $l=!P||!this.driver.containsElement(P,Vr),Ks=Lt.get(Vr),Id=ne.get(Vr),Yn=this._buildInstruction(It,r,Id,Ks,$l);if(Yn.errors&&Yn.errors.length)Br.push(Yn);else{if($l)return Jt.onStart(()=>Us(Vr,Yn.fromStyles)),Jt.onDestroy(()=>Er(Vr,Yn.toStyles)),void o.push(Jt);if(It.isFallbackTransition)return Jt.onStart(()=>Us(Vr,Yn.fromStyles)),Jt.onDestroy(()=>Er(Vr,Yn.toStyles)),void o.push(Jt);Yn.timelines.forEach(zl=>zl.stretchStartingKeyframe=!0),r.append(Vr,Yn.timelines),h.push({instruction:Yn,player:Jt,element:Vr}),Yn.queriedElements.forEach(zl=>Xn(_,zl,[]).push(Jt)),Yn.preStyleProps.forEach((zl,ev)=>{const UC=Object.keys(zl);if(UC.length){let Cf=E.get(ev);Cf||E.set(ev,Cf=new Set),UC.forEach(BI=>Cf.add(BI))}}),Yn.postStyleProps.forEach((zl,ev)=>{const UC=Object.keys(zl);let Cf=b.get(ev);Cf||b.set(ev,Cf=new Set),UC.forEach(BI=>Cf.add(BI))})}});if(Br.length){const rt=[];Br.forEach(pt=>{rt.push(`@${pt.triggerName} has failed due to:\n`),pt.errors.forEach(It=>rt.push(`- ${It}\n`))}),rr.forEach(pt=>pt.destroy()),this.reportError(rt)}const Hi=new Map,Gc=new Map;h.forEach(rt=>{const pt=rt.element;r.has(pt)&&(Gc.set(pt,pt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Hi))}),o.forEach(rt=>{const pt=rt.element;this._getPreviousPlayers(pt,!1,rt.namespaceId,rt.triggerName,null).forEach(Jt=>{Xn(Hi,pt,[]).push(Jt),Jt.destroy()})});const Kc=ke.filter(rt=>Mu(rt,E,b)),Zc=new Map;Zf(Zc,this.driver,gt,b,yr).forEach(rt=>{Mu(rt,E,b)&&Kc.push(rt)});const Xy=new Map;K.forEach((rt,pt)=>{Zf(Xy,this.driver,new Set(rt),E,"!")}),Kc.forEach(rt=>{const pt=Zc.get(rt),It=Xy.get(rt);Zc.set(rt,ht(ht({},pt),It))});const wf=[],RS=[],MS={};h.forEach(rt=>{const{element:pt,player:It,instruction:Jt}=rt;if(r.has(pt)){if(k.has(pt))return It.onDestroy(()=>Er(pt,Jt.toStyles)),It.disabled=!0,It.overrideTotalTime(Jt.totalTime),void o.push(It);let Vr=MS;if(Gc.size>1){let Ks=pt;const Id=[];for(;Ks=Ks.parentNode;){const Yn=Gc.get(Ks);if(Yn){Vr=Yn;break}Id.push(Ks)}Id.forEach(Yn=>Gc.set(Yn,Vr))}const $l=this._buildAnimation(It.namespaceId,Jt,Hi,c,Xy,Zc);if(It.setRealPlayer($l),Vr===MS)wf.push(It);else{const Ks=this.playersByElement.get(Vr);Ks&&Ks.length&&(It.parentPlayer=Xr(Ks)),o.push(It)}}else Us(pt,Jt.fromStyles),It.onDestroy(()=>Er(pt,Jt.toStyles)),RS.push(It),k.has(pt)&&o.push(It)}),RS.forEach(rt=>{const pt=c.get(rt.element);if(pt&&pt.length){const It=Xr(pt);rt.setRealPlayer(It)}}),o.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<ke.length;rt++){const pt=ke[rt],It=pt[Fr];if(pl(pt,mi),It&&It.hasAnimation)continue;let Jt=[];if(_.size){let $l=_.get(pt);$l&&$l.length&&Jt.push(...$l);let Ks=this.driver.query(pt,Ls,!0);for(let Id=0;Id<Ks.length;Id++){let Yn=_.get(Ks[Id]);Yn&&Yn.length&&Jt.push(...Yn)}}const Vr=Jt.filter($l=>!$l.destroyed);Vr.length?Dc(this,pt,Vr):this.processLeaveNode(pt)}return ke.length=0,wf.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const pt=this.players.indexOf(rt);this.players.splice(pt,1)}),rt.play()}),wf}elementContainsData(t,e){let r=!1;const o=e[Fr];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,c){let h=[];if(e){const _=this.playersByQueriedElement.get(t);_&&(h=_)}else{const _=this.playersByElement.get(t);if(_){const E=!c||c==ya;_.forEach(b=>{b.queued||!E&&b.triggerName!=o||h.push(b)})}}return(r||o)&&(h=h.filter(_=>!(r&&r!=_.namespaceId||o&&o!=_.triggerName))),h}_beforeAnimationBuild(t,e,r){const c=e.element,h=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const b=E.element,k=b!==c,P=Xn(r,b,[]);this._getPreviousPlayers(b,k,h,_,e.toState).forEach(K=>{const ne=K.getRealPlayer();ne.beforeDestroy&&ne.beforeDestroy(),K.destroy(),P.push(K)})}Us(c,e.fromStyles)}_buildAnimation(t,e,r,o,c,h){const _=e.triggerName,E=e.element,b=[],k=new Set,P=new Set,B=e.timelines.map(ne=>{const Ae=ne.element;k.add(Ae);const ke=Ae[Fr];if(ke&&ke.removedBeforeQueried)return new Jr(ne.duration,ne.delay);const nt=Ae!==E,gt=function(n){const t=[];return Qf(n,t),t}((r.get(Ae)||sh).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===Ae),Lt=c.get(Ae),_t=h.get(Ae),rr=ki(0,this._normalizer,0,ne.keyframes,Lt,_t),Br=this._buildPlayer(ne,rr,gt);if(ne.subTimeline&&o&&P.add(Ae),nt){const Hi=new oh(t,_,Ae);Hi.setRealPlayer(Br),b.push(Hi)}return Br});b.forEach(ne=>{Xn(this.playersByQueriedElement,ne.element,[]).push(ne),ne.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,ne.element,ne))}),k.forEach(ne=>ei(ne,Ff));const K=Xr(B);return K.onDestroy(()=>{k.forEach(ne=>pl(ne,Ff)),Er(E,e.toStyles)}),P.forEach(ne=>{Xn(o,ne,[]).push(K)}),K}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Jr(t.duration,t.delay)}}class oh{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Jr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>ao(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Xn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Cc(n){return n&&1===n.nodeType}function Ru(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Zf(n,t,e,r,o){const c=[];e.forEach(E=>c.push(Ru(E)));const h=[];r.forEach((E,b)=>{const k={};E.forEach(P=>{const B=k[P]=t.computeStyle(b,P,o);(!B||0==B.length)&&(b[Fr]=vc,h.push(b))}),n.set(b,k)});let _=0;return e.forEach(E=>Ru(E,c[_++])),h}function qf(n,t){const e=new Map;if(n.forEach(_=>e.set(_,[])),0==t.length)return e;const o=new Set(t),c=new Map;function h(_){if(!_)return 1;let E=c.get(_);if(E)return E;const b=_.parentNode;return E=e.has(b)?b:o.has(b)?1:h(b),c.set(_,E),E}return t.forEach(_=>{const E=h(_);1!==E&&e.get(E).push(_)}),e}const fl="$$classes";function ei(n,t){if(n.classList)n.classList.add(t);else{let e=n[fl];e||(e=n[fl]={}),e[t]=!0}}function pl(n,t){if(n.classList)n.classList.remove(t);else{let e=n[fl];e&&delete e[t]}}function Dc(n,t,e){Xr(e).onDone(()=>n.processLeaveNode(t))}function Qf(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof dc?Qf(r.players,t):t.push(r)}}function Mu(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(c=>o.add(c)):t.set(n,r),e.delete(n),!0}class gl{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new wc(t,e,r),this._timelineEngine=new nm(t,e,r),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(t,e,r,o,c){const h=t+"-"+o;let _=this._triggerCache[h];if(!_){const E=[],b=Vf(this._driver,c,E);if(E.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);_=function(n,t,e){return new Xg(n,t,e)}(o,b,this._normalizer),this._triggerCache[h]=_}this._transitionEngine.registerTrigger(e,o,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[c,h]=pu(r);this._timelineEngine.command(c,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,c){if("@"==r.charAt(0)){const[h,_]=pu(r);return this._timelineEngine.listen(h,e,_,c)}return this._transitionEngine.listen(t,e,r,o,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ou(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=bc(t[0]),t.length>1&&(r=bc(t[t.length-1]))):t&&(e=bc(t)),e||r?new am(n,e,r):null}let am=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Er(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Er(this._element,this._initialStyles),this._endStyles&&(Er(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Us(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Us(this._element,this._endStyles),this._endStyles=null),Er(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bc(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const o=e[r];lm(o)&&(t=t||{},t[o]=n[o])}return t}function lm(n){return"display"===n||"position"===n}const va="animation",ah="animationend";class lh{constructor(t,e,r,o,c,h,_){this._element=t,this._name=e,this._duration=r,this._delay=o,this._easing=c,this._fillMode=h,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(n,t){const e=Ic(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),ni(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Vs(this._element,this._name,"paused")}resume(){Vs(this._element,this._name,"running")}setPosition(t){const e=dm(this._element,this._name);this._position=t*this._duration,ni(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=Ic(n,"").split(","),o=Pi(r,t);o>=0&&(r.splice(o,1),ni(n,"",r.join(",")))}(this._element,this._name))}}function Vs(n,t,e){ni(n,"PlayState",e,dm(n,t))}function dm(n,t){const e=Ic(n,"");return e.indexOf(",")>0?Pi(e.split(","),t):Pi([e],t)}function Pi(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function Xf(n,t,e){e?n.removeEventListener(ah,t):n.addEventListener(ah,t)}function ni(n,t,e,r){const o=va+t;if(null!=r){const c=n.style[o];if(c.length){const h=c.split(",");h[r]=e,e=h.join(",")}}n.style[o]=e}function Ic(n,t){return n.style[va+t]||""}class fo{constructor(t,e,r,o,c,h,_,E){this.element=t,this.keyframes=e,this.animationName=r,this._duration=o,this._delay=c,this._finalStyles=_,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lh(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:Qd(this.element,r))})}this.currentSnapshot=t}}class ku extends Jr{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=cr(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class po{constructor(){this._count=0}validateStyleProperty(t){return Re(t)}matchesElement(t,e){return ze(t,e)}containsElement(t,e){return Tt(t,e)}query(t,e,r){return jt(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(_=>cr(_));let o=`@keyframes ${e} {\n`,c="";r.forEach(_=>{c=" ";const E=parseFloat(_.offset);o+=`${c}${100*E}% {\n`,c+=" ",Object.keys(_).forEach(b=>{const k=_[b];switch(b){case"offset":return;case"easing":return void(k&&(o+=`${c}animation-timing-function: ${k};\n`));default:return void(o+=`${c}${b}: ${k};\n`)}}),o+=`${c}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(t,e,r,o,c,h=[],_){const E=h.filter(ke=>ke instanceof fo),b={};qd(r,o)&&E.forEach(ke=>{let nt=ke.currentSnapshot;Object.keys(nt).forEach(gt=>b[gt]=nt[gt])});const k=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(t[o]=r[o])})}),t}(e=Yd(t,e,b));if(0==r)return new ku(t,k);const P="gen_css_kf_"+this._count++,B=this.buildKeyframeElement(t,P,e);(function(n){var e;const t=null==(e=n.getRootNode)?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(B);const ne=Ou(t,e),Ae=new fo(t,e,P,r,o,c,k,ne);return Ae.onDestroy(()=>{var n;(n=B).parentNode.removeChild(n)}),Ae}}class np{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Qd(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class dh{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(m().toString()),this._cssKeyframesDriver=new po}validateStyleProperty(t){return Re(t)}matchesElement(t,e){return ze(t,e)}containsElement(t,e){return Tt(t,e)}query(t,e,r){return jt(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,o,c,h=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,o,c,h);const k={duration:r,delay:o,fill:0==o?"both":"forwards"};c&&(k.easing=c);const P={},B=h.filter(ne=>ne instanceof np);qd(r,o)&&B.forEach(ne=>{let Ae=ne.currentSnapshot;Object.keys(Ae).forEach(ke=>P[ke]=Ae[ke])});const K=Ou(t,e=Yd(t,e=e.map(ne=>rs(ne,!1)),P));return new np(t,e,k,K)}}function m(){return hc()&&Element.prototype.animate||{}}let d=(()=>{class n extends Qr{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?il(e):e;return T(this._renderer,null,r,"register",[o]),new f(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class f extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new v(this._id,t,e||{},this._renderer)}}class v{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return T(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!=(e=null==(t=this._renderer.engine.players[+this.id])?void 0:t.getPosition())?e:0}}function T(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const R="@",j="@.disabled";let ie=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,h)=>{const _=null==h?void 0:h.parentNode(c);_&&h.removeChild(_,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let k=this._rendererCache.get(c);return k||(k=new Pe("",c,this.engine),this._rendererCache.set(c,k)),k}const h=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,e);const E=k=>{Array.isArray(k)?k.forEach(E):this.engine.registerTrigger(h,_,e,k.name,k)};return r.data.animation.forEach(E),new Oe(this,_,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,_]=c;h(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(gl),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Pe{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){e.charAt(0)==R&&e==j?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Oe extends Pe{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){e.charAt(0)==R?"."==e.charAt(1)&&e==j?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if(e.charAt(0)==R){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),h="";return c.charAt(0)!=R&&([c,h]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,o,c,h,_=>{this.factory.scheduleListenerCallback(_._data||-1,r,_)})}return this.delegate.listen(t,e,r)}}let Mt=(()=>{class n extends gl{constructor(e,r,o){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(oe),g.LFG(pn),g.LFG(bu))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=new g.OlP("AnimationModuleType"),yl=[{provide:Qr,useClass:d},{provide:bu,useFactory:function(){return new Iu}},{provide:gl,useClass:Mt},{provide:g.FYo,useFactory:function(n,t,e){return new ie(n,t,e)},deps:[Ai,gl,g.R0b]}],hh=[{provide:pn,useFactory:function(){return"function"==typeof m()?new dh:new po}},{provide:Pu,useValue:"BrowserAnimations"},...yl],Nu=[{provide:pn,useClass:er},{provide:Pu,useValue:"NoopAnimations"},...yl];let fh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Nu:hh}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:hh,imports:[to]}),n})();var Dr=N(7905),Sc=N(2210),vl=N(3719),Ea=N(3174),wa=N(9985);function dr(n,t){return(0,Jn.e)((e,r)=>{let o=null,c=0,h=!1;const _=()=>h&&!o&&r.complete();e.subscribe(new _n.Q(r,E=>{null==o||o.unsubscribe();let b=0;const k=c++;(0,wa.Xf)(n(E,k)).subscribe(o=new _n.Q(r,P=>r.next(t?t(E,P,k,b++):P),()=>{o=null,_()}))},()=>{h=!0,_()}))})}function lv(n,t,e,r,o){return(c,h)=>{let _=e,E=t,b=0;c.subscribe(new _n.Q(h,k=>{const P=b++;E=_?n(E,k,P):(_=!0,k),r&&h.next(E)},o&&(()=>{_&&h.next(E),h.complete()})))}}function xu(n,t){return(0,Jn.e)(lv(n,t,arguments.length>=2,!0))}var go=N(4623);function cv(n,t){return n===t}var uv=N(6921),wi=N(7233),VI=(N(8694),N(6293)),El=N(1177),Ac=N(8239),wl=N(1572),L=N(4213),ip=N(3855);const os="@firebase/database";let sp="";function fv(n){sp=n}class HC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class $C{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const pv=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new HC(t)}}catch(t){}return new $C},Cl=pv("localStorage"),gm=pv("sessionStorage"),Fu=new ip.Yd("@firebase/database"),gv=function(){let n=1;return function(){return n++}}(),Ct=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const r=e.digest();return L.US.encodeByteArray(r)},Lu=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Lu.apply(null,r):t+="object"==typeof r?(0,L.Pz)(r):r,t+=" "}return t};let Dl=null,mm=!0;const ph=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Fu.logLevel=ip.in.VERBOSE,Dl=Fu.log.bind(Fu),t&&gm.set("logging_enabled",!0)):"function"==typeof n?Dl=n:(Dl=null,gm.remove("logging_enabled"))},hn=function(...n){if(!0===mm&&(mm=!1,null===Dl&&!0===gm.get("logging_enabled")&&ph(!0)),Dl){const t=Lu.apply(null,n);Dl(t)}},Uu=function(n){return function(...t){hn(n,...t)}},_m=function(...n){const t="FIREBASE INTERNAL ERROR: "+Lu(...n);Fu.error(t)},as=function(...n){const t=`FIREBASE FATAL ERROR: ${Lu(...n)}`;throw Fu.error(t),new Error(t)},On=function(...n){const t="FIREBASE WARNING: "+Lu(...n);Fu.warn(t)},gh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},bl="[MIN_NAME]",Hs="[MAX_NAME]",Bu=function(n,t){if(n===t)return 0;if(n===bl||t===Hs)return-1;if(t===bl||n===Hs)return 1;{const e=lp(n),r=lp(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},op=function(n,t){return n===t?0:n<t?-1:1},Il=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(t))},mh=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,L.Pz)(t[r]),e+=":",e+=mh(n[t[r]]);return e+="}",e},ap=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function qn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const zC=function(n){(0,L.hu)(!gh(n),"Invalid JSON number");const r=1023;let o,c,h,_,E;0===n?(c=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=_+r,h=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(c=0,h=Math.round(n/Math.pow(2,-1074))));const b=[];for(E=52;E;E-=1)b.push(h%2?1:0),h=Math.floor(h/2);for(E=11;E;E-=1)b.push(c%2?1:0),c=Math.floor(c/2);b.push(o?1:0),b.reverse();const k=b.join("");let P="";for(E=0;E<64;E+=8){let B=parseInt(k.substr(E,8),2).toString(16);1===B.length&&(B="0"+B),P+=B}return P.toLowerCase()},ZC=new RegExp("^-?(0*)\\d{1,10}$"),Em=-2147483648,mv=2147483647,lp=function(n){if(ZC.test(n)){const t=Number(n);if(t>=Em&&t<=mv)return t}return null},_h=function(n){try{n()}catch(t){setTimeout(()=>{throw On("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Vu=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class qC{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wm{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(hn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(t)}}let cp=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const eD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ca="websocket",up="long_polling";class Dm{constructor(t,e,r,o,c=!1,h="",_=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Cl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dp(n,t,e){let r;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===Ca)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==up)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return qn(e,(c,h)=>{o.push(c+"="+h)}),r+o.join("&")}class Ev{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const yh={},bm={};function mo(n){const t=n.toString();return yh[t]||(yh[t]=new Ev),yh[t]}class nD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&_h(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Da{constructor(t,e,r,o,c,h,_){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uu(t),this.stats_=mo(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),dp(e,up,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new nD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mm((...c)=>{const[h,_,E,b,k]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=_,this.password=E;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,_]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&eD.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Da.forceAllow_=!0}static forceDisallow(){Da.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Da.forceAllow_&&(Da.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,L.h$)(e),o=ap(r,1840);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Mm{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=gv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Mm.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){hn("frame writing exception"),_.stack&&hn(_.stack),hn(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||hn("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{hn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let zu=null;"undefined"!=typeof MozWebSocket?zu=MozWebSocket:"undefined"!=typeof WebSocket&&(zu=WebSocket);let Wu=(()=>{class n{constructor(e,r,o,c,h,_,E){this.connId=e,this.applicationId=o,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uu(this.connId),this.stats_=mo(r),this.connURL=n.connectionURL_(r,_,E,c),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,c){const h={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&eD.test(location.hostname)&&(h.r="f"),r&&(h.s=r),o&&(h.ls=o),c&&(h.ac=c),dp(e,Ca,h)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cl.set("previous_websocket_failure",!0);try{if((0,L.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${sp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,_=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;_&&(c.proxy={origin:_}),this.mySock=new zu(this.connURL,[],c)}else this.mySock=new zu(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==zu&&!n.forceDisallow_}static previouslyFailed(){return Cl.isInMemoryStorage||!0===Cl.get("previous_websocket_failure")}markConnectionHealthy(){Cl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,L.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,L.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=ap(r,16384);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Om{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Da,Wu]}initTransports_(t){const e=Wu&&Wu.isAvailable();let r=e&&!Wu.previouslyFailed();if(t.webSocketOnly&&(e||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wu];else{const o=this.transports_=[];for(const c of Om.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Mv{constructor(t,e,r,o,c,h,_,E,b,k){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=E,this.onKill_=b,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uu("c:"+this.id+":"),this.transportManager_=new Om(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Vu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Il("t",t),r=Il("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Il("t",t),r=Il("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Il("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?_m("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_m("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Vu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ov{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class Nm{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===e&&(!r||r===o[c].context))return void o.splice(c,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class pp extends Nm{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pp}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class rn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new rn("")}function At(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Tl(n){return n.pieces_.length-n.pieceNum_}function Ft(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new rn(n.pieces_,t)}function Eh(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function wh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function hD(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new rn(t,0)}function Cn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof rn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new rn(e,0)}function Ot(n){return n.pieceNum_>=n.pieces_.length}function ri(n,t){const e=At(n),r=At(t);if(null===e)return t;if(e===r)return ri(Ft(n),Ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function fD(n,t){const e=wh(n,0),r=wh(t,0);for(let o=0;o<e.length&&o<r.length;o++){const c=Bu(e[o],r[o]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function Ch(n,t){if(Tl(n)!==Tl(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function ls(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Tl(n)>Tl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class pD{constructor(t,e){this.errorPrefix_=e,this.parts_=wh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,L.ug)(this.parts_[r]);Pv(this)}}function Pv(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ba(n))}function ba(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Dh extends Nm{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Dh}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Gu=1e3;let cs,Sl=(()=>{class n extends Ov{constructor(e,r,o,c,h,_,E,b){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=E,this.authOverride_=b,this.id=n.nextPersistentConnectionId_++,this.log_=Uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dh.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&pp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const c=++this.requestNumber_,h={r:c,a:e,b:r};this.log_((0,L.Pz)(h)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[c]=o)}get(e){this.initConnection_();const r=new L.BH,o={p:e._path.toString(),q:e._queryObject},c={action:"g",request:o,onComplete:_=>{const E=_.d;"ok"===_.s?(this.onDataUpdate_(o.p,E,!1,null),r.resolve(E)):r.reject(E)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[h];void 0===_||c!==_||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),r.promise}listen(e,r,o,c){this.initConnection_();const h=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+h),this.listens.has(_)||this.listens.set(_,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(_).has(h),"listen() called twice for same path/queryId.");const E={onComplete:c,hashFn:r,query:e,tag:o};this.listens.get(_).set(h,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+o+" for "+c);const h={p:o};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,E=>{const b=E.d,k=E.s;n.warnOnListenWarnings_(b,r),(this.listens.get(o)&&this.listens.get(o).get(c))===e&&(this.log_("listen response",E),"ok"!==k&&this.removeListen_(o,c),e.onComplete&&e.onComplete(k,b))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const o=(0,L.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,L.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,c=>{const h=c.s,_=c.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,e._queryObject,r)}sendUnlisten_(e,r,o,c){this.log_("Unlisten on "+e+" for "+r);const h={p:e};c&&(h.q=o,h.t=c),this.sendRequest("n",h)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,c){const h={p:r,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(e,r,o,c){this.putInternal("p",e,r,o,c)}merge(e,r,o,c){this.putInternal("m",e,r,o,c)}putInternal(e,r,o,c,h){this.initConnection_();const _={p:r,d:o};void 0!==h&&(_.h=h),this.outstandingPuts_.push({action:e,request:_,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Pz)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):_m("Unrecognized action received from server: "+(0,L.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ac.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let E=!1,b=null;const k=function(){b?b.close():(E=!0,c())};e.realtime_={close:k,sendRequest:function(K){(0,L.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(K)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,ne]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);E?hn("getToken() completed but was canceled"):(hn("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=ne&&ne.token,b=new Mv(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,c,Ae=>{On(Ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(K){e.log_("Failed to get token: "+K),E||(e.repoInfo_.nodeAdmin&&On(K),k())}}})()}interrupt(e){hn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(h=>mh(h)).join("$"):"default";const c=this.removeListen_(e,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const o=new rn(e).toString();let c;if(this.listens.has(o)){const h=this.listens.get(o);c=h.get(r),h.delete(r),0===h.size&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(e,r){hn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){hn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,L.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+sp.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pp.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kt(t,e)}}class bh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new kt(bl,t),o=new kt(bl,e);return 0!==this.compare(r,o)}minPost(){return kt.MIN}}class Ih extends bh{static get __EMPTY_NODE(){return cs}static set __EMPTY_NODE(t){cs=t}compare(t,e){return Bu(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(Hs,cs)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,cs)}toString(){return".key"}}const _o=new Ih;class _p{constructor(t,e,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?r(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Vm,yo=(()=>{class n{constructor(e,r,o,c,h){this.key=e,this.value=r,this.color=null!=o?o:n.RED,this.left=null!=c?c:ii.EMPTY_NODE,this.right=null!=h?h:ii.EMPTY_NODE}copy(e,r,o,c,h){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const h=o(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ii.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,c;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return ii.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ii{constructor(t,e=ii.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ii(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,yo.BLACK,null,null))}remove(t){return new ii(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yo.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _p(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new _p(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new _p(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new _p(this.root_,null,this.comparator_,!0,t)}}function Bm(n,t){return Bu(n.name,t.name)}function Mc(n,t){return Bu(n,t)}ii.EMPTY_NODE=new class{copy(t,e,r,o,c){return this}insert(t,e,r){return new yo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Hm=function(n){return"number"==typeof n?"number:"+zC(n):"string:"+n},$m=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===Vm||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===Vm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zm,yp,xv,Ku=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$m(this.priorityNode_)}static set __childrenNodeConstructor(e){zm=e}static get __childrenNodeConstructor(){return zm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:".priority"===At(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=At(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,L.hu)(".priority"!==o||1===Tl(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Hm(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?zC(this.value_):this.value_,this.lazyHash_=Ct(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,L.hu)(c>=0,"Unknown leaf type: "+r),(0,L.hu)(h>=0,"Unknown leaf type: "+o),c===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class extends bh{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),c=r.compareTo(o);return 0===c?Bu(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(Hs,new Ku("[PRIORITY-POST]",xv))}makePost(t,e){const r=yp(t);return new kt(e,new Ku("[PRIORITY-POST]",r))}toString(){return".priority"}},vD=Math.log(2);class ED{constructor(t){this.count=parseInt(Math.log(t+1)/vD,10),this.current_=this.count-1;const o=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ia=function(n,t,e,r){n.sort(t);const o=function(E,b){const k=b-E;let P,B;if(0===k)return null;if(1===k)return P=n[E],B=e?e(P):P,new yo(B,P.node,yo.BLACK,null,null);{const K=parseInt(k/2,10)+E,ne=o(E,K),Ae=o(K+1,b);return P=n[K],B=e?e(P):P,new yo(B,P.node,yo.BLACK,ne,Ae)}},_=function(E){let b=null,k=null,P=n.length;const B=function(ne,Ae){const ke=P-ne,nt=P;P-=ne;const gt=o(ke+1,nt),Lt=n[ke],_t=e?e(Lt):Lt;K(new yo(_t,Lt.node,Ae,null,gt))},K=function(ne){b?(b.left=ne,b=ne):(k=ne,b=ne)};for(let ne=0;ne<E.count;++ne){const Ae=E.nextBitIsOne(),ke=Math.pow(2,E.count-(ne+1));Ae?B(ke,yo.BLACK):(B(ke,yo.BLACK),B(ke,yo.RED))}return k}(new ED(n.length));return new ii(r||t,_)};let Wm;const qu={};class Ta{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(qu&&gn,"ChildrenNode.ts has not been loaded"),Wm=Wm||new Ta({".priority":qu},{".priority":gn}),Wm}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ii?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==_o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=e.getIterator(kt.Wrap);let _,h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=c.getNext();_=o?Ia(r,t.getCompare()):qu;const E=t.toString(),b=Object.assign({},this.indexSet_);b[E]=t;const k=Object.assign({},this.indexes_);return k[E]=_,new Ta(k,b)}addToIndexes(t,e){const r=(0,L.UI)(this.indexes_,(o,c)=>{const h=(0,L.DV)(this.indexSet_,c);if((0,L.hu)(h,"Missing index implementation for "+c),o===qu){if(h.isDefinedOn(t.node)){const _=[],E=e.getIterator(kt.Wrap);let b=E.getNext();for(;b;)b.name!==t.name&&_.push(b),b=E.getNext();return _.push(t),Ia(_,h.getCompare())}return qu}{const _=e.get(t.name);let E=o;return _&&(E=E.remove(new kt(t.name,_))),E.insert(t,t.node)}});return new Ta(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,L.UI)(this.indexes_,o=>{if(o===qu)return o;{const c=e.get(t.name);return c?o.remove(new kt(t.name,c)):o}});return new Ta(r,this.indexSet_)}}let Th,ut=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&$m(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Th||(Th=new n(new ii(Mc),null,Ta.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Th}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Th:r}}getChild(e){const r=At(e);return null===r?this:this.getImmediateChild(r).getChild(Ft(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,L.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new kt(e,r);let c,h;r.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(o,this.children_));const _=c.isEmpty()?Th:this.priorityNode_;return new n(c,_,h)}}updateChild(e,r){const o=At(e);if(null===o)return r;{(0,L.hu)(".priority"!==At(e)||1===Tl(e),".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(Ft(e),r);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,c=0,h=!0;if(this.forEachChild(gn,(_,E)=>{r[_]=E.val(e),o++,h&&n.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):h=!1}),!e&&h&&c<2*o){const _=[];for(const E in r)_[E]=r[E];return _}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Hm(this.getPriority().val())+":"),this.forEachChild(gn,(r,o)=>{const c=o.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":Ct(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const c=this.resolveIndex_(o);if(c){const h=c.getPredecessorKey(new kt(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new kt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new kt(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,kt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yu?-1:0}withIndex(e){if(e===_o||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===_o||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(gn),c=r.getIterator(gn);let h=o.getNext(),_=c.getNext();for(;h&&_;){if(h.name!==_.name||!h.node.equals(_.node))return!1;h=o.getNext(),_=c.getNext()}return null===h&&null===_}return!1}return!1}}resolveIndex_(e){return e===_o?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Yu=new class extends ut{constructor(){super(new ii(Mc),ut.EMPTY_NODE,Ta.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ut.EMPTY_NODE}isEmpty(){return!1}};function Tn(n,t=null){if(null===n)return ut.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ku(n,Tn(t));if(n instanceof Array){let e=ut.EMPTY_NODE;return qn(n,(r,o)=>{if((0,L.r3)(n,r)&&"."!==r.substring(0,1)){const c=Tn(o);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Tn(t))}{const e=[];let r=!1;if(qn(n,(h,_)=>{if("."!==h.substring(0,1)){const E=Tn(_);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new kt(h,E)))}}),0===e.length)return ut.EMPTY_NODE;const c=Ia(e,Bm,h=>h.name,Mc);if(r){const h=Ia(e,gn.getCompare());return new ut(c,Tn(t),new Ta({".priority":h},{".priority":gn}))}return new ut(c,Tn(t),Ta.Default)}}Object.defineProperties(kt,{MIN:{value:new kt(bl,ut.EMPTY_NODE)},MAX:{value:new kt(Hs,Yu)}}),Ih.__EMPTY_NODE=ut.EMPTY_NODE,Ku.__childrenNodeConstructor=ut,Vm=Yu,xv=Yu,function(n){yp=n}(Tn);class vp extends bh{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!Ot(t)&&".priority"!==At(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),c=r.compareTo(o);return 0===c?Bu(t.name,e.name):c}makePost(t,e){const r=Tn(t),o=ut.EMPTY_NODE.updateChild(this.indexPath_,r);return new kt(e,o)}maxPost(){const t=ut.EMPTY_NODE.updateChild(this.indexPath_,Yu);return new kt(Hs,t)}toString(){return wh(this.indexPath_,0).join("/")}}const Km=new class extends bh{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Bu(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,e){const r=Tn(t);return new kt(e,r)}toString(){return".value"}},Qu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Uv=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const c=new Array(8);for(o=7;o>=0;o--)c[o]=Qu.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let h=c.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Qu.charAt(t[o]);return(0,L.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),Bv=function(n){if(n===""+mv)return"-";const t=lp(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return Hs;const c=Qu.charAt(Qu.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},Vv=function(n){if(n===""+Em)return bl;const t=lp(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+mv:(delete e[e.length-1],e.join("")):(e[e.length-1]=Qu.charAt(Qu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function DD(n){return{type:"value",snapshotNode:n}}function Sh(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Oc(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ah(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Ep{constructor(t){this.index_=t}updateChild(t,e,r,o,c,h){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(o).equals(r.getChild(o))&&_.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(Oc(e,_)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(Sh(e,r)):h.trackChildChange(Ah(e,r,_))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(gn,(o,c)=>{e.hasChild(o)||r.trackChildChange(Oc(o,c))}),e.isLeafNode()||e.forEachChild(gn,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||r.trackChildChange(Ah(o,c,h))}else r.trackChildChange(Sh(o,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ut.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wp{constructor(t){this.indexedFilter_=new Ep(t.getIndex()),this.index_=t.getIndex(),this.startPost_=wp.getStartPost_(t),this.endPost_=wp.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,c,h){return this.matches(new kt(e,r))||(r=ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,c,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=ut.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(ut.EMPTY_NODE);const c=this;return e.forEachChild(gn,(h,_)=>{c.matches(new kt(h,_))||(o=o.updateImmediateChild(h,ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class $s{constructor(t){this.rangedFilter_=new wp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,c,h){return this.rangedFilter_.matches(new kt(e,r))||(r=ut.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,c,h):this.fullLimitUpdateChild_(t,e,r,c,h)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;o=ut.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const _=c.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!E)break;o=o.updateImmediateChild(_.name,_.node),h++}}else{let c,h,_,E;if(o=e.withIndex(this.index_),o=o.updatePriority(ut.EMPTY_NODE),this.reverse_){E=o.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const P=this.index_.getCompare();_=(B,K)=>P(K,B)}else E=o.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let b=0,k=!1;for(;E.hasNext();){const P=E.getNext();!k&&_(c,P)<=0&&(k=!0),k&&b<this.limit_&&_(P,h)<=0?b++:o=o.updateImmediateChild(P.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,c){let h;if(this.reverse_){const P=this.index_.getCompare();h=(B,K)=>P(K,B)}else h=this.index_.getCompare();const _=t;(0,L.hu)(_.numChildren()===this.limit_,"");const E=new kt(e,r),b=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),k=this.rangedFilter_.matches(E);if(_.hasChild(e)){const P=_.getImmediateChild(e);let B=o.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=B&&(B.name===e||_.hasChild(B.name));)B=o.getChildAfterChild(this.index_,B,this.reverse_);const K=null==B?1:h(B,E);if(k&&!r.isEmpty()&&K>=0)return null!=c&&c.trackChildChange(Ah(e,r,P)),_.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(Oc(e,P));const Ae=_.updateImmediateChild(e,ut.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(null!=c&&c.trackChildChange(Sh(B.name,B.node)),Ae.updateImmediateChild(B.name,B.node)):Ae}}return r.isEmpty()?t:k&&h(b,E)>=0?(null!=c&&(c.trackChildChange(Oc(b.name,b.node)),c.trackChildChange(Sh(e,r))),_.updateImmediateChild(e,r).updateImmediateChild(b.name,ut.EMPTY_NODE)):t}}class Ym{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new Ym;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Cp(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function zv(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ju(n,t){const e=n.copy();return e.index_=t,e}function Gv(n){const t={};if(n.isDefault())return t;let e;return n.index_===gn?e="$priority":n.index_===Km?e="$value":n.index_===_o?e="$key":((0,L.hu)(n.index_ instanceof vp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Pz)(e),n.startSet_&&(t.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Dp(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class bp extends Ov{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Uu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=bp.getListenId_(t,r),_={};this.listens_[h]=_;const E=Gv(t._queryParams);this.restRequest_(c+".json",E,(b,k)=>{let P=k;if(404===b&&(P=null,b=null),null===b&&this.onDataUpdate_(c,P,!1,r),(0,L.DV)(this.listens_,h)===_){let B;B=b?401===b?"permission_denied":"rest_error:"+b:"ok",o(B,null)}})}unlisten(t,e){const r=bp.getListenId_(t,e);delete this.listens_[r]}get(t){const e=Gv(t._queryParams),r=t._path.toString(),o=new L.BH;return this.restRequest_(r+".json",e,(c,h)=>{let _=h;404===c&&(_=null,c=null),null===c?(this.onDataUpdate_(r,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(e.auth=o.accessToken),c&&c.token&&(e.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&4===_.readyState){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let E=null;if(_.status>=200&&_.status<300){try{E=(0,L.cI)(_.responseText)}catch(b){On("Failed to parse JSON response for "+h+": "+_.responseText)}r(null,E)}else 401!==_.status&&404!==_.status&&On("Got unsuccessful REST response for "+h+" Status: "+_.status),r(_.status);r=null}},_.open("GET",h,!0),_.send()})}}class ID{constructor(){this.rootNode_=ut.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Ip(){return{value:null,children:new Map}}function Xu(n,t,e){if(Ot(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=At(t);n.children.has(r)||n.children.set(r,Ip()),Xu(n.children.get(r),t=Ft(t),e)}}function Qm(n,t){if(Ot(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(r,o)=>{Xu(n,new rn(r),o)}),Qm(n,t)}}if(n.children.size>0){const e=At(t);return t=Ft(t),n.children.has(e)&&Qm(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Jm(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{Jm(o,new rn(t.toString()+"/"+r),e)})}class ed{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&qn(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class SD{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ed(t);const r=1e4+2e4*Math.random();Vu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;qn(t,(o,c)=>{c>0&&(0,L.r3)(this.statsToReport_,o)&&(e[o]=c,r=!0)}),r&&this.server_.reportStats(e),Vu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ci=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ci||(Ci={})),Ci))();function hr(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vo{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Ci.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ot(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new rn(t));return new vo(Wt(),e,this.revert)}}return(0,L.hu)(At(this.path)===t,"operationForChild called for unrelated child."),new vo(Ft(this.path),this.affectedTree,this.revert)}}class Al{constructor(t,e){this.source=t,this.path=e,this.type=Ci.LISTEN_COMPLETE}operationForChild(t){return Ot(this.path)?new Al(this.source,Wt()):new Al(this.source,Ft(this.path))}}class fr{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Ci.OVERWRITE}operationForChild(t){return Ot(this.path)?new fr(this.source,Wt(),this.snap.getImmediateChild(t)):new fr(this.source,Ft(this.path),this.snap)}}class Rl{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Ci.MERGE}operationForChild(t){if(Ot(this.path)){const e=this.children.subtree(new rn(t));return e.isEmpty()?null:e.value?new fr(this.source,Wt(),e.value):new Rl(this.source,Wt(),e)}return(0,L.hu)(At(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rl(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xi{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ot(t))return this.isFullyInitialized()&&!this.filtered_;const e=At(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class td{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Eo(n,t,e,r,o,c){const h=r.filter(_=>_.type===e);h.sort((_,E)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const r=new kt(t.childName,t.snapshotNode),o=new kt(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,_,E)),h.forEach(_=>{const E=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,c);o.forEach(b=>{b.respondsTo(_.type)&&t.push(b.createEvent(E,n.query_))})})}function Sa(n,t){return{eventCache:n,serverCache:t}}function wo(n,t,e,r){return Sa(new xi(t,e,r),n.serverCache)}function Pc(n,t,e,r){return Sa(n.eventCache,new xi(t,e,r))}function Mh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ml(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Sp;class mn{constructor(t,e=(()=>(Sp||(Sp=new ii(op)),Sp))()){this.value=t,this.children=e}static fromObject(t){let e=new mn(null);return qn(t,(r,o)=>{e=e.set(new rn(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Ot(t))return null;{const r=At(t),o=this.children.get(r);if(null!==o){const c=o.findRootMostMatchingPathAndValue(Ft(t),e);return null!=c?{path:Cn(new rn(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ot(t))return this;{const e=At(t),r=this.children.get(e);return null!==r?r.subtree(Ft(t)):new mn(null)}}set(t,e){if(Ot(t))return new mn(e,this.children);{const r=At(t),c=(this.children.get(r)||new mn(null)).set(Ft(t),e),h=this.children.insert(r,c);return new mn(this.value,h)}}remove(t){if(Ot(t))return this.children.isEmpty()?new mn(null):new mn(null,this.children);{const e=At(t),r=this.children.get(e);if(r){const o=r.remove(Ft(t));let c;return c=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&c.isEmpty()?new mn(null):new mn(this.value,c)}return this}}get(t){if(Ot(t))return this.value;{const e=At(t),r=this.children.get(e);return r?r.get(Ft(t)):null}}setTree(t,e){if(Ot(t))return e;{const r=At(t),c=(this.children.get(r)||new mn(null)).setTree(Ft(t),e);let h;return h=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new mn(this.value,h)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(Cn(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(Ot(t))return null;{const c=At(t),h=this.children.get(c);return h?h.findOnPath_(Ft(t),Cn(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,r){if(Ot(t))return this;{this.value&&r(e,this.value);const o=At(t),c=this.children.get(o);return c?c.foreachOnPath_(Ft(t),Cn(e,o),r):new mn(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(Cn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class ds{constructor(t){this.writeTree_=t}static empty(){return new ds(new mn(null))}}function sd(n,t,e){if(Ot(t))return new ds(new mn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let c=r.value;const h=ri(o,t);return c=c.updateChild(h,e),new ds(n.writeTree_.set(o,c))}{const o=new mn(e),c=n.writeTree_.setTree(t,o);return new ds(c)}}}function Ap(n,t,e){let r=n;return qn(e,(o,c)=>{r=sd(r,Cn(t,o),c)}),r}function Xm(n,t){if(Ot(t))return ds.empty();{const e=n.writeTree_.setTree(t,new mn(null));return new ds(e)}}function e_(n,t){return null!=Ol(n,t)}function Ol(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ri(e.path,t)):null}function qv(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(r,o)=>{t.push(new kt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new kt(r,o.value))}),t}function kl(n,t){if(Ot(t))return n;{const e=Ol(n,t);return new ds(null!=e?new mn(e):n.writeTree_.subtree(t))}}function Rp(n){return n.writeTree_.isEmpty()}function od(n,t){return Yv(Wt(),n.writeTree_,t)}function Yv(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,c)=>{".priority"===o?((0,L.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=Yv(Cn(n,o),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Cn(n,".priority"),r)),e}}function Oh(n,t){return tE(t,n)}function GI(n,t){if(n.snap)return ls(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ls(Cn(n.path,e),t))return!0;return!1}function t_(n){return n.visible}function Mp(n,t,e){let r=ds.empty();for(let o=0;o<n.length;++o){const c=n[o];if(t(c)){const h=c.path;let _;if(c.snap)ls(e,h)?(_=ri(e,h),r=sd(r,_,c.snap)):ls(h,e)&&(_=ri(h,e),r=sd(r,Wt(),c.snap.getChild(_)));else{if(!c.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(ls(e,h))_=ri(e,h),r=Ap(r,_,c.children);else if(ls(h,e))if(_=ri(h,e),Ot(_))r=Ap(r,Wt(),c.children);else{const E=(0,L.DV)(c.children,At(_));if(E){const b=E.getChild(Ft(_));r=sd(r,Wt(),b)}}}}}return r}function Jv(n,t,e,r,o){if(r||o){const c=kl(n.visibleWrites,t);return!o&&Rp(c)?e:o||null!=e||e_(c,Wt())?od(Mp(n.allWrites,function(b){return(b.visible||o)&&(!r||!~r.indexOf(b.writeId))&&(ls(b.path,t)||ls(t,b.path))},t),e||ut.EMPTY_NODE):null}{const c=Ol(n.visibleWrites,t);if(null!=c)return c;{const h=kl(n.visibleWrites,t);return Rp(h)?e:null!=e||e_(h,Wt())?od(h,e||ut.EMPTY_NODE):null}}}function Op(n,t,e,r){return Jv(n.writeTree,n.treePath,t,e,r)}function Pl(n,t){return function(n,t,e){let r=ut.EMPTY_NODE;const o=Ol(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(gn,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(e){const c=kl(n.visibleWrites,t);return e.forEachChild(gn,(h,_)=>{const E=od(kl(c,new rn(h)),_);r=r.updateImmediateChild(h,E)}),qv(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return qv(kl(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function eE(n,t,e,r){return function(n,t,e,r,o){(0,L.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=Cn(t,e);if(e_(n.visibleWrites,c))return null;{const h=kl(n.visibleWrites,c);return Rp(h)?o.getChild(e):od(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function kh(n,t){return function(n,t){return Ol(n.visibleWrites,t)}(n.writeTree,Cn(n.treePath,t))}function kp(n,t,e){return function(n,t,e,r){const o=Cn(t,e),c=Ol(n.visibleWrites,o);return null!=c?c:r.isCompleteForChild(e)?od(kl(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Ph(n,t){return tE(Cn(n.treePath,t),n.writeTree)}function tE(n,t){return{treePath:n,writeTree:t}}class nE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Ah(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,Oc(r,o.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,Sh(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,Ah(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const rE=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class n_{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kp(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ml(this.viewCache_),c=function(n,t,e,r,o,c){return function(n,t,e,r,o,c,h){let _;const E=kl(n.visibleWrites,t),b=Ol(E,Wt());if(null!=b)_=b;else{if(null==e)return[];_=od(E,e)}if(_=_.withIndex(h),_.isEmpty()||_.isLeafNode())return[];{const k=[],P=h.getCompare(),B=c?_.getReverseIteratorFrom(r,h):_.getIteratorFrom(r,h);let K=B.getNext();for(;K&&k.length<o;)0!==P(K,r)&&k.push(K),K=B.getNext();return k}}(n.writeTree,n.treePath,t,e,r,o,c)}(this.writes_,o,e,1,r,t);return 0===c.length?null:c[0]}}function r_(n,t,e,r,o,c){const h=t.eventCache;if(null!=kh(r,e))return t;{let _,E;if(Ot(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=Ml(t),P=Pl(r,b instanceof ut?b:ut.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),P,c)}else{const b=Op(r,Ml(t));_=n.filter.updateFullNode(t.eventCache.getNode(),b,c)}else{const b=At(e);if(".priority"===b){(0,L.hu)(1===Tl(e),"Can't have a priority with additional path components");const k=h.getNode();E=t.serverCache.getNode();const P=eE(r,e,k,E);_=null!=P?n.filter.updatePriority(k,P):h.getNode()}else{const k=Ft(e);let P;if(h.isCompleteForChild(b)){E=t.serverCache.getNode();const B=eE(r,e,h.getNode(),E);P=null!=B?h.getNode().getImmediateChild(b).updateChild(k,B):h.getNode().getImmediateChild(b)}else P=kp(r,b,t.serverCache);_=null!=P?n.filter.updateChild(h.getNode(),b,P,k,o,c):h.getNode()}}return wo(t,_,h.isFullyInitialized()||Ot(e),n.filter.filtersNodes())}}function Nh(n,t,e,r,o,c,h,_){const E=t.serverCache;let b;const k=h?n.filter:n.filter.getIndexedFilter();if(Ot(e))b=k.updateFullNode(E.getNode(),r,null);else if(k.filtersNodes()&&!E.isFiltered()){const K=E.getNode().updateChild(e,r);b=k.updateFullNode(E.getNode(),K,null)}else{const K=At(e);if(!E.isCompleteForPath(e)&&Tl(e)>1)return t;const ne=Ft(e),ke=E.getNode().getImmediateChild(K).updateChild(ne,r);b=".priority"===K?k.updatePriority(E.getNode(),ke):k.updateChild(E.getNode(),K,ke,ne,rE,null)}const P=Pc(t,b,E.isFullyInitialized()||Ot(e),k.filtersNodes());return r_(n,P,e,o,new n_(o,P,c),_)}function xh(n,t,e,r,o,c,h){const _=t.eventCache;let E,b;const k=new n_(o,t,c);if(Ot(e))b=n.filter.updateFullNode(t.eventCache.getNode(),r,h),E=wo(t,b,!0,n.filter.filtersNodes());else{const P=At(e);if(".priority"===P)b=n.filter.updatePriority(t.eventCache.getNode(),r),E=wo(t,b,_.isFullyInitialized(),_.isFiltered());else{const B=Ft(e),K=_.getNode().getImmediateChild(P);let ne;if(Ot(B))ne=r;else{const Ae=k.getCompleteChild(P);ne=null!=Ae?".priority"===Eh(B)&&Ae.getChild(hD(B)).isEmpty()?Ae:Ae.updateChild(B,r):ut.EMPTY_NODE}E=K.equals(ne)?t:wo(t,n.filter.updateChild(_.getNode(),P,ne,B,k,h),_.isFullyInitialized(),n.filter.filtersNodes())}}return E}function UD(n,t){return n.eventCache.isCompleteForChild(t)}function sE(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function oE(n,t,e,r,o,c,h,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b,E=t;b=Ot(e)?r:new mn(null).setTree(e,r);const k=t.serverCache.getNode();return b.children.inorderTraversal((P,B)=>{if(k.hasChild(P)){const ne=sE(0,t.serverCache.getNode().getImmediateChild(P),B);E=Nh(n,E,new rn(P),ne,o,c,h,_)}}),b.children.inorderTraversal((P,B)=>{const K=!t.serverCache.isCompleteForChild(P)&&void 0===B.value;if(!k.hasChild(P)&&!K){const Ae=sE(0,t.serverCache.getNode().getImmediateChild(P),B);E=Nh(n,E,new rn(P),Ae,o,c,h,_)}}),E}class o_{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Ep(r.getIndex()),c=function(n){return n.loadsAllData()?new Ep(n.getIndex()):n.hasLimit()?new $s(n):new wp(n)}(r);this.processor_=function(n){return{filter:n}}(c);const h=e.serverCache,_=e.eventCache,E=o.updateFullNode(ut.EMPTY_NODE,h.getNode(),null),b=c.updateFullNode(ut.EMPTY_NODE,_.getNode(),null),k=new xi(E,h.isFullyInitialized(),o.filtersNodes()),P=new xi(b,_.isFullyInitialized(),c.filtersNodes());this.viewCache_=Sa(P,k),this.eventGenerator_=new td(this.query_)}get query(){return this.query_}}function l_(n,t){const e=Ml(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ot(t)&&!e.getImmediateChild(At(t)).isEmpty())?e.getChild(t):null}function c_(n){return 0===n.eventRegistrations_.length}function lE(n,t,e){const r=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(e,o);h&&r.push(h)})}if(t){let o=[];for(let c=0;c<n.eventRegistrations_.length;++c){const h=n.eventRegistrations_[c];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(c+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function Pp(n,t,e,r){t.type===Ci.MERGE&&null!==t.source.queryId&&((0,L.hu)(Ml(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(Mh(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,c=function(n,t,e,r,o){const c=new nE;let h,_;if(e.type===Ci.OVERWRITE){const b=e;b.source.fromUser?h=xh(n,t,b.path,b.snap,r,o,c):((0,L.hu)(b.source.fromServer,"Unknown source."),_=b.source.tagged||t.serverCache.isFiltered()&&!Ot(b.path),h=Nh(n,t,b.path,b.snap,r,o,_,c))}else if(e.type===Ci.MERGE){const b=e;b.source.fromUser?h=function(n,t,e,r,o,c,h){let _=t;return r.foreach((E,b)=>{const k=Cn(e,E);UD(t,At(k))&&(_=xh(n,_,k,b,o,c,h))}),r.foreach((E,b)=>{const k=Cn(e,E);UD(t,At(k))||(_=xh(n,_,k,b,o,c,h))}),_}(n,t,b.path,b.children,r,o,c):((0,L.hu)(b.source.fromServer,"Unknown source."),_=b.source.tagged||t.serverCache.isFiltered(),h=oE(n,t,b.path,b.children,r,o,_,c))}else if(e.type===Ci.ACK_USER_WRITE){const b=e;h=b.revert?function(n,t,e,r,o,c){let h;if(null!=kh(r,e))return t;{const _=new n_(r,t,o),E=t.eventCache.getNode();let b;if(Ot(e)||".priority"===At(e)){let k;if(t.serverCache.isFullyInitialized())k=Op(r,Ml(t));else{const P=t.serverCache.getNode();(0,L.hu)(P instanceof ut,"serverChildren would be complete if leaf node"),k=Pl(r,P)}k=k,b=n.filter.updateFullNode(E,k,c)}else{const k=At(e);let P=kp(r,k,t.serverCache);null==P&&t.serverCache.isCompleteForChild(k)&&(P=E.getImmediateChild(k)),b=null!=P?n.filter.updateChild(E,k,P,Ft(e),_,c):t.eventCache.getNode().hasChild(k)?n.filter.updateChild(E,k,ut.EMPTY_NODE,Ft(e),_,c):E,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Op(r,Ml(t)),h.isLeafNode()&&(b=n.filter.updateFullNode(b,h,c)))}return h=t.serverCache.isFullyInitialized()||null!=kh(r,Wt()),wo(t,b,h,n.filter.filtersNodes())}}(n,t,b.path,r,o,c):function(n,t,e,r,o,c,h){if(null!=kh(o,e))return t;const _=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(Ot(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return Nh(n,t,e,E.getNode().getChild(e),o,c,_,h);if(Ot(e)){let b=new mn(null);return E.getNode().forEachChild(_o,(k,P)=>{b=b.set(new rn(k),P)}),oE(n,t,e,b,o,c,_,h)}return t}{let b=new mn(null);return r.foreach((k,P)=>{const B=Cn(e,k);E.isCompleteForPath(B)&&(b=b.set(k,E.getNode().getChild(B)))}),oE(n,t,e,b,o,c,_,h)}}(n,t,b.path,b.affectedTree,r,o,c)}else{if(e.type!==Ci.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);h=function(n,t,e,r,o){const c=t.serverCache;return r_(n,Pc(t,c.getNode(),c.isFullyInitialized()||Ot(e),c.isFiltered()),e,r,rE,o)}(n,t,e.path,r,c)}const E=c.getChanges();return function(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Mh(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(DD(Mh(t)))}}(t,h,E),{viewCache:h,changes:E}}(n.processor_,o,t,e,r);return function(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,L.hu)(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,d_(n,c.changes,c.viewCache.eventCache.getNode(),null)}function d_(n,t,e,r){return function(n,t,e,r){const o=[],c=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),Eo(n,o,"child_removed",t,r,e),Eo(n,o,"child_added",t,r,e),Eo(n,o,"child_moved",c,r,e),Eo(n,o,"child_changed",t,r,e),Eo(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Np,ad;class xp{constructor(){this.views=new Map}}function Fp(n,t,e,r){const o=t.source.queryId;if(null!==o){const c=n.views.get(o);return(0,L.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Pp(c,t,e,r)}{let c=[];for(const h of n.views.values())c=c.concat(Pp(h,t,e,r));return c}}function dE(n,t,e,r,o){const h=n.views.get(t._queryIdentifier);if(!h){let _=Op(e,o?r:null),E=!1;_?E=!0:r instanceof ut?(_=Pl(e,r),E=!1):(_=ut.EMPTY_NODE,E=!1);const b=Sa(new xi(_,E,!1),new xi(r,o,!1));return new o_(t,b)}return h}function Lp(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Aa(n,t){let e=null;for(const r of n.views.values())e=e||l_(r,t);return e}function pE(n,t){return t._queryParams.loadsAllData()?Lh(n):n.views.get(t._queryIdentifier)}function f_(n,t){return null!=pE(n,t)}function Ra(n){return null!=Lh(n)}function Lh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let _E=1;class p_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mn(null),this.pendingWriteTree_={visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Up(n,t,e,r,o){return function(n,t,e,r,o){(0,L.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=sd(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?Nc(n,new fr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ma(n,t,e=!1){const r=function(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,c=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const _=n.allWrites[h];_.visible&&(h>=e&&GI(_,r.path)?o=!1:ls(r.path,_.path)&&(c=!0)),h--}return!!o&&(c?(function(n){n.visibleWrites=Mp(n.allWrites,t_,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Xm(n.visibleWrites,r.path):qn(r.children,E=>{n.visibleWrites=Xm(n.visibleWrites,Cn(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let c=new mn(null);return null!=r.snap?c=c.set(Wt(),!0):qn(r.children,h=>{c=c.set(new rn(h),!0)}),Nc(n,new vo(r.path,c,e))}return[]}function ld(n,t,e){return Nc(n,new fr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Bp(n,t,e,r){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&("default"===t._queryIdentifier||f_(c,t))){const _=function(n,t,e,r){const o=t._queryIdentifier,c=[];let h=[];const _=Ra(n);if("default"===o)for(const[E,b]of n.views.entries())h=h.concat(lE(b,e,r)),c_(b)&&(n.views.delete(E),b.query._queryParams.loadsAllData()||c.push(b.query));else{const E=n.views.get(o);E&&(h=h.concat(lE(E,e,r)),c_(E)&&(n.views.delete(o),E.query._queryParams.loadsAllData()||c.push(E.query)))}return _&&!Ra(n)&&c.push(new((0,L.hu)(Np,"Reference.ts has not been loaded"),Np)(t._repo,t._path)),{removed:c,events:h}}(c,t,e,r);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const E=_.removed;h=_.events;const b=-1!==E.findIndex(P=>P._queryParams.loadsAllData()),k=n.syncPointTree_.findOnPath(o,(P,B)=>Ra(B));if(b&&!k){const P=n.syncPointTree_.subtree(o);if(!P.isEmpty()){const B=function(n){return n.fold((t,e,r)=>{if(e&&Ra(e))return[Lh(e)];{let o=[];return e&&(o=Lp(e)),qn(r,(c,h)=>{o=o.concat(h)}),o}})}(P);for(let K=0;K<B.length;++K){const ne=B[K],Ae=ne.query,ke=__(n,ne);n.listenProvider_.startListening($p(Ae),Oa(n,Ae),ke.hashFn,ke.onComplete)}}}if(!k&&E.length>0&&!r)if(b){const P=null;n.listenProvider_.stopListening($p(t),P)}else E.forEach(P=>{const B=n.queryToTagMap.get(jp(P));n.listenProvider_.stopListening($p(P),B)});!function(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=jp(r),c=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(c)}}}(n,E)}return h}function g_(n,t,e){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(P,B)=>{const K=ri(P,r);o=o||Aa(B,K),c=c||Ra(B)});let _,h=n.syncPointTree_.get(r);h?(c=c||Ra(h),o=o||Aa(h,Wt())):(h=new xp,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?_=!0:(_=!1,o=ut.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,K)=>{const ne=Aa(K,Wt());ne&&(o=o.updateImmediateChild(B,ne))}));const E=f_(h,t);if(!E&&!t._queryParams.loadsAllData()){const P=jp(t);(0,L.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const B=_E++;n.queryToTagMap.set(P,B),n.tagToQueryMap.set(B,P)}let k=function(n,t,e,r,o,c){const h=dE(n,t,r,o,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function(n,t){n.eventRegistrations_.push(t)}(h,e),function(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(c,h)=>{r.push(Sh(c,h))}),e.isFullyInitialized()&&r.push(DD(e.getNode())),d_(n,r,e.getNode(),t)}(h,e)}(h,t,e,Oh(n.pendingWriteTree_,r),o,_);if(!E&&!c){const P=pE(h,t);k=k.concat(function(n,t,e){const r=t._path,o=Oa(n,t),c=__(n,e),h=n.listenProvider_.startListening($p(t),o,c.hashFn,c.onComplete),_=n.syncPointTree_.subtree(r);if(o)(0,L.hu)(!Ra(_.value),"If we're adding a query, it shouldn't be shadowed");else{const E=_.fold((b,k,P)=>{if(!Ot(b)&&k&&Ra(k))return[Lh(k).query];{let B=[];return k&&(B=B.concat(Lp(k).map(K=>K.query))),qn(P,(K,ne)=>{B=B.concat(ne)}),B}});for(let b=0;b<E.length;++b){const k=E[b];n.listenProvider_.stopListening($p(k),Oa(n,k))}}return h}(n,t,P))}return k}function Vp(n,t,e){const o=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(h,_)=>{const b=Aa(_,ri(h,t));if(b)return b});return Jv(o,t,c,e,!0)}function Nc(n,t){return vE(t,n.syncPointTree_,null,Oh(n.pendingWriteTree_,Wt()))}function vE(n,t,e,r){if(Ot(n.path))return m_(n,t,e,r);{const o=t.get(Wt());null==e&&null!=o&&(e=Aa(o,Wt()));let c=[];const h=At(n.path),_=n.operationForChild(h),E=t.children.get(h);if(E&&_){const b=e?e.getImmediateChild(h):null,k=Ph(r,h);c=c.concat(vE(_,E,b,k))}return o&&(c=c.concat(Fp(o,n,r,e))),c}}function m_(n,t,e,r){const o=t.get(Wt());null==e&&null!=o&&(e=Aa(o,Wt()));let c=[];return t.children.inorderTraversal((h,_)=>{const E=e?e.getImmediateChild(h):null,b=Ph(r,h),k=n.operationForChild(h);k&&(c=c.concat(m_(k,_,E,b)))}),o&&(c=c.concat(Fp(o,n,r,e))),c}function __(n,t){const e=t.query,r=Oa(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||ut.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function(n,t,e){const r=y_(n,e);if(r){const o=Hp(r),c=o.path,h=o.queryId,_=ri(c,t);return v_(n,c,new Al(hr(h),_))}return[]}(n,e._path,r):function(n,t){return Nc(n,new Al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return Bp(n,e,null,c)}}}}function Oa(n,t){const e=jp(t);return n.queryToTagMap.get(e)}function jp(n){return n._path.toString()+"$"+n._queryIdentifier}function y_(n,t){return n.tagToQueryMap.get(t)}function Hp(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new rn(n.substr(0,t))}}function v_(n,t,e){const r=n.syncPointTree_.get(t);return(0,L.hu)(r,"Missing sync point for query tag that we're tracking"),Fp(r,e,Oh(n.pendingWriteTree_,t),null)}function $p(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,L.hu)(ad,"Reference.ts has not been loaded"),ad)(n._repo,n._path):n}class C_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new C_(e)}node(){return this.node_}}class D_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Cn(this.path_,t);return new D_(this.syncTree_,e)}node(){return Vp(this.syncTree_,this.path_)}}const hs=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?zs(n[".sv"],t,e):"object"==typeof n[".sv"]?wE(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},zs=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},wE=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,L.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,L.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return"number"!=typeof h?r:h+r},b_=function(n,t,e,r){return T_(t,new D_(e,n),r)},I_=function(n,t,e){return T_(n,new C_(t),e)};function T_(n,t,e){const r=n.getPriority().val(),o=hs(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const h=n,_=hs(h.getValue(),t,e);return _!==h.getValue()||o!==h.getPriority().val()?new Ku(_,Tn(o)):n}{const h=n;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new Ku(o))),h.forEachChild(gn,(_,E)=>{const b=T_(E,t.getImmediateChild(_),e);b!==E&&(c=c.updateImmediateChild(_,b))}),c}}class S_{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function zp(n,t){let e=t instanceof rn?t:new rn(t),r=n,o=At(e);for(;null!==o;){const c=(0,L.DV)(r.node.children,o)||{children:{},childCount:0};r=new S_(o,r,c),e=Ft(e),o=At(e)}return r}function ka(n){return n.node.value}function xc(n,t){n.node.value=t,R_(n)}function CE(n){return n.node.childCount>0}function Wp(n,t){qn(n.node.children,(e,r)=>{t(new S_(e,n,r))})}function A_(n,t,e,r){e&&!r&&t(n),Wp(n,o=>{A_(o,t,!0,r)}),e&&r&&t(n)}function Nl(n){return new rn(null===n.parent?n.name:Nl(n.parent)+"/"+n.name)}function R_(n){null!==n.parent&&function(n,t,e){const r=function(n){return void 0===ka(n)&&!CE(n)}(e),o=(0,L.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,R_(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,R_(n))}(n.parent,n.name,n)}const TE=/[\[\].#$\/\u0000-\u001F\u007F]/,M_=/[\[\].#$\u0000-\u001F\u007F]/,cd=10485760,Uh=function(n){return"string"==typeof n&&0!==n.length&&!TE.test(n)},O_=function(n){return"string"==typeof n&&0!==n.length&&!M_.test(n)},ud=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!gh(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Ws=function(n,t,e,r){r&&void 0===t||dd((0,L.gK)(n,"value"),t,e)},dd=function(n,t,e){const r=e instanceof rn?new pD(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ba(r));if("function"==typeof t)throw new Error(n+"contains a function "+ba(r)+" with contents = "+t.toString());if(gh(t))throw new Error(n+"contains "+t.toString()+" "+ba(r));if("string"==typeof t&&t.length>cd/3&&(0,L.ug)(t)>cd)throw new Error(n+"contains a string greater than "+cd+" utf8 bytes "+ba(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,c=!1;if(qn(t,(h,_)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!Uh(h)))throw new Error(n+" contains an invalid key ("+h+") "+ba(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),Pv(n)})(r,h),dd(n,_,r),function(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&c)throw new Error(n+' contains ".value" child '+ba(r)+" in addition to actual children.")}},k_=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const c=[];qn(t,(h,_)=>{const E=new rn(h);if(dd(o,_,Cn(e,E)),".priority"===Eh(E)&&!ud(_))throw new Error(o+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=wh(r);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!Uh(c[h]))throw new Error(n+"contains an invalid key ("+c[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(fD);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&ls(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,c)},P_=function(n,t,e){if(!e||void 0!==t){if(gh(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ud(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Bh=function(n,t,e,r){if(!(r&&void 0===e||Uh(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vh=function(n,t,e,r){if(!(r&&void 0===e||O_(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fs=function(n,t){if(".info"===At(t))throw new Error(n+" failed = Can't modify data under /.info/")},RE=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Uh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),O_(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class WD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gp(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],c=o.getPath();null!==e&&!Ch(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(o)}e&&n.eventLists_.push(e)}function N_(n,t,e){Gp(n,e),ME(n,r=>Ch(r,t))}function ps(n,t,e){Gp(n,e),ME(n,r=>ls(r,t)||ls(t,r))}function ME(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(GD(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function GD(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Dl&&hn("event: "+e.toString()),_h(r)}}}const OE="repo_interrupt";class ZD{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ip(),this.transactionQueueTree_=new S_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kE(n){const e=n.infoData_.getNode(new rn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function jh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:kE(n)})}function x_(n,t,e,r,o){n.dataUpdateCount++;const c=new rn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(r){const E=(0,L.UI)(e,b=>Tn(b));h=function(n,t,e,r){const o=y_(n,r);if(o){const c=Hp(o),h=c.path,_=c.queryId,E=ri(h,t),b=mn.fromObject(e);return v_(n,h,new Rl(hr(_),E,b))}return[]}(n.serverSyncTree_,c,E,o)}else{const E=Tn(e);h=function(n,t,e,r){const o=y_(n,r);if(null!=o){const c=Hp(o),h=c.path,_=c.queryId,E=ri(h,t);return v_(n,h,new fr(hr(_),E,e))}return[]}(n.serverSyncTree_,c,E,o)}else if(r){const E=(0,L.UI)(e,b=>Tn(b));h=function(n,t,e){const r=mn.fromObject(e);return Nc(n,new Rl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,E)}else{const E=Tn(e);h=ld(n.serverSyncTree_,c,E)}let _=c;h.length>0&&(_=hd(n,c)),ps(n.eventQueue_,_,h)}function F_(n,t){Kp(n,"connected",t),!1===t&&function(n){$h(n,"onDisconnectEvents");const t=jh(n),e=Ip();Jm(n.onDisconnect_,Wt(),(o,c)=>{const h=b_(o,c,n.serverSyncTree_,t);Xu(e,o,h)});let r=[];Jm(e,Wt(),(o,c)=>{r=r.concat(ld(n.serverSyncTree_,o,c));const h=Sn(n,o);hd(n,h)}),n.onDisconnect_=Ip(),ps(n.eventQueue_,Wt(),r)}(n)}function Kp(n,t,e){const r=new rn("/.info/"+t),o=Tn(e);n.infoData_.updateSnapshot(r,o);const c=ld(n.infoSyncTree_,r,o);ps(n.eventQueue_,r,c)}function Hh(n){return n.nextWriteId_++}function Zp(n,t,e,r,o){$h(n,"set",{path:t.toString(),value:e,priority:r});const c=jh(n),h=Tn(e,r),_=Vp(n.serverSyncTree_,t),E=I_(h,_,c),b=Hh(n),k=Up(n.serverSyncTree_,t,E,b,!0);Gp(n.eventQueue_,k),n.server_.put(t.toString(),h.val(!0),(B,K)=>{const ne="ok"===B;ne||On("set at "+t+" failed: "+B);const Ae=Ma(n.serverSyncTree_,b,!ne);ps(n.eventQueue_,t,Ae),Pa(0,o,B,K)});const P=Sn(n,t);hd(n,P),ps(n.eventQueue_,P,[])}function LE(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&Qm(n.onDisconnect_,t),Pa(0,e,r,o)})}function L_(n,t,e,r){const o=Tn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&Xu(n.onDisconnect_,t,o),Pa(0,r,c,h)})}function xl(n,t,e){let r;r=".info"===At(t._path)?Bp(n.infoSyncTree_,t,e):Bp(n.serverSyncTree_,t,e),N_(n.eventQueue_,t._path,r)}function JD(n){n.persistentConnection_&&n.persistentConnection_.interrupt(OE)}function $h(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),hn(e,...t)}function Pa(n,t,e,r){t&&_h(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let c=o;r&&(c+=": "+r);const h=new Error(c);h.code=o,t(h)}})}function BE(n,t,e){return Vp(n.serverSyncTree_,t,e)||ut.EMPTY_NODE}function at(n,t=n.transactionQueueTree_){if(t||Lc(n,t),ka(t)){const e=VE(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function(n,t,e){const r=e.map(b=>b.currentWriteId),o=BE(n,t,r);let c=o;const h=o.hash();for(let b=0;b<e.length;b++){const k=e[b];(0,L.hu)(0===k.status,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const P=ri(t,k.path);c=c.updateChild(P,k.currentOutputSnapshotRaw)}const _=c.val(!0),E=t;n.server_.put(E.toString(),_,b=>{$h(n,"transaction put response",{path:E.toString(),status:b});let k=[];if("ok"===b){const P=[];for(let B=0;B<e.length;B++)e[B].status=2,k=k.concat(Ma(n.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&P.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();Lc(n,zp(n.transactionQueueTree_,t)),at(n,n.transactionQueueTree_),ps(n.eventQueue_,t,k);for(let B=0;B<P.length;B++)_h(P[B])}else{if("datastale"===b)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{On("transaction at "+E.toString()+" failed: "+b);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=b}hd(n,t)}},h)}(n,Nl(t),e)}else CE(t)&&Wp(t,e=>{at(n,e)})}function hd(n,t){const e=zh(n,t),r=Nl(e);return function(n,t,e){if(0===t.length)return;const r=[];let o=[];const h=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const E=t[_],b=ri(e,E.path);let P,k=!1;if((0,L.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)k=!0,P=E.abortReason,o=o.concat(Ma(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)k=!0,P="maxretry",o=o.concat(Ma(n.serverSyncTree_,E.currentWriteId,!0));else{const B=BE(n,E.path,h);E.currentInputSnapshot=B;const K=t[_].update(B.val());if(void 0!==K){dd("transaction failed: Data returned ",K,E.path);let ne=Tn(K);"object"==typeof K&&null!=K&&(0,L.r3)(K,".priority")||(ne=ne.updatePriority(B.getPriority()));const ke=E.currentWriteId,nt=jh(n),gt=I_(ne,B,nt);E.currentOutputSnapshotRaw=ne,E.currentOutputSnapshotResolved=gt,E.currentWriteId=Hh(n),h.splice(h.indexOf(ke),1),o=o.concat(Up(n.serverSyncTree_,E.path,gt,E.currentWriteId,E.applyLocally)),o=o.concat(Ma(n.serverSyncTree_,ke,!0))}else k=!0,P="nodata",o=o.concat(Ma(n.serverSyncTree_,E.currentWriteId,!0))}ps(n.eventQueue_,e,o),o=[],k&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&r.push("nodata"===P?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(P),!1,null)))}Lc(n,n.transactionQueueTree_);for(let _=0;_<r.length;_++)_h(r[_]);at(n,n.transactionQueueTree_)}(n,VE(n,e),r),r}function zh(n,t){let e,r=n.transactionQueueTree_;for(e=At(t);null!==e&&void 0===ka(r);)r=zp(r,e),e=At(t=Ft(t));return r}function VE(n,t){const e=[];return Wh(n,t,e),e.sort((r,o)=>r.order-o.order),e}function Wh(n,t,e){const r=ka(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);Wp(t,o=>{Wh(n,o,e)})}function Lc(n,t){const e=ka(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,xc(t,e.length>0?e:void 0)}Wp(t,r=>{Lc(n,r)})}function Sn(n,t){const e=Nl(zh(n,t)),r=zp(n.transactionQueueTree_,t);return function(n,t,e){let r=n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{jE(n,o)}),jE(n,r),A_(r,o=>{jE(n,o)}),e}function jE(n,t){const e=ka(t);if(e){const r=[];let o=[],c=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,L.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,e[h].status=3,e[h].abortReason="set"):((0,L.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(Ma(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?xc(t,void 0):e.length=c+1,ps(n.eventQueue_,Nl(t),o);for(let h=0;h<r.length;h++)_h(r[h])}}const B_=function(n,t){const e=$E(n),r=e.namespace;return"firebase.com"===e.domain&&as(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Dm(e.host,e.secure,r,t,"ws"===e.scheme||"wss"===e.scheme,"",r!==e.subdomain),path:new rn(e.pathString)}},$E=function(n){let t="",e="",r="",o="",c="",h=!0,_="https",E=443;if("string"==typeof n){let b=n.indexOf("//");b>=0&&(_=n.substring(0,b-1),n=n.substring(b+2));let k=n.indexOf("/");-1===k&&(k=n.length);let P=n.indexOf("?");-1===P&&(P=n.length),t=n.substring(0,Math.min(k,P)),k<P&&(o=function(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(c){}t+="/"+o}return t}(n.substring(k,P)));const B=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):On(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,P)));b=t.indexOf(":"),b>=0?(h="https"===_||"wss"===_,E=parseInt(t.substring(b+1),10)):b=t.length;const K=t.slice(0,b);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const ne=t.indexOf(".");r=t.substring(0,ne).toLowerCase(),e=t.substring(ne+1),c=r}"ns"in B&&(c=B.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:h,scheme:_,pathString:o,namespace:c}};class V_{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class j_{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class H_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class zE{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return LE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){fs("OnDisconnect.remove",this._path);const t=new L.BH;return L_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){fs("OnDisconnect.set",this._path),Ws("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return L_(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){fs("OnDisconnect.setWithPriority",this._path),Ws("OnDisconnect.setWithPriority",t,this._path,!1),P_("OnDisconnect.setWithPriority",e,!1);const r=new L.BH;return function(n,t,e,r,o){const c=Tn(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(h,_)=>{"ok"===h&&Xu(n.onDisconnect_,t,c),Pa(0,o,h,_)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){fs("OnDisconnect.update",this._path),k_("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function(n,t,e,r){if((0,L.xb)(e))return hn("onDisconnect().update() called with empty data.  Don't do anything."),void Pa(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,c)=>{"ok"===o&&qn(e,(h,_)=>{const E=Tn(_);Xu(n.onDisconnect_,Cn(t,h),E)}),Pa(0,r,o,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Di{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return Ot(this._path)?null:Eh(this._path)}get ref(){return new ms(this._repo,this._path)}get _queryIdentifier(){const t=Dp(this._queryParams),e=mh(t);return"{}"===e?"default":e}get _queryObject(){return Dp(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof Di))return!1;const e=this._repo===t._repo,r=Ch(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function qp(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function gs(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===_o){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==bl)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Hs)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===gn){if(null!=t&&!ud(t)||null!=e&&!ud(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof vp||n.getIndex()===Km,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ms extends Di{constructor(t,e){super(t,e,new Ym,!1)}get parent(){const t=hD(this._path);return null===t?null:new ms(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Uc{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new rn(t),r=Fl(this.ref,t);return new Uc(this._node.getChild(e),r,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new Uc(o,Fl(this.ref,r),gn)))}hasChild(t){const e=new rn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gh(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?Fl(n._root,t):n._root}function $_(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=B_(t,n._repo.repoInfo_.nodeAdmin);RE("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&as("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Gh(n,e.path.toString())}function Fl(n,t){return null===At((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vh("child","path",e,!1)):Vh("child","path",t,!1),new ms(n._repo,Cn(n._path,t));var e}function Bc(n,t){n=(0,L.m9)(n),fs("set",n._path),Ws("set",t,n._path,!1);const e=new L.BH;return Zp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ob(n,t){k_("update",t,n._path,!1);const e=new L.BH;return function(n,t,e,r){$h(n,"update",{path:t.toString(),value:e});let o=!0;const c=jh(n),h={};if(qn(e,(_,E)=>{o=!1,h[_]=b_(Cn(t,_),Tn(E),n.serverSyncTree_,c)}),o)hn("update() called with empty data.  Don't do anything."),Pa(0,r,"ok",void 0);else{const _=Hh(n),E=function(n,t,e,r){!function(n,t,e,r){(0,L.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Ap(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=mn.fromObject(e);return Nc(n,new Rl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,_);Gp(n.eventQueue_,E),n.server_.merge(t.toString(),e,(b,k)=>{const P="ok"===b;P||On("update at "+t+" failed: "+b);const B=Ma(n.serverSyncTree_,_,!P),K=B.length>0?hd(n,t):t;ps(n.eventQueue_,K,B),Pa(0,r,b,k)}),qn(e,b=>{const k=Sn(n,Cn(t,b));hd(n,k)}),ps(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function WE(n){return function(n,t){const e=function(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(b,k)=>{const P=ri(b,e);r=r||Aa(k,P)});let o=n.syncPointTree_.get(e);o?r=r||Aa(o,Wt()):(o=new xp,n.syncPointTree_=n.syncPointTree_.set(e,o));const c=null!=r,h=c?new xi(r,!0,!1):null;return function(n){return Mh(n.viewCache_)}(dE(o,t,Oh(n.pendingWriteTree_,t._path),c?h.getNode():ut.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const o=Tn(r).withIndex(t._queryParams.getIndex()),c=ld(n.serverSyncTree_,t._path,o);return N_(n.eventQueue_,t._path,c),Promise.resolve(o)},r=>($h(n,"get for query "+(0,L.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,L.m9)(n))._repo,n).then(t=>new Uc(t,new ms(n._repo,n._path),n._queryParams.getIndex()))}class Zh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new V_("value",this,new Uc(t.snapshotNode,new ms(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new j_(this,t,e):null}matches(t){return t instanceof Zh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qh{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new j_(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const r=Fl(new ms(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new V_(t.type,this,new Uc(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof qh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yh(n,t,e,r,o){let c;if("object"==typeof r&&(c=void 0,o=r),"function"==typeof r&&(c=r),o&&o.onlyOnce){const E=e,b=(k,P)=>{xl(n._repo,n,_),E(k,P)};b.userCallback=e.userCallback,b.context=e.context,e=b}const h=new H_(e,c||void 0),_="value"===t?new Zh(h):new qh(t,h);return function(n,t,e){let r;r=".info"===At(t._path)?g_(n.infoSyncTree_,t,e):g_(n.serverSyncTree_,t,e),N_(n.eventQueue_,t._path,r)}(n._repo,n,_),()=>xl(n._repo,n,_)}function Qp(n,t,e,r){return Yh(n,"value",t,e,r)}function GE(n,t,e,r){return Yh(n,"child_added",t,e,r)}function KE(n,t,e,r){return Yh(n,"child_changed",t,e,r)}function ab(n,t,e,r){return Yh(n,"child_moved",t,e,r)}function lb(n,t,e,r){return Yh(n,"child_removed",t,e,r)}function cb(n,t,e){let r=null;const o=e?new H_(e):null;"value"===t?r=new Zh(o):t&&(r=new qh(t,o)),xl(n._repo,n,r)}class bo{}class z_ extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ws("endAt",this._value,t._path,!0);const e=zv(t._queryParams,this._value,this._key);if(Yp(e),gs(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class ub extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ws("endBefore",this._value,t._path,!1);const e=function(n,t,e){let r,o;return n.index_===_o?("string"==typeof t&&(t=Vv(t)),o=zv(n,t,e)):(r=null==e?bl:Vv(e),o=zv(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(Yp(e),gs(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class W_ extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ws("startAt",this._value,t._path,!0);const e=Cp(t._queryParams,this._value,this._key);if(Yp(e),gs(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class hb extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ws("startAfter",this._value,t._path,!1);const e=function(n,t,e){let r;if(n.index_===_o)"string"==typeof t&&(t=Bv(t)),r=Cp(n,t,e);else{let o;o=null==e?Hs:Bv(e),r=Cp(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Yp(e),gs(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class pb extends bo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Di(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class mb extends bo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Di(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class _b extends bo{constructor(t){super(),this._path=t}_apply(t){qp(t,"orderByChild");const e=new rn(this._path);if(Ot(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new vp(e),o=Ju(t._queryParams,r);return gs(o),new Di(t._repo,t._path,o,!0)}}class fd extends bo{_apply(t){qp(t,"orderByKey");const e=Ju(t._queryParams,_o);return gs(e),new Di(t._repo,t._path,e,!0)}}class qE extends bo{_apply(t){qp(t,"orderByPriority");const e=Ju(t._queryParams,gn);return gs(e),new Di(t._repo,t._path,e,!0)}}class YE extends bo{_apply(t){qp(t,"orderByValue");const e=Ju(t._queryParams,Km);return gs(e),new Di(t._repo,t._path,e,!0)}}class QE extends bo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ws("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new z_(this._value,this._key)._apply(new W_(this._value,this._key)._apply(t))}}function Fi(n,...t){let e=(0,L.m9)(n);for(const r of t)e=r._apply(e);return e}(function(n){(0,L.hu)(!Np,"__referenceConstructor has already been defined"),Np=n})(ms),function(n){(0,L.hu)(!ad,"__referenceConstructor has already been defined"),ad=n}(ms);const Xp={};function JE(n,t,e,r,o){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hn("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,b,h=B_(c,o),_=h.repoInfo;"undefined"!=typeof process&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(E=!0,c=`http://${b}?ns=${_.namespace}`,h=B_(c,o),_=h.repoInfo):E=!h.repoInfo.secure;const k=o&&E?new cp(cp.OWNER):new wm(n.name,n.options,t);RE("Invalid Firebase Database URL",h),Ot(h.path)||as("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function(n,t,e,r){let o=Xp[t.name];o||(o={},Xp[t.name]=o);let c=o[n.toURLString()];return c&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new ZD(n,false,e,r),o[n.toURLString()]=c,c}(_,n,k,new qC(n.name,e));return new XE(P,n)}class XE{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=mo(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bp(n.repoInfo_,(r,o,c,h)=>{x_(n,r,o,c,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>F_(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Sl(n.repoInfo_,t,(r,o,c,h)=>{x_(n,r,o,c,h)},r=>{F_(n,r)},r=>{!function(n,t){qn(t,(e,r)=>{Kp(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,t){const e=n.toString();return bm[e]||(bm[e]=t()),bm[e]}(n.repoInfo_,()=>new SD(n.stats_,n.server_)),n.infoData_=new ID,n.infoSyncTree_=new p_({startListening:(r,o,c,h)=>{let _=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(_=ld(n.infoSyncTree_,r._path,E),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),Kp(n,"connected",!1),n.serverSyncTree_=new p_({startListening:(r,o,c,h)=>(n.server_.listen(r,c,o,(_,E)=>{const b=h(_,E);ps(n.eventQueue_,r._path,b)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ms(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=Xp[t];(!e||e[n.key]!==n)&&as(`Database ${t}(${n.repoInfo_}) has already been deleted.`),JD(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&as("Cannot call "+t+" on a deleted database.")}}function Mb(n,t){ph(n,t)}class tw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Sl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},fv(wl.SDK_VERSION),(0,wl._registerComponent)(new El.wA("database",(t,{instanceIdentifier:e})=>JE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,wl.registerVersion)(os,"0.12.5",void 0),(0,wl.registerVersion)(os,"0.12.5","esm2017");const Ub=new ip.Yd("@firebase/database-compat"),eg=function(n){Ub.warn("FIREBASE WARNING: "+n)};class q_{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),c=>r(c)),o}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let c=0;c<t.length;++c)o[""+c]=t[c];t=o,eg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class Bb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ll{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Vh("DataSnapshot.child","path",t,!1),new Ll(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Ll(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Li(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class nr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var c;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const h=nr.getCancelAndContextArgs_("Query.on",r,o),_=(b,k)=>{e.call(h.context,new Ll(this.database,b),k)};_.userCallback=e,_.context=h.context;const E=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(t){case"value":return Qp(this._delegate,_,E),e;case"child_added":return GE(this._delegate,_,E),e;case"child_removed":return lb(this._delegate,_,E),e;case"child_changed":return KE(this._delegate,_,E),e;case"child_moved":return ab(this._delegate,_,E),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,cb(this._delegate,t,o)}else cb(this._delegate,t)}get(){return WE(this._delegate).then(t=>new Ll(this.database,t))}once(t,e,r,o){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const c=nr.getCancelAndContextArgs_("Query.once",r,o),h=new L.BH,_=(b,k)=>{const P=new Ll(this.database,b);e&&e.call(c.context,P,k),h.resolve(P)};_.userCallback=e,_.context=c.context;const E=b=>{c.cancel&&c.cancel.call(c.context,b),h.reject(b)};switch(t){case"value":Qp(this._delegate,_,E,{onlyOnce:!0});break;case"child_added":GE(this._delegate,_,E,{onlyOnce:!0});break;case"child_removed":lb(this._delegate,_,E,{onlyOnce:!0});break;case"child_changed":KE(this._delegate,_,E,{onlyOnce:!0});break;case"child_moved":ab(this._delegate,_,E,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new nr(this.database,Fi(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pb(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new nr(this.database,Fi(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mb(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new nr(this.database,Fi(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vh("orderByChild","path",n,!1),new _b(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new nr(this.database,Fi(this._delegate,new fd))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new nr(this.database,Fi(this._delegate,new qE))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new nr(this.database,Fi(this._delegate,new YE))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new nr(this.database,Fi(this._delegate,function(n=null,t){return Bh("startAt","key",t,!0),new W_(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new nr(this.database,Fi(this._delegate,function(n,t){return Bh("startAfter","key",t,!0),new hb(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new nr(this.database,Fi(this._delegate,function(n,t){return Bh("endAt","key",t,!0),new z_(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new nr(this.database,Fi(this._delegate,function(n,t){return Bh("endBefore","key",t,!0),new ub(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new nr(this.database,Fi(this._delegate,function(n,t){return Bh("equalTo","key",t,!0),new QE(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof nr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,L.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,L.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Li(this.database,new ms(this._delegate._repo,this._delegate._path))}}class Li extends nr{constructor(t,e){super(t,new Di(e._repo,e._path,new Ym,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Li(this.database,Fl(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Li(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Li(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const r=Bc(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let c=0;c<t.length;++c)o[""+c]=t[c];t=o,eg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fs("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const r=ob(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function(n,t,e){if(fs("setWithPriority",n._path),Ws("setWithPriority",t,n._path,!1),P_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new L.BH;return Zp(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),c=>r(c)),o}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return fs("remove",n._path),Bc(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function(n,t,e){var r;if(n=(0,L.m9)(n),fs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,c=new L.BH,_=Qp(n,()=>{});return function(n,t,e,r,o,c){$h(n,"transaction on "+t);const h={path:t,update:e,onComplete:r,status:null,order:gv(),applyLocally:c,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=BE(n,t,void 0);h.currentInputSnapshot=_;const E=h.update(_.val());if(void 0===E)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{dd("transaction failed: Data returned ",E,h.path),h.status=0;const b=zp(n.transactionQueueTree_,t),k=ka(b)||[];let P;k.push(h),xc(b,k),"object"==typeof E&&null!==E&&(0,L.r3)(E,".priority")?(P=(0,L.DV)(E,".priority"),(0,L.hu)(ud(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(Vp(n.serverSyncTree_,t)||ut.EMPTY_NODE).getPriority().val();const B=jh(n),K=Tn(E,P),ne=I_(K,_,B);h.currentOutputSnapshotRaw=K,h.currentOutputSnapshotResolved=ne,h.currentWriteId=Hh(n);const Ae=Up(n.serverSyncTree_,t,ne,h.currentWriteId,h.applyLocally);ps(n.eventQueue_,t,Ae),at(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,b,k)=>{let P=null;E?c.reject(E):(P=new Uc(k,new ms(n._repo,n._path),gn),c.resolve(new tw(b,P)))},_,o),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new Bb(c.committed,new Ll(this.database,c.snapshot)));return e&&o.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),o}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const r=function(n,t){n=(0,L.m9)(n),fs("setPriority",n._path),P_("setPriority",t,!1);const e=new L.BH;return Zp(n._repo,Cn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const r=function(n,t){n=(0,L.m9)(n),fs("push",n._path),Ws("push",t,n._path,!0);const e=kE(n._repo),r=Uv(e),o=Fl(n,r),c=Fl(n,r);let h;return h=null!=t?Bc(c,t).then(()=>c):Promise.resolve(c),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=r.then(h=>new Li(this.database,h));e&&o.then(()=>e(null),h=>e(h));const c=new Li(this.database,r);return c.then=o.then.bind(o),c.catch=o.catch.bind(o,void 0),c}onDisconnect(){return fs("Reference.onDisconnect",this._delegate._path),new q_(new zE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class pd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function(n,t,e,r={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&as("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&as('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new cp(cp.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,L.Sg)(r.mockUserToken,n.app.options.projectId);c=new cp(h)}!function(n,t,e,r){n.repoInfo_=new Dm(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof Li){const e=$_(this._delegate,t.toString());return new Li(this,e)}{const e=Gh(this._delegate,t);return new Li(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const r=$_(this._delegate,t);return new Li(this,r)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),JD(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(OE)}(n._repo)}(this._delegate)}}pd.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var rw=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:c=!1}){fv(e);const h=new El.zt("auth-internal",new El.H0("database-standalone"));return h.setComponent(new El.wA("auth-internal",()=>r,"PRIVATE")),{instance:new pd(JE(n,h,void 0,t,c),n),namespace:o}}});const jb=pd.ServerValue;!function(n){n.INTERNAL.registerComponent(new El.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new pd(o,r)},"PUBLIC").setServiceProps({Reference:Li,Query:nr,Database:pd,DataSnapshot:Ll,enableLogging:Mb,INTERNAL:rw,ServerValue:jb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(VI.Z);var Io=N(273),tg=N(4763),Jh=N(1733);class Hb extends Io.x{constructor(t=1/0,e=1/0,r=Jh.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:h}=this;e||(r.push(t),!o&&r.push(c.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let h=0;h<c.length&&!t.closed;h+=r?1:2)t.next(c[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const h=e.now();let _=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)_=E;_&&r.splice(0,_+1)}}}function Vc(n,t,e){var r,o;let c,h=!1;return n&&"object"==typeof n?(c=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,t=null!==(o=n.windowTime)&&void 0!==o?o:1/0,h=!!n.refCount,e=n.scheduler):c=null!=n?n:1/0,(0,Ea.B)({connector:()=>new Hb(c,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}const ng=(0,N(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var rg=N(9468);function Y_(n){return(0,Jn.e)((t,e)=>{let r=!1;t.subscribe(new _n.Q(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function sw(n=$b){return(0,Jn.e)((t,e)=>{let r=!1;t.subscribe(new _n.Q(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function $b(){return new ng}function jc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Yr((o,c)=>n(o,c,r)):go.y,(0,rg.q)(1),e?Y_(t):sw(()=>new ng))}function ow(n,t){return(0,el.m)(t)?dr(()=>n,t):dr(()=>n)}var ig=N(5222);N(7713);const qb=new Map,lw={activated:!1,tokenObservers:[]},Yb={initialized:!1,enabled:!1};function br(n){return qb.get(n)||lw}function _s(n,t){qb.set(n,t)}function J_(){return Yb}class e0{constructor(t,e,r,o,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ac.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const si=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uw(n){if(!br(n).activated)throw si.create("use-before-activation",{appName:n.name})}function dg(n,t){return hg.apply(this,arguments)}function hg(){return hg=(0,Ac.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:r};let h,_;try{h=yield fetch(n,c)}catch(P){throw si.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==h.status)throw si.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(P){throw si.create("fetch-parse-error",{originalErrorMessage:P.message})}const E=_.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const b=1e3*Number(E[1]),k=Date.now();return{token:_.attestationToken,expireTimeMillis:k+b,issuedAtTimeMillis:k}}),hg.apply(this,arguments)}function s0(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const sf="firebase-app-check-store";let fg=null;function md(){return fg||(fg=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(si.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(sf,{keyPath:"compositeKey"})}}catch(e){t(si.create("storage-open",{originalErrorMessage:e.message}))}}),fg)}function Hc(){return Hc=(0,Ac.Z)(function*(n,t){const r=(yield md()).transaction(sf,"readwrite"),c=r.objectStore(sf).put({compositeKey:n,value:t});return new Promise((h,_)=>{c.onsuccess=E=>{h()},r.onerror=E=>{var b;_(si.create("storage-set",{originalErrorMessage:null===(b=E.target.error)||void 0===b?void 0:b.message}))}})}),Hc.apply(this,arguments)}const Ul=new ip.Yd("@firebase/app-check");function gw(n,t){return(0,L.hl)()?function(n,t){return function(n,t){return Hc.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ul.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _g(){return J_().enabled}function ry(){return iy.apply(this,arguments)}function iy(){return iy=(0,Ac.Z)(function*(){const n=J_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),iy.apply(this,arguments)}const sT={error:"UNKNOWN_ERROR"};function sy(n){return L.US.encodeString(JSON.stringify(n),!1)}function _d(n){return yg.apply(this,arguments)}function yg(){return yg=(0,Ac.Z)(function*(n,t=!1){const e=n.app;uw(e);const r=br(e);let c,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&vg(E)&&(o=E)}if(!t&&o&&vg(o))return{token:o.token};let _,h=!1;if(_g()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dg(s0(e,yield ry()),n.platformLoggerProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0);const E=yield r.exchangeTokenPromise;return yield gw(e,E),_s(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Ul.warn(E.message):Ul.error(E),c=E}return o?(_={token:o.token},_s(e,Object.assign(Object.assign({},r),{token:o})),yield gw(e,o)):_=vw(c),h&&yw(e,_),_}),yg.apply(this,arguments)}function lf(n,t){const e=br(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),_s(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function _w(n){const{app:t}=n,e=br(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new e0((0,Ac.Z)(function*(){let r;if(r=br(t).token?yield _d(n,!0):yield _d(n),r.error)throw r.error}),()=>!0,()=>{const e=br(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),_s(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function yw(n,t){const e=br(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function vg(n){return n.expireTimeMillis-Date.now()>0}function vw(n){return{token:sy(sT),error:n}}class oy{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=br(this.app);for(const e of t)lf(this.app,e.next);return Promise.resolve()}}const y0="app-check-internal";(0,wl._registerComponent)(new El.wA("app-check",n=>function(n,t){return new oy(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(y0).initialize()})),(0,wl._registerComponent)(new El.wA(y0,n=>function(n){return{getToken:t=>_d(n,t),addTokenListener:t=>function(n,t,e,r){const{app:o}=n,c=br(o),h={next:e,error:r,type:t};if(_s(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&vg(c.token)){const _=c.token;Promise.resolve().then(()=>{e({token:_.token}),_w(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>_w(n))}(n,"INTERNAL",t),removeTokenListener:t=>lf(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wl.registerVersion)("@firebase/app-check","0.5.3");class vd{constructor(){return(0,wi.vb)("app-check")}}"undefined"!=typeof window&&window;var S0=N(7892);const hy=new g.OlP("angularfire2.auth.use-emulator"),fy=new g.OlP("angularfire2.auth.settings"),py=new g.OlP("angularfire2.auth.tenant-id"),xw=new g.OlP("angularfire2.auth.langugage-code"),Fw=new g.OlP("angularfire2.auth.use-device-language"),Lw=new g.OlP("angularfire.auth.persistence"),gy=(n,t,e,r,o,c,h,_)=>(0,Dr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=o,c&&E.useDeviceLanguage(),h)for(const[b,k]of Object.entries(h))E.settings[b]=k;return _&&E.setPersistence(_),E},[e,r,o,c,h,_]);let A0=(()=>{class n{constructor(e,r,o,c,h,_,E,b,k,P,B,K){const ne=new Io.x,Ae=Qe(void 0).pipe((0,tg.Q)(h.outsideAngular),dr(()=>c.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8694)))),(0,yt.U)(()=>(0,Dr.on)(e,c,r)),(0,yt.U)(ke=>gy(ke,c,_,b,k,P,E,B)),Vc({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{Ae.pipe(jc()).subscribe();const nt=Ae.pipe(dr(_t=>_t.getRedirectResult().then(rr=>rr,()=>null)),wi.iC,Vc({bufferSize:1,refCount:!1})),gt=Ae.pipe(dr(_t=>new Gn.y(rr=>({unsubscribe:c.runOutsideAngular(()=>_t.onAuthStateChanged(Br=>rr.next(Br),Br=>rr.error(Br),()=>rr.complete()))})))),Lt=Ae.pipe(dr(_t=>new Gn.y(rr=>({unsubscribe:c.runOutsideAngular(()=>_t.onIdTokenChanged(Br=>rr.next(Br),Br=>rr.error(Br),()=>rr.complete()))}))));this.authState=nt.pipe(ow(gt),(0,ig.R)(h.outsideAngular),(0,tg.Q)(h.insideAngular)),this.user=nt.pipe(ow(Lt),(0,ig.R)(h.outsideAngular),(0,tg.Q)(h.insideAngular)),this.idToken=this.user.pipe(dr(_t=>_t?(0,Rn.D)(_t.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(dr(_t=>_t?(0,Rn.D)(_t.getIdTokenResult()):Qe(null))),this.credential=(0,vl.T)(nt,ne,this.authState.pipe(Yr(_t=>!_t))).pipe((0,yt.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,ig.R)(h.outsideAngular),(0,tg.Q)(h.insideAngular))}return(0,Dr.pX)(this,Ae,c,{spy:{apply:(ke,nt,gt)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&gt.then(Lt=>ne.next(Lt))}}})}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Dr.Dh),g.LFG(Dr.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(wi.HU),g.LFG(hy,8),g.LFG(fy,8),g.LFG(py,8),g.LFG(xw,8),g.LFG(Fw,8),g.LFG(Lw,8),g.LFG(vd,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function R0(n){return null==n}function M0(n){return"function"==typeof n.set}function O0(n,t){return M0(t)?t:n.ref(t)}function k0(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(M0(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Vl(n,t,e="on",r=Sc.z){return new Gn.y(o=>{let c=null;return c=n[e](t,(h,_)=>{r.schedule(()=>{o.next({snapshot:h,prevKey:_})}),"once"===e&&r.schedule(()=>o.complete())},h=>{r.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,yt.U)(o=>{const{snapshot:c,prevKey:h}=o;let _=null;return c.exists()&&(_=c.key),{type:t,payload:c,prevKey:h,key:_}}),(0,Ea.B)())}function Dg(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function Uw(n,t){const{payload:e,prevKey:r,key:o}=t,c=Dg(n,o),h=function(n,t){if(R0(t))return 0;{const e=Dg(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(E=>{const b={payload:E,type:"value",prevKey:_,key:E.key};return _=E.key,n=[...n,b],!1})}return n;case"child_added":if(c>-1){const _=n[c-1];(_&&_.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(h,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===o?t:_);case"child_moved":if(c>-1){const _=n.splice(c,1)[0];return(n=n.slice()).splice(h,0,_),n}return n;default:return n}}function Bw(n){return(R0(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Vw(n,t,e){return function(n,t,e){return Vl(n,"value","once",e).pipe(dr(r=>{const o=[Qe(r)];return t.forEach(c=>o.push(Vl(n,c,"on",e))),(0,vl.T)(...o).pipe(xu(Uw,[]))}),function(n,t=go.y){return n=null!=n?n:cv,(0,Jn.e)((e,r)=>{let o,c=!0;e.subscribe(new _n.Q(r,h=>{const _=t(h);(c||!n(o,_))&&(c=!1,o=_,r.next(h))}))})}())}(n,t=Bw(t),e)}function bg(n,t,e){const r=(t=Bw(t)).map(o=>Vl(n,o,"on",e));return(0,vl.T)(...r)}function P0(n,t){return function(r,o){return k0(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function zw(n){return function(e){return e?k0(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function my(n,t){return function(){return Vl(n,"value","on",t)}}const gT=new g.OlP("angularfire2.realtimeDatabaseURL"),mT=new g.OlP("angularfire2.database.use-emulator");let Ww=(()=>{class n{constructor(e,r,o,c,h,_,E,b,k,P,B,K,ne,Ae,ke){this.schedulers=_;const nt=E,gt=(0,Dr.on)(e,h,r);b&&gy(gt,h,k,B,K,ne,P,Ae),this.database=(0,Dr.cc)(`${gt.name}.database.${o}`,"AngularFireDatabase",gt.name,()=>{const Lt=h.runOutsideAngular(()=>gt.database(o||void 0));return nt&&Lt.useEmulator(...nt),Lt},[nt])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>O0(this.database,e));let c=o;return r&&(c=r(o)),function(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:P0(r,"update"),set:P0(r,"set"),push:o=>r.push(o),remove:zw(r),snapshotChanges:o=>Vw(n,o,e).pipe(wi.iC),stateChanges:o=>bg(n,o,e).pipe(wi.iC),auditTrail:o=>function(n,t,e){return function(n,t,e){return function(n,t){return Vl(n,"value","on",t).pipe((0,yt.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function(...n){const t=(0,Ri.jO)(n);return(0,Jn.e)((e,r)=>{const o=n.length,c=new Array(o);let h=n.map(()=>!1),_=!1;for(let E=0;E<o;E++)(0,wa.Xf)(n[E]).subscribe(new _n.Q(r,b=>{c[E]=b,!_&&!h[E]&&(h[E]=!0,(_=h.every(go.y))&&(h=null))},uv.Z));e.subscribe(new _n.Q(r,E=>{if(_){const b=[E,...c];r.next(t?t(...b):b)}}))})}(t),(0,yt.U)(([o,c])=>{const h=o.lastKeyToLoad,_=c.map(E=>E.key);return{actions:c,lastKeyToLoad:h,loadedKeys:_}}),(0,Jn.e)((t,e)=>{let r=!1;t.subscribe(new _n.Q(e,c=>(r||(r=!(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad))(c)))&&e.next(c)))}),(0,yt.U)(o=>o.actions))}(n,bg(n,t).pipe(xu((o,c)=>[...o,c],[])),e)}(n,o,e).pipe(wi.iC),valueChanges:(o,c)=>Vw(n,o,e).pipe((0,yt.U)(_=>_.map(E=>c&&c.idField?Object.assign(Object.assign({},E.payload.val()),{[c.idField]:E.key}):E.payload.val())),wi.iC)}}(c,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>my(n,t.schedulers.outsideAngular)().pipe(wi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>my(n,t.schedulers.outsideAngular)().pipe(wi.iC,(0,yt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>O0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Dr.Dh),g.LFG(Dr.xv,8),g.LFG(gT,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(wi.HU),g.LFG(mT,8),g.LFG(A0,8),g.LFG(hy,8),g.LFG(fy,8),g.LFG(py,8),g.LFG(xw,8),g.LFG(Fw,8),g.LFG(Lw,8),g.LFG(vd,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_y=(()=>{class n{constructor(){S0.Z.registerVersion("angularfire",wi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[Ww]}),n})();class ys extends Io.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:_T}=Array,{getPrototypeOf:N0,prototype:yy,keys:x0}=Object;const{isArray:vy}=Array;var Gw=N(8395);function Kw(...n){const t=(0,Ri.yG)(n),e=(0,Ri.jO)(n),{args:r,keys:o}=function(n){if(1===n.length){const t=n[0];if(_T(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&N0(n)===yy}(t)){const e=x0(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,Rn.D)([],t);const c=new Gn.y(function(n,t,e=go.y){return r=>{wy(t,()=>{const{length:o}=n,c=new Array(o);let h=o,_=o;for(let E=0;E<o;E++)wy(t,()=>{const b=(0,Rn.D)(n[E],t);let k=!1;b.subscribe(new _n.Q(r,P=>{c[E]=P,k||(k=!0,_--),_||r.next(e(c.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>function(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}(o,h):go.y));return e?c.pipe(function(n){return(0,yt.U)(t=>function(n,t){return vy(t)?n(...t):n(t)}(n,t))}(e)):c}function wy(n,t,e){n?(0,Gw.f)(e,n,t):t()}var uf=N(5373);function Cy(...n){return(0,uf.J)(1)((0,Rn.D)(n,(0,Ri.yG)(n)))}function Tg(n){return new Gn.y(t=>{(0,wa.Xf)(n()).subscribe(t)})}var Ur=N(5583),Dy=N(7908);function Zw(){return(0,Jn.e)((n,t)=>{let e=null;n._refCount++;const r=new _n.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,c=e;e=null,o&&(!c||o===c)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class j0 extends Gn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Jn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Dy.w0;const e=this.getSubject();t.add(this.source.subscribe(new _n.Q(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Dy.w0.EMPTY)}return t}refCount(){return Zw()(this)}}function jl(n){return(0,Jn.e)((t,e)=>{let c,r=null,o=!1;r=t.subscribe(new _n.Q(e,void 0,void 0,h=>{c=(0,wa.Xf)(n(h,jl(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(e))})}function by(n){return n<=0?()=>Ur.E:(0,Jn.e)((t,e)=>{let r=[];t.subscribe(new _n.Q(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}var Bi=N(7384);class So{constructor(t,e){this.id=t,this.url=e}}class Sg extends So{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class df extends So{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qw extends So{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jw extends So{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hf extends So{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iy extends So{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xw extends So{constructor(t,e,r,o,c){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class H0 extends So{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eC extends So{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ty{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $0{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vT{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ET{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nC{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rC{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class z0{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ff(n){return new z0(n)}const W0="ngNavigationCancelingError";function iC(n){const t=Error("NavigationCancelingError: "+n);return t[W0]=!0,t}function CT(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],_=n[c];if(h.startsWith(":"))o[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Vi(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!sC(n[o],t[o]))return!1;return!0}function sC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,c)=>r[c]===o)}return n===t}function oC(n){return Array.prototype.concat.apply([],n)}function Sy(n){return n.length>0?n[n.length-1]:null}function pr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function vs(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):Qe(n)}const K0={exact:function Ry(n,t,e){if(!$c(n.segments,t.segments)||!My(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Ry(n.children[r],t.children[r],e))return!1;return!0},subset:Z0},Ag={exact:function(n,t){return Vi(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>sC(n[e],t[e]))},ignored:()=>!0};function Rg(n,t,e){return K0[e.paths](n.root,t.root,e.matrixParams)&&Ag[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Z0(n,t,e){return q0(n,t,t.segments,e)}function q0(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!$c(o,e)||t.hasChildren()||!My(o,e,r))}if(n.segments.length===e.length){if(!$c(n.segments,e)||!My(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!Z0(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!($c(n.segments,o)&&My(n.segments,o,r)&&n.children[Pt])&&q0(n.children[Pt],t,c,r)}}function My(n,t,e){return t.every((r,o)=>Ag[e](n[o].parameters,r.parameters))}class Cd{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return dC.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pr(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}}class Mg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ff(this.parameters)),this._parameterMap}toString(){return gf(this)}}function $c(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class cC{}class uC{parse(t){const e=new rI(t);return new Cd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Dd(t.root,!0)}`,r=function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Og(e)}=${Og(o)}`).join("&"):`${Og(e)}=${Og(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),o="string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${r}${o}`}}const dC=new uC;function pf(n){return n.segments.map(t=>gf(t)).join("/")}function Dd(n,t){if(!n.hasChildren())return pf(n);if(t){const e=n.children[Pt]?Dd(n.children[Pt],!1):"",r=[];return pr(n.children,(o,c)=>{c!==Pt&&r.push(`${c}:${Dd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return pr(n.children,(r,o)=>{o===Pt&&(e=e.concat(t(r,o)))}),pr(n.children,(r,o)=>{o!==Pt&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Pt?[Dd(n.children[Pt],!1)]:[`${o}:${Dd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${pf(n)}/${e[0]}`:`${pf(n)}/(${e.join("//")})`}}function hC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Og(n){return hC(n).replace(/%3B/gi,";")}function bd(n){return hC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kg(n){return decodeURIComponent(n)}function Oy(n){return kg(n.replace(/\+/g,"%20"))}function gf(n){return`${bd(n.path)}${function(n){return Object.keys(n).map(t=>`;${bd(t)}=${bd(n[t])}`).join("")}(n.parameters)}`}const X0=/^[^\/()?;=#]+/;function Pg(n){const t=n.match(X0);return t?t[0]:""}const bT=/^[^=?&#]+/,tI=/^[^&#]+/;class rI{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Pt]=new Bt(t,e)),r}parseSegment(){const t=Pg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Mg(kg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pg(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Pg(this.remaining);o&&(r=o,this.capture(r))}t[kg(e)]=kg(r)}parseQueryParam(t){const e=function(n){const t=n.match(bT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(tI);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Oy(e),c=Oy(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Pt);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[Pt]:new Bt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class pC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ky(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=ky(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Py(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Py(t,this._root).map(e=>e.value)}}function ky(n,t){if(n===t.value)return t;for(const e of t.children){const r=ky(n,e);if(r)return r}return null}function Py(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Py(n,e);if(r.length)return r.unshift(t),r}return[]}class Na{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function mf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class iI extends pC{constructor(t,e){super(t),this.snapshot=e,mC(this,t)}toString(){return this.snapshot.toString()}}function sI(n,t){const e=function(n,t){const h=new Ny([],{},{},"",{},Pt,t,null,n.root,-1,{});return new oI("",new Na(h,[]))}(n,t),r=new ys([new Mg("",{})]),o=new ys({}),c=new ys({}),h=new ys({}),_=new ys(""),E=new _f(r,o,h,_,c,Pt,t,e.root);return E.snapshot=e.root,new iI(new Na(E,[]),e)}class _f{constructor(t,e,r,o,c,h,_,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=_,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(t=>ff(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(t=>ff(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gC(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],c=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:ht(ht({},t.params),e.params),data:ht(ht({},t.data),e.data),resolve:ht(ht({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Ny{constructor(t,e,r,o,c,h,_,E,b,k,P){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=_,this.routeConfig=E,this._urlSegment=b,this._lastPathIndex=k,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ff(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oI extends pC{constructor(t,e){super(e),this.url=t,mC(this,e)}toString(){return i(this._root)}}function mC(n,t){t.value._routerState=n,t.children.forEach(e=>mC(n,e))}function i(n){const t=n.children.length>0?` { ${n.children.map(i).join(", ")} } `:"";return`${n.value}${t}`}function s(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Vi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Vi(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Vi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Vi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function a(n,t){const e=Vi(n.params,t.params)&&function(n,t){return $c(n,t)&&n.every((e,r)=>Vi(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||a(n.parent,t.parent))}function u(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return u(n,r,o);return u(n,r)})}(n,t,e);return new Na(r,o)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(_=>u(n,_)),h}}const r=function(n){return new _f(new ys(n.url),new ys(n.params),new ys(n.queryParams),new ys(n.fragment),new ys(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(c=>u(n,c));return new Na(r,o)}}function C(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function S(n){return"object"==typeof n&&null!=n&&n.outlets}function M(n,t,e,r,o){let c={};return r&&pr(r,(h,_)=>{c[_]=Array.isArray(h)?h.map(E=>`${E}`):`${h}`}),new Cd(e.root===n?t:F(e.root,n,t),c,o)}function F(n,t,e){const r={};return pr(n.children,(o,c)=>{r[c]=o===t?e:F(o,t,e)}),new Bt(n.segments,r)}class z{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&C(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(S);if(o&&o!==Sy(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class me{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function be(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return it(n,t,e);const r=function(n,t,e){let r=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return c;const h=n.segments[o],_=e[r];if(S(_))break;const E=`${_}`,b=r<e.length-1?e[r+1]:null;if(o>0&&void 0===E)break;if(E&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ng(E,b,h))return c;r+=2}else{if(!Ng(E,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Bt(n.segments.slice(0,r.pathIndex),{});return c.children[Pt]=new Bt(n.segments.slice(r.pathIndex),n.children),it(c,0,o)}return r.match&&0===o.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Yt(n,t,e):r.match?it(n,0,o):Yt(n,t,e)}function it(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const r=function(n){return S(n[0])?n[0].outlets:{[Pt]:n}}(e),o={};return pr(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=be(n.children[h],t,c))}),pr(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new Bt(n.segments,o)}}function Yt(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(S(c)){const E=ji(c.outlets);return new Bt(r,E)}if(0===o&&C(e[0])){r.push(new Mg(n.segments[t].path,Hl(e[0]))),o++;continue}const h=S(c)?c.outlets[Pt]:`${c}`,_=o<e.length-1?e[o+1]:null;h&&_&&C(_)?(r.push(new Mg(h,Hl(_))),o+=2):(r.push(new Mg(h,{})),o++)}return new Bt(r,{})}function ji(n){const t={};return pr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Yt(new Bt([],{}),0,e))}),t}function Hl(n){const t={};return pr(n,(e,r)=>t[r]=`${e}`),t}function Ng(n,t,e){return n==e.path&&Vi(t,e.parameters)}class Fy{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),s(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=mf(e);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),pr(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=mf(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);if(r&&r.outlet){const h=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:_})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=mf(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=mf(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new nC(c.value.snapshot))}),t.children.length&&this.forwardEvent(new vT(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(s(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),s(_.route.value),this.activateChildRoutes(t,null,h.children)}else{const _=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),E=_?_.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class yf{constructor(t,e){this.routes=t,this.module=e}}function Ao(n){return"function"==typeof n}function xa(n){return n instanceof Cd}const Vy=Symbol("INITIAL_VALUE");function jy(){return dr(n=>Kw(n.map(t=>t.pipe((0,rg.q)(1),function(...n){const t=(0,Ri.yG)(n);return(0,Jn.e)((e,r)=>{(t?Cy(n,e,t):Cy(n,e)).subscribe(r)})}(Vy)))).pipe(xu((t,e)=>{let r=!1;return e.reduce((o,c,h)=>o!==Vy?o:(c===Vy&&(r=!0),r||!1!==c&&h!==e.length-1&&!xa(c)?o:c),t)},Vy),Yr(t=>t!==Vy),(0,yt.U)(t=>xa(t)?t:!0===t),(0,rg.q)(1)))}class US{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hy,this.attachRef=null}}class Hy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new US,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let aI=(()=>{class n{constructor(e,r,o,c,h){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=c||Pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,E=new BS(e,_,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Hy),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class BS{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===_f?this.route:t===Hy?this.childContexts:this.parent.get(t,e)}}let ST=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&g._UZ(0,"router-outlet")},directives:[aI],encapsulation:2}),n})();function AT(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];VS(r,jS(t,r))}}function VS(n,t){n.children&&AT(n.children,t)}function jS(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function lI(n){const t=n.children&&n.children.map(lI),e=t?Es(ht({},n),{children:t}):ht({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Pt&&(e.component=ST),e}function Ro(n){return n.outlet||Pt}function RT(n,t){const e=n.filter(r=>Ro(r)===t);return e.push(...n.filter(r=>Ro(r)!==t)),e}const MT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _C(n,t,e){var _;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?ht({},MT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||CT)(e,n,t);if(!o)return ht({},MT);const c={};pr(o.posParams,(E,b)=>{c[b]=E.path});const h=o.consumed.length>0?ht(ht({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!=(_=o.posParams)?_:{}}}function yC(n,t,e,r,o="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>vC(n,t,r)&&Ro(r)!==Pt)}(n,e,r)){const h=new Bt(t,function(n,t,e,r){const o={};o[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Ro(c)!==Pt){const h=new Bt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[Ro(c)]=h}return o}(n,t,r,new Bt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>vC(n,t,r))}(n,e,r)){const h=new Bt(n.segments,function(n,t,e,r,o,c){const h={};for(const _ of r)if(vC(n,e,_)&&!o[Ro(_)]){const E=new Bt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===c?n.segments.length:t.length,h[Ro(_)]=E}return ht(ht({},o),h)}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const c=new Bt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function vC(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function OT(n,t,e,r){return!!(Ro(n)===r||r!==Pt&&vC(t,e,n))&&("**"===n.path||_C(t,n,e).matched)}function kT(n,t,e){return 0===t.length&&!n.children[e]}class $y{constructor(t){this.segmentGroup=t||null}}class PT{constructor(t){this.urlTree=t}}function EC(n){return new Gn.y(t=>t.error(new $y(n)))}function NT(n){return new Gn.y(t=>t.error(new PT(n)))}function GS(n){return new Gn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class qS{constructor(t,e,r,o,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(g.h0i)}apply(){const t=yC(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Pt).pipe((0,yt.U)(c=>this.createUrlTree(cI(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jl(c=>{if(c instanceof PT)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof $y?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pt).pipe((0,yt.U)(o=>this.createUrlTree(cI(o),t.queryParams,t.fragment))).pipe(jl(o=>{throw o instanceof $y?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new Bt([],{[Pt]:t}):t;return new Cd(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,yt.U)(c=>new Bt([],c))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Rn.D)(o).pipe(qr(c=>{const h=r.children[c],_=RT(e,c);return this.expandSegmentGroup(t,_,h,c).pipe((0,yt.U)(E=>({segment:E,outlet:c})))}),xu((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Yr((o,c)=>n(o,c,r)):go.y,by(1),e?Y_(t):sw(()=>new ng))}())}expandSegment(t,e,r,o,c,h){return(0,Rn.D)(r).pipe(qr(_=>this.expandSegmentAgainstRoute(t,e,r,_,o,c,h).pipe(jl(b=>{if(b instanceof $y)return Qe(null);throw b}))),jc(_=>!!_),jl((_,E)=>{if(_ instanceof ng||"EmptyError"===_.name){if(kT(e,o,c))return Qe(new Bt([],{}));throw new $y(e)}throw _}))}expandSegmentAgainstRoute(t,e,r,o,c,h,_){return OT(o,e,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,c,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h):EC(e):EC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NT(c):this.lineralizeSegments(r,c).pipe((0,Kn.z)(h=>{const _=new Bt(h,{});return this.expandSegment(t,_,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h){const{matched:_,consumedSegments:E,lastChild:b,positionalParamSegments:k}=_C(e,o,c);if(!_)return EC(e);const P=this.applyRedirectCommands(E,o.redirectTo,k);return o.redirectTo.startsWith("/")?NT(P):this.lineralizeSegments(o,P).pipe((0,Kn.z)(B=>this.expandSegment(t,e,r,B.concat(c.slice(b)),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Qe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,yt.U)(B=>(r._loadedConfig=B,new Bt(o,{})))):Qe(new Bt(o,{}));const{matched:h,consumedSegments:_,lastChild:E}=_C(e,r,o);if(!h)return EC(e);const b=o.slice(E);return this.getChildConfig(t,r,o).pipe((0,Kn.z)(P=>{const B=P.module,K=P.routes,{segmentGroup:ne,slicedSegments:Ae}=yC(e,_,b,K),ke=new Bt(ne.segments,ne.children);if(0===Ae.length&&ke.hasChildren())return this.expandChildren(B,K,ke).pipe((0,yt.U)(_t=>new Bt(_,_t)));if(0===K.length&&0===Ae.length)return Qe(new Bt(_,{}));const nt=Ro(r)===c;return this.expandSegment(B,ke,K,Ae,nt?Pt:c,!0).pipe((0,yt.U)(Lt=>new Bt(_.concat(Lt.segments),Lt.children)))}))}getChildConfig(t,e,r){return e.children?Qe(new yf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Qe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Kn.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,yt.U)(c=>(e._loadedConfig=c,c))):function(n){return new Gn.y(t=>t.error(iC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Qe(new yf([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;if(!o||0===o.length)return Qe(!0);const c=o.map(h=>{const _=t.get(h);let E;if(function(n){return n&&Ao(n.canLoad)}(_))E=_.canLoad(e,r);else{if(!Ao(_))throw new Error("Invalid CanLoad guard");E=_(e,r)}return vs(E)});return Qe(c).pipe(jy(),(0,Bi.b)(h=>{if(!xa(h))return;const _=iC(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw _.url=h,_}),(0,yt.U)(h=>!0===h))}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Qe(r);if(o.numberOfChildren>1||!o.children[Pt])return GS(t.redirectTo);o=o.children[Pt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const c=this.createSegmentGroup(t,e.root,r,o);return new Cd(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return pr(t,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);r[c]=e[_]}else r[c]=o}),r}createSegmentGroup(t,e,r,o){const c=this.createSegments(t,e.segments,r,o);let h={};return pr(e.children,(_,E)=>{h[E]=this.createSegmentGroup(t,_,r,o)}),new Bt(c,h)}createSegments(t,e,r,o){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,o):this.findOrReturn(c,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function cI(n){const t={};for(const r of Object.keys(n.children)){const c=cI(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Pt]){const t=n.children[Pt];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}class xT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wC{constructor(t,e){this.component=t,this.route=e}}function JS(n,t,e){const r=n._root;return zy(r,t?t._root:null,e,[r.value])}function CC(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function zy(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=mf(t);return n.children.forEach(h=>{(function(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const E=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$c(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$c(n.url,t.url)||!Vi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a(n,t)||!Vi(n.queryParams,t.queryParams);default:return!a(n,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new xT(r)):(c.data=h.data,c._resolvedData=h._resolvedData),zy(n,t,c.component?_?_.children:null:e,r,o),E&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new wC(_.outlet.component,h))}else h&&Wy(t,_,o),o.canActivateChecks.push(new xT(r)),zy(n,null,c.component?_?_.children:null:e,r,o)})(h,c[h.value.outlet],e,r.concat([h.value]),o),delete c[h.value.outlet]}),pr(c,(h,_)=>Wy(h,e.getContext(_),o)),o}function Wy(n,t,e){const r=mf(n),o=n.value;pr(r,(c,h)=>{Wy(c,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new wC(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class dA{}function FT(n){return new Gn.y(t=>t.error(n))}class fA{constructor(t,e,r,o,c,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const t=yC(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Pt);if(null===e)return null;const r=new Ny([],Object.freeze({}),Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Na(r,e),c=new oI(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=gC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const h=e.children[c],_=RT(t,c),E=this.processSegmentGroup(_,h,c);if(null===E)return null;r.push(...E)}const o=LT(r);return function(n){n.sort((t,e)=>t.value.outlet===Pt?-1:e.value.outlet===Pt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,r,o){for(const c of t){const h=this.processSegmentAgainstRoute(c,e,r,o);if(null!==h)return h}return kT(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!OT(t,e,r,o))return null;let c,h=[],_=[];if("**"===t.path){const K=r.length>0?Sy(r).parameters:{};c=new Ny(r,K,Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,VT(t),Ro(t),t.component,t,UT(e),BT(e)+r.length,jT(t))}else{const K=_C(e,t,r);if(!K.matched)return null;h=K.consumedSegments,_=r.slice(K.lastChild),c=new Ny(h,K.parameters,Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,VT(t),Ro(t),t.component,t,UT(e),BT(e)+h.length,jT(t))}const E=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:k}=yC(e,h,_,E.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===k.length&&b.hasChildren()){const K=this.processChildren(E,b);return null===K?null:[new Na(c,K)]}if(0===E.length&&0===k.length)return[new Na(c,[])];const P=Ro(t)===o,B=this.processSegment(E,b,k,P?Pt:o);return null===B?null:[new Na(c,B)]}}function mA(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function LT(n){const t=[],e=new Set;for(const r of n){if(!mA(r)){t.push(r);continue}const o=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=LT(r.children);t.push(new Na(r.value,o))}return t.filter(r=>!e.has(r))}function UT(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function BT(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function VT(n){return n.data||{}}function jT(n){return n.resolve||{}}function uI(n){return dr(t=>{const e=n(t);return e?(0,Rn.D)(e).pipe((0,yt.U)(()=>t)):Qe(t)})}class bA extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const dI=new g.OlP("ROUTES");class HT{constructor(t,e,r,o){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,yt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=c.create(t);return new yf(oC(h.injector.get(dI,void 0,g.XFs.Self|g.XFs.Optional)).map(lI),h)}),jl(c=>{throw e._loader$=void 0,c}));return e._loader$=new j0(o,()=>new Io.x).pipe(Zw()),e._loader$}loadModuleFactory(t){return vs(t()).pipe((0,Kn.z)(e=>e instanceof g.YKP?Qe(e):(0,Rn.D)(this.compiler.compileModuleAsync(e))))}}class TA{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function SA(n){throw n}function AA(n,t,e){return t.parse("/")}function $T(n,t){return Qe(null)}const RA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gs=(()=>{class n{constructor(e,r,o,c,h,_,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Io.x,this.errorHandler=SA,this.malformedUriErrorHandler=AA,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$T,afterPreactivation:$T},this.urlHandlingStrategy=new TA,this.routeReuseStrategy=new bA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(g.h0i),this.console=h.get(g.c2e);const P=h.get(g.R0b);this.isNgZoneEnabled=P instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new Cd(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new HT(h,_,B=>this.triggerEvent(new Ty(B)),B=>this.triggerEvent(new tC(B))),this.routerState=sI(this.currentUrlTree,this.rootComponentType),this.transitions=new ys({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Yr(o=>0!==o.id),(0,yt.U)(o=>Es(ht({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dr(o=>{let c=!1,h=!1;return Qe(o).pipe((0,Bi.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Es(ht({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dr(_=>{const E=this.browserUrlTree.toString(),b=!this.navigated||_.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return DC(_.source)&&(this.browserUrlTree=_.extractedUrl),Qe(_).pipe(dr(P=>{const B=this.transitions.getValue();return r.next(new Sg(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),B!==this.transitions.getValue()?Ur.E:Promise.resolve(P)}),function(n,t,e,r){return dr(o=>function(n,t,e,r,o){return new qS(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,yt.U)(c=>Es(ht({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Bi.b)(P=>{this.currentNavigation=Es(ht({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,t,e,r,o){return(0,Kn.z)(c=>function(n,t,e,r,o="emptyOnly",c="legacy"){try{const h=new fA(n,t,e,r,o,c).recognize();return null===h?FT(new dA):Qe(h)}catch(h){return FT(h)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,o).pipe((0,yt.U)(h=>Es(ht({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Bi.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(K,P)}this.browserUrlTree=P.urlAfterRedirects}const B=new hf(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(B)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:K,source:ne,restoredState:Ae,extras:ke}=_,nt=new Sg(B,this.serializeUrl(K),ne,Ae);r.next(nt);const gt=sI(K,this.rootComponentType).snapshot;return Qe(Es(ht({},_),{targetSnapshot:gt,urlAfterRedirects:K,extras:Es(ht({},ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),Ur.E}),uI(_=>{const{targetSnapshot:E,id:b,extractedUrl:k,rawUrl:P,extras:{skipLocationChange:B,replaceUrl:K}}=_;return this.hooks.beforePreactivation(E,{navigationId:b,appliedUrlTree:k,rawUrlTree:P,skipLocationChange:!!B,replaceUrl:!!K})}),(0,Bi.b)(_=>{const E=new Iy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),(0,yt.U)(_=>Es(ht({},_),{guards:JS(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Kn.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?Qe(Es(ht({},e),{guardsResult:!0})):function(n,t,e,r){return(0,Rn.D)(n).pipe((0,Kn.z)(o=>function(n,t,e,r,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Qe(c.map(_=>{const E=CC(_,t,o);let b;if(function(n){return n&&Ao(n.canDeactivate)}(E))b=vs(E.canDeactivate(n,t,e,r));else{if(!Ao(E))throw new Error("Invalid CanDeactivate guard");b=vs(E(n,t,e,r))}return b.pipe(jc())})).pipe(jy()):Qe(!0)}(o.component,o.route,e,t,r)),jc(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Kn.z)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,t,e,r){return(0,Rn.D)(t).pipe(qr(o=>Cy(function(n,t){return null!==n&&t&&t(new $0(n)),Qe(!0)}(o.route.parent,r),function(n,t){return null!==n&&t&&t(new ET(n)),Qe(!0)}(o.route,r),function(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Tg(()=>Qe(h.guards.map(E=>{const b=CC(E,h.node,e);let k;if(function(n){return n&&Ao(n.canActivateChild)}(b))k=vs(b.canActivateChild(r,n));else{if(!Ao(b))throw new Error("Invalid CanActivateChild guard");k=vs(b(r,n))}return k.pipe(jc())})).pipe(jy())));return Qe(c).pipe(jy())}(n,o.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const o=r.map(c=>Tg(()=>{const h=CC(c,t,e);let _;if(function(n){return n&&Ao(n.canActivate)}(h))_=vs(h.canActivate(t,n));else{if(!Ao(h))throw new Error("Invalid CanActivate guard");_=vs(h(t,n))}return _.pipe(jc())}));return Qe(o).pipe(jy())}(n,o.route,e))),jc(o=>!0!==o,!0))}(r,c,n,t):Qe(_)),(0,yt.U)(_=>Es(ht({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Bi.b)(_=>{if(xa(_.guardsResult)){const b=iC(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw b.url=_.guardsResult,b}const E=new Xw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(E)}),Yr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),uI(_=>{if(_.guards.canActivateChecks.length)return Qe(_).pipe((0,Bi.b)(E=>{const b=new H0(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(b)}),dr(E=>{let b=!1;return Qe(E).pipe(function(n,t){return(0,Kn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Qe(e);let c=0;return(0,Rn.D)(o).pipe(qr(h=>function(n,t,e,r){return function(n,t,e,r){const o=Object.keys(n);if(0===o.length)return Qe({});const c={};return(0,Rn.D)(o).pipe((0,Kn.z)(h=>function(n,t,e,r){const o=CC(n,t,r);return vs(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe((0,Bi.b)(_=>{c[h]=_}))),by(1),(0,Kn.z)(()=>Object.keys(c).length===o.length?Qe(c):Ur.E))}(n._resolve,n,t,r).pipe((0,yt.U)(c=>(n._resolvedData=c,n.data=ht(ht({},n.data),gC(n,e).resolve),null)))}(h.route,r,n,t)),(0,Bi.b)(()=>c++),by(1),(0,Kn.z)(h=>c===o.length?Qe(e):Ur.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Bi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Bi.b)(E=>{const b=new eC(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(b)}))}),uI(_=>{const{targetSnapshot:E,id:b,extractedUrl:k,rawUrl:P,extras:{skipLocationChange:B,replaceUrl:K}}=_;return this.hooks.afterPreactivation(E,{navigationId:b,appliedUrlTree:k,rawUrlTree:P,skipLocationChange:!!B,replaceUrl:!!K})}),(0,yt.U)(_=>{const E=function(n,t,e){const r=u(n,t._root,e?e._root:void 0);return new iI(r,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Es(ht({},_),{targetRouterState:E})}),(0,Bi.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,yt.U)(r=>(new Fy(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Bi.b)({next(){c=!0},complete(){c=!0}}),function(n){return(0,Jn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var _;c||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null==(_=this.currentNavigation)?void 0:_.id)===o.id&&(this.currentNavigation=null)}),jl(_=>{if(h=!0,function(n){return n&&n[W0]}(_)){const E=xa(_.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const b=new Qw(o.id,this.serializeUrl(o.extractedUrl),_.message);r.next(b),E?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),P={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||DC(o.source)};this.scheduleNavigation(k,"imperative",null,P,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Jw(o.id,this.serializeUrl(o.extractedUrl),_);r.next(E);try{o.resolve(this.errorHandler(_))}catch(b){o.reject(b)}}return Ur.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(ht(ht({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var _;const o={replaceUrl:!0},c=(null==(_=e.state)?void 0:_.navigationId)?e.state:null;if(c){const E=ht({},c);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(o.state=E)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){AT(e),this.config=e.map(lI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:_,preserveFragment:E}=r,b=o||this.routerState.root,k=E?this.currentUrlTree.fragment:h;let P=null;switch(_){case"merge":P=ht(ht({},this.currentUrlTree.queryParams),c);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=c||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,t,e,r,o){if(0===e.length)return M(t.root,t.root,t,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new z(!0,0,n);let t=0,e=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return pr(c.outlets,(E,b)=>{_[b]="string"==typeof E?E.split("/"):E}),[...o,{outlets:_}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?e=!0:".."===_?t++:""!=_&&o.push(_))}),o):[...o,c]},[]);return new z(e,t,r)}(e);if(c.toRoot())return M(t.root,new Bt([],{}),t,r,o);const h=function(n,t,e){if(n.isAbsolute)return new me(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new me(c,c===t.root,0)}const r=C(n.commands[0])?0:1;return function(n,t,e){let r=n,o=t,c=e;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new me(r,!1,o-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),_=h.processChildren?it(h.segmentGroup,h.index,c.commands):be(h.segmentGroup,h.index,c.commands);return M(h.segmentGroup,_,t,r,o)}(b,this.currentUrlTree,e,P,null!=k?k:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=xa(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?ht({},RA):!1===r?ht({},MA):r,xa(e))return Rg(this.currentUrlTree,e,o);const c=this.parseUrl(e);return Rg(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const c=e[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new df(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,c,h){var nt,gt,Lt;if(this.disposed)return Promise.resolve(!1);const _=this.transitions.value,E=DC(r)&&_&&!DC(_.source),b=_.rawUrl.toString()===e.toString(),k=_.id===(null==(nt=this.currentNavigation)?void 0:nt.id);if(E&&b&&k)return Promise.resolve(!0);let B,K,ne;h?(B=h.resolve,K=h.reject,ne=h.promise):ne=new Promise((_t,rr)=>{B=_t,K=rr});const Ae=++this.navigationId;let ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ke=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!=(gt=this.browserPageId)?gt:0:(null!=(Lt=this.browserPageId)?Lt:0)+1):ke=0,this.setTransition({id:Ae,targetPageId:ke,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:B,reject:K,promise:ne,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ne.catch(_t=>Promise.reject(_t))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),c=ht(ht({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(e,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(o=this.currentNavigation)?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null==(c=this.currentNavigation)?void 0:c.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new Qw(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function DC(n){return"imperative"!==n}class zT{}class WT{preload(t,e){return Qe(null)}}let GT=(()=>{class n{constructor(e,r,o,c){this.router=e,this.injector=o,this.preloadingStrategy=c,this.loader=new HT(o,r,E=>e.triggerEvent(new Ty(E)),E=>e.triggerEvent(new tC(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(e=>e instanceof df),qr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(g.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(e,c)):c.children&&o.push(this.processRoutes(e,c.children));return(0,Rn.D)(o).pipe((0,uf.J)(),(0,yt.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Qe(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Kn.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Gs),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(zT))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),pI=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Sg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof df&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof rC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new rC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const vf=new g.OlP("ROUTER_CONFIGURATION"),KT=new g.OlP("ROUTER_FORROOT_GUARD"),xA=[$e,{provide:cC,useClass:uC},{provide:Gs,useFactory:function(n,t,e,r,o,c,h={},_,E){const b=new Gs(null,n,t,e,r,o,oC(c));return _&&(b.urlHandlingStrategy=_),E&&(b.routeReuseStrategy=E),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,b),h.enableTracing&&b.events.subscribe(k=>{var P,B;null==(P=console.group)||P.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null==(B=console.groupEnd)||B.call(console)}),b},deps:[cC,Hy,$e,g.zs3,g.Sil,dI,vf,[class{},new g.FiY],[class{},new g.FiY]]},Hy,{provide:_f,useFactory:function(n){return n.routerState.root},deps:[Gs]},GT,WT,class{preload(t,e){return e().pipe(jl(()=>Qe(null)))}},{provide:vf,useValue:{enableTracing:!1}}];function FA(){return new g.PXZ("Router",Gs)}let ZT=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[xA,qT(e),{provide:KT,useFactory:BA,deps:[[Gs,new g.FiY,new g.tp0]]},{provide:vf,useValue:r||{}},{provide:ce,useFactory:UA,deps:[le,[new g.tBr(ue),new g.FiY],vf]},{provide:pI,useFactory:LA,deps:[Gs,Md,vf]},{provide:zT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:WT},{provide:g.PXZ,multi:!0,useFactory:FA},[gI,{provide:g.ip1,multi:!0,useFactory:$A,deps:[gI]},{provide:YT,useFactory:zA,deps:[gI]},{provide:g.tb,multi:!0,useExisting:YT}]]}}static forChild(e){return{ngModule:n,providers:[qT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(KT,8),g.LFG(Gs,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function LA(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new pI(n,t,e)}function UA(n,t,e={}){return e.useHash?new ye(n,t):new De(n,t)}function BA(n){return"guarded"}function qT(n){return[{provide:g.deG,multi:!0,useValue:n},{provide:dI,multi:!0,useValue:n}]}let gI=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Io.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(_=>r=_),c=this.injector.get(Gs),h=this.injector.get(vf);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Qe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(vf),o=this.injector.get(GT),c=this.injector.get(pI),h=this.injector.get(Gs),_=this.injector.get(g.z2F);e===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),c.init(),h.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function $A(n){return n.appInitializer.bind(n)}function zA(n){return n.bootstrapListener.bind(n)}const YT=new g.OlP("Router Initializer");let QT=(()=>{class n{constructor(e){this.store=e,this.races=this.store.list("races"),console.log(this.races)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Ww))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GA=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,g.f3M)(oe)}}),ZA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let YA=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new g.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ZA.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(GA,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function IC(n){return null!=n&&"false"!=`${n}`}function mI(n){return n&&"function"==typeof n.connect}class JT{applyChanges(t,e,r,o,c){t.forEachOperation((h,_,E)=>{let b,k;if(null==h.previousIndex){const P=r(h,_,E);b=e.createEmbeddedView(P.templateRef,P.context,P.index),k=1}else null==E?(e.remove(_),k=3):(b=e.get(_),e.move(b,E),k=2);c&&c({context:null==b?void 0:b.context,operation:k,record:h})})}detach(){}}const Gy=new g.OlP("_ViewRepeater");let _I;try{_I="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){_I=!1}let yI=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===nu}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_I)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.Lbi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var tS=N(2869);const Zy={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Zy;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=t(c=>{e=void 0,n(c)});return new Dy.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=Zy;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Zy;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var nS=N(8843);new class extends nS.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,o=-1;t=t||e.shift();const c=e.length;do{if(r=t.execute(t.state,t.delay))break}while(++o<c&&(t=e.shift()));if(this._active=!1,r){for(;++o<c&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends tS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Zy.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(Zy.cancelAnimationFrame(e),t._scheduled=void 0)}});let wI,iR=1;const SC={};function rS(n){return n in SC&&(delete SC[n],!0)}const sR={setImmediate(n){const t=iR++;return SC[t]=!0,wI||(wI=Promise.resolve()),wI.then(()=>rS(t)&&n()),t},clearImmediate(n){rS(n)}},{setImmediate:oR,clearImmediate:aR}=sR,AC={setImmediate(...n){const{delegate:t}=AC;return((null==t?void 0:t.setImmediate)||oR)(...n)},clearImmediate(n){const{delegate:t}=AC;return((null==t?void 0:t.clearImmediate)||aR)(n)},delegate:void 0};new class extends nS.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,o=-1;t=t||e.shift();const c=e.length;do{if(r=t.execute(t.state,t.delay))break}while(++o<c&&(t=e.shift()));if(this._active=!1,r){for(;++o<c&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends tS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=AC.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(AC.clearImmediate(e),t._scheduled=void 0)}});var hR=N(7398);function gR(n,t=Sc.P){return function(n){return(0,Jn.e)((t,e)=>{let r=!1,o=null,c=null,h=!1;const _=()=>{if(null==c||c.unsubscribe(),c=null,r){r=!1;const b=o;o=null,e.next(b)}h&&e.complete()},E=()=>{c=null,h&&e.complete()};t.subscribe(new _n.Q(e,b=>{r=!0,o=b,c||(0,wa.Xf)(n()).subscribe(c=new _n.Q(e,_,E))},()=>{h=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>function(n=0,t,e=Sc.P){let r=-1;return null!=t&&((0,hR.K)(t)?e=t:r=t),new Gn.y(o=>{let c=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},c)})}(n,t))}let _R=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new Io.x,this._changeListener=c=>{this._change.next(c)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,c=o.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(gR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(yI),g.LFG(g.R0b),g.LFG(oe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),yR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[bC,iS],bC,iS]}),n})();function qy(n){return(0,Jn.e)((t,e)=>{(0,wa.Xf)(n).subscribe(new _n.Q(e,()=>e.complete(),uv.Z)),!e.closed&&t.subscribe(e)})}const ER=[[["caption"]],[["colgroup"],["col"]]],wR=["caption","colgroup, col"];function CI(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=IC(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Lg=new g.OlP("CDK_TABLE");let Ug=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Bg=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),RC=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class IR{}const TR=CI(IR);let zc=(()=>{class n extends TR{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=IC(e),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Lg,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,o){if(1&e&&(g.Suo(o,Ug,5),g.Suo(o,Bg,5),g.Suo(o,RC,5)),2&e){let c;g.iGM(c=g.CRH())&&(r.cell=c.first),g.iGM(c=g.CRH())&&(r.headerCell=c.first),g.iGM(c=g.CRH())&&(r.footerCell=c.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[g._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),g.qOj]}),n})();class DI{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let bI=(()=>{class n extends DI{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(zc),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[g.qOj]}),n})(),II=(()=>{class n extends DI{constructor(e,r){var o;if(super(e,r),1===(null==(o=e._table)?void 0:o._elementRef.nativeElement.nodeType)){const c=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===c||"treegrid"===c?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(zc),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[g.qOj]}),n})();class oS{constructor(){this.tasks=[],this.endTasks=[]}}const TI=new g.OlP("_COALESCED_STYLE_SCHEDULER");let aS=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Io.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new oS,this._getScheduleObservable().pipe(qy(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new oS;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Rn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,rg.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),SI=(()=>{class n{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Yy?e.headerCell.template:this instanceof Qy?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,features:[g.TTD]}),n})();class SR extends SI{}const AR=CI(SR);let Yy=(()=>{class n extends AR{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc),g.Y36(g.ZZ4),g.Y36(Lg,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[g.qOj,g.TTD]}),n})();class RR extends SI{}const MR=CI(RR);let Qy=(()=>{class n extends MR{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc),g.Y36(g.ZZ4),g.Y36(Lg,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[g.qOj,g.TTD]}),n})(),MC=(()=>{class n extends SI{constructor(e,r,o){super(e,r),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc),g.Y36(g.ZZ4),g.Y36(Lg,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[g.qOj]}),n})(),Wc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),AI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&g.GkF(0,0)},directives:[Wc],encapsulation:2}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&g.GkF(0,0)},directives:[Wc],encapsulation:2}),n})(),OC=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const lS=["top","bottom","left","right"];class OR{constructor(t,e,r,o,c=!0,h=!0,_){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=c,this._needsPositionStickyOnElement=h,this._positionListener=_,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const r=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let c=0;c<o.children.length;c++)r.push(o.children[c])}this._coalescedStyleScheduler.schedule(()=>{for(const o of r)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,r,o=!0){if(!t.length||!this._isBrowser||!e.some(B=>B)&&!r.some(B=>B))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const c=t[0],h=c.children.length,_=this._getCellWidths(c,o),E=this._getStickyStartColumnPositions(_,e),b=this._getStickyEndColumnPositions(_,r),k=e.lastIndexOf(!0),P=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const B="rtl"===this.direction,K=B?"right":"left",ne=B?"left":"right";for(const Ae of t)for(let ke=0;ke<h;ke++){const nt=Ae.children[ke];e[ke]&&this._addStickyStyle(nt,K,E[ke],ke===k),r[ke]&&this._addStickyStyle(nt,ne,b[ke],ke===P)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===k?[]:_.slice(0,k+1).map((Ae,ke)=>e[ke]?Ae:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===P?[]:_.slice(P).map((Ae,ke)=>r[ke+P]?Ae:null).reverse()}))})}stickRows(t,e,r){if(!this._isBrowser)return;const o="bottom"===r?t.slice().reverse():t,c="bottom"===r?e.slice().reverse():e,h=[],_=[],E=[];for(let k=0,P=0;k<o.length;k++){if(!c[k])continue;h[k]=P;const B=o[k];E[k]=this._isNativeHtmlTable?Array.from(B.children):[B];const K=B.getBoundingClientRect().height;P+=K,_[k]=K}const b=c.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var k,P;for(let B=0;B<o.length;B++){if(!c[B])continue;const K=h[B],ne=B===b;for(const Ae of E[B])this._addStickyStyle(Ae,r,K,ne)}"top"===r?null==(k=this._positionListener)||k.stickyHeaderRowsUpdated({sizes:_,offsets:h,elements:E}):null==(P=this._positionListener)||P.stickyFooterRowsUpdated({sizes:_,offsets:h,elements:E})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);lS.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const o of lS)t.style[o]&&(r+=e[o]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],o=t.children;for(let c=0;c<o.length;c++)r.push(o[c].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let o=0;for(let c=0;c<t.length;c++)e[c]&&(r[c]=o,o+=t[c]);return r}_getStickyEndColumnPositions(t,e){const r=[];let o=0;for(let c=t.length;c>0;c--)e[c]&&(r[c]=o,o+=t[c]);return r}}const OI=new g.OlP("CDK_SPL");let kC=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),PC=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),NC=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),xC=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),FC=(()=>{class n{constructor(e,r,o,c,h,_,E,b,k,P,B,K){this._differs=e,this._changeDetectorRef=r,this._elementRef=o,this._dir=h,this._platform=E,this._viewRepeater=b,this._coalescedStyleScheduler=k,this._viewportRuler=P,this._stickyPositioningListener=B,this._ngZone=K,this._onDestroy=new Io.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new g.vpe,this.viewChange=new ys({start:0,end:Number.MAX_VALUE}),c||this._elementRef.nativeElement.setAttribute("role","table"),this._document=_,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=IC(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=IC(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(qy(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),mI(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(o,c,h)=>this._getEmbeddedViewArgs(o.item,h),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{r.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&g.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,rg.q)(1),qy(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const c=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,c,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const c=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,c,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,c),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,h)=>{this._addStickyColumnStyles([c],this._headerRowDefs[h])}),this._rowDefs.forEach(c=>{const h=[];for(let _=0;_<r.length;_++)this._renderRows[_].rowDef===c&&h.push(r[_]);this._addStickyColumnStyles(h,c)}),o.forEach((c,h)=>{this._addStickyColumnStyles([c],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let c=this._data[o];const h=this._getRenderRowsForData(c,o,r.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let _=0;_<h.length;_++){let E=h[_];const b=this._cachedRenderRowsMap.get(E.data);b.has(E.rowDef)?b.get(E.rowDef).push(E):b.set(E.rowDef,[E]),e.push(E)}}return e}_getRenderRowsForData(e,r,o){return this._getRowDefs(e,r).map(h=>{const _=o&&o.has(h)?o.get(h):[];if(_.length){const E=_.shift();return E.dataIndex=r,E}return{data:e,rowDef:h,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),LC(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=LC(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=LC(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=LC(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(h,_)=>h||!!_.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),r||o||c}_switchDataSource(e){this._data=[],mI(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;mI(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Gn.y||(0,el.m)(n.lift)&&(0,el.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Qe(this.dataSource)),this._renderChangeSubscription=e.pipe(qy(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const o=Array.from(r.columns||[]).map(_=>this._columnDefsByName.get(_)),c=o.map(_=>_.sticky),h=o.map(_=>_.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let o=0;o<e.viewContainer.length;o++){const c=e.viewContainer.get(o);r.push(c.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(c=>!c.when||c.when(r,e));else{let c=this._rowDefs.find(h=>h.when&&h.when(r,e))||this._defaultRowDef;c&&o.push(c)}return o}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,o,c={}){const h=e.viewContainer.createEmbeddedView(r.template,c,o);return this._renderCellTemplateForItem(r,c),h}_renderCellTemplateForItem(e,r){for(let o of this._getCellTemplates(e))Wc.mostRecentCellOutlet&&Wc.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,o=e.length;r<o;r++){const h=e.get(r).context;h.count=o,h.first=0===r,h.last=r===o-1,h.even=r%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[r].dataIndex,h.renderIndex=r):h.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const o=this._columnDefsByName.get(r);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of r){const c=this._document.createElement(o.tag);c.setAttribute("role","rowgroup");for(const h of o.outlets)c.appendChild(h.elementRef.nativeElement);e.appendChild(c)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,o)=>r||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new OR(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(qy(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(r){const c=o.createEmbeddedView(e.templateRef),h=c.rootNodes[0];1===c.rootNodes.length&&(null==h?void 0:h.nodeType)===this._document.ELEMENT_NODE&&(h.setAttribute("role","row"),h.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.ZZ4),g.Y36(g.sBO),g.Y36(g.SBq),g.$8M("role"),g.Y36(YA,8),g.Y36(oe),g.Y36(yI),g.Y36(Gy),g.Y36(TI),g.Y36(_R),g.Y36(OI,12),g.Y36(g.R0b,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,o){if(1&e&&(g.Suo(o,OC,5),g.Suo(o,zc,5),g.Suo(o,MC,5),g.Suo(o,Yy,5),g.Suo(o,Qy,5)),2&e){let c;g.iGM(c=g.CRH())&&(r._noDataRow=c.first),g.iGM(c=g.CRH())&&(r._contentColumnDefs=c),g.iGM(c=g.CRH())&&(r._contentRowDefs=c),g.iGM(c=g.CRH())&&(r._contentHeaderRowDefs=c),g.iGM(c=g.CRH())&&(r._contentFooterRowDefs=c)}},viewQuery:function(e,r){if(1&e&&(g.Gf(kC,7),g.Gf(PC,7),g.Gf(NC,7),g.Gf(xC,7)),2&e){let o;g.iGM(o=g.CRH())&&(r._rowOutlet=o.first),g.iGM(o=g.CRH())&&(r._headerRowOutlet=o.first),g.iGM(o=g.CRH())&&(r._footerRowOutlet=o.first),g.iGM(o=g.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&g.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[g._Bn([{provide:Lg,useExisting:n},{provide:Gy,useClass:JT},{provide:TI,useClass:aS},{provide:OI,useValue:null}])],ngContentSelectors:wR,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(g.F$t(ER),g.Hsn(0),g.Hsn(1,1),g.GkF(2,0),g.GkF(3,1),g.GkF(4,2),g.GkF(5,3))},directives:[PC,kC,xC,NC],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function LC(n,t){return n.concat(Array.from(t))}let PR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[yR]]}),n})();const fS="cdk-high-contrast-black-on-white",pS="cdk-high-contrast-white-on-black",kI="cdk-high-contrast-active";let KR=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(kI),e.remove(fS),e.remove(pS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(kI),e.add(fS)):2===r&&(e.add(kI),e.add(pS))}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(yI),g.LFG(oe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qR=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _S=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(KR),g.LFG(qR,8),g.LFG(oe))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[bC],bC]}),n})();const tM=[[["caption"]],[["colgroup"],["col"]]],nM=["caption","colgroup, col"];let wS=(()=>{class n extends FC{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,r){2&e&&g.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[g._Bn([{provide:Gy,useClass:JT},{provide:FC,useExisting:n},{provide:Lg,useExisting:n},{provide:TI,useClass:aS},{provide:OI,useValue:null}]),g.qOj],ngContentSelectors:nM,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(g.F$t(tM),g.Hsn(0),g.Hsn(1,1),g.GkF(2,0),g.GkF(3,1),g.GkF(4,2),g.GkF(5,3))},directives:[PC,kC,xC,NC],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),NI=(()=>{class n extends Ug{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","matCellDef",""]],features:[g._Bn([{provide:Ug,useExisting:n}]),g.qOj]}),n})(),xI=(()=>{class n extends Bg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[g._Bn([{provide:Bg,useExisting:n}]),g.qOj]}),n})(),FI=(()=>{class n extends zc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[g._Bn([{provide:zc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),g.qOj]}),n})(),LI=(()=>{class n extends bI{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[g.qOj]}),n})(),UI=(()=>{class n extends II{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[g.qOj]}),n})(),CS=(()=>{class n extends Yy{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[g._Bn([{provide:Yy,useExisting:n}]),g.qOj]}),n})(),DS=(()=>{class n extends MC{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[g._Bn([{provide:MC,useExisting:n}]),g.qOj]}),n})(),bS=(()=>{class n extends AI{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[g._Bn([{provide:AI,useExisting:n}]),g.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&g.GkF(0,0)},directives:[Wc],encapsulation:2}),n})(),IS=(()=>{class n extends MI{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=g.n5z(n)))(r||n)}}(),n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[g._Bn([{provide:MI,useExisting:n}]),g.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&g.GkF(0,0)},directives:[Wc],encapsulation:2}),n})(),hM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[PR,_S],_S]}),n})();function pM(n,t){1&n&&(g.TgZ(0,"th",8),g._uU(1,"Name"),g.qZA())}function gM(n,t){if(1&n&&(g.TgZ(0,"td",9),g._uU(1),g.qZA()),2&n){const e=t.$implicit;g.xp6(1),g.Oqu(e.name)}}function mM(n,t){1&n&&(g.TgZ(0,"th",8),g._uU(1,"Country"),g.qZA())}function _M(n,t){if(1&n&&(g.TgZ(0,"td",9),g._uU(1),g.qZA()),2&n){const e=t.$implicit;g.xp6(1),g.Oqu(e.country)}}function yM(n,t){1&n&&(g.TgZ(0,"th",8),g._uU(1,"Date"),g.qZA())}function vM(n,t){if(1&n&&(g.TgZ(0,"td",9),g._uU(1),g.qZA()),2&n){const e=t.$implicit;g.xp6(1),g.Oqu(e.date)}}function EM(n,t){1&n&&g._UZ(0,"tr",10)}function wM(n,t){1&n&&g._UZ(0,"tr",11)}let CM=(()=>{class n{constructor(){this.raceData=[],this.displayedColumns=["name","country","date"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["race-calendar"]],inputs:{raceData:"raceData"},decls:12,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","country"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(g.TgZ(0,"table",0),g.ynx(1,1),g.YNc(2,pM,2,0,"th",2),g.YNc(3,gM,2,1,"td",3),g.BQk(),g.ynx(4,4),g.YNc(5,mM,2,0,"th",2),g.YNc(6,_M,2,1,"td",3),g.BQk(),g.ynx(7,5),g.YNc(8,yM,2,0,"th",2),g.YNc(9,vM,2,1,"td",3),g.BQk(),g.YNc(10,EM,1,0,"tr",6),g.YNc(11,wM,1,0,"tr",7),g.qZA()),2&e&&(g.Q6J("dataSource",r.raceData),g.xp6(10),g.Q6J("matHeaderRowDef",r.displayedColumns),g.xp6(1),g.Q6J("matRowDefColumns",r.displayedColumns))},directives:[wS,FI,xI,NI,CS,DS,LI,UI,bS,IS],styles:[""]}),n})(),TS=(()=>{class n{constructor(e){this.calendarService=e,this.raceData=[],this.calendarService.races.snapshotChanges().pipe((0,yt.U)(r=>r.map(o=>Object.assign({id:o.payload.key},o.payload.val())))).subscribe(r=>this.raceData=r)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(QT))},n.\u0275cmp=g.Xpm({type:n,selectors:[["f122-calendar"]],decls:3,vars:1,consts:[["w100","",3,"raceData"]],template:function(e,r){1&e&&(g.TgZ(0,"h1"),g._uU(1,"Calendars"),g.qZA(),g._UZ(2,"race-calendar",0)),2&e&&(g.xp6(2),g.Q6J("raceData",r.raceData))},directives:[CM],styles:[""]}),n})();const DM=[{path:"calendar",component:TS}];let bM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ZT.forRoot(DM)],ZT]}),n})(),SS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[hM]}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[TS]}),n.\u0275inj=g.cJS({imports:[[SS]]}),n})(),TM=(()=>{class n{constructor(){this.title="F12022"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[["role","banner",1,"toolbar"],[1,"main-content"],["w100",""]],template:function(e,r){1&e&&(g._UZ(0,"div",0),g.TgZ(1,"div",1),g._UZ(2,"router-outlet",2),g.qZA())},directives:[aI],styles:[".main-content[_ngcontent-%COMP%]{width:90%;max-width:1200px;margin:auto}"]}),n})();const SM={apiKey:"AIzaSyBr0BQgfSLcYtJS8bIg-eY5cv1amVBgRhU",authDomain:"f1-2022-7ca5f.firebaseapp.com",databaseURL:"https://f1-2022-7ca5f-default-rtdb.europe-west1.firebasedatabase.app",projectId:"f1-2022-7ca5f",storageBucket:"f1-2022-7ca5f.appspot.com",messagingSenderId:"670353930622",appId:"1:670353930622:web:bd6becb69a0557fd099b2f",measurementId:"G-P179BS202W"};let AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[TM]}),n.\u0275inj=g.cJS({providers:[QT],imports:[[to,ja,bM,fh,SS,Pf,Dr.hO.initializeApp(SM),_y,IM]]}),n})();(0,g.G48)(),eo().bootstrapModule(AM).catch(n=>console.error(n))},9162:(Ge,_e,N)=>{"use strict";function le(re,he,ve,Ce){return new(ve||(ve=Promise))(function(fe,Et){function Ut(bt){try{mt(Ce.next(bt))}catch(vt){Et(vt)}}function Bn(bt){try{mt(Ce.throw(bt))}catch(vt){Et(vt)}}function mt(bt){bt.done?fe(bt.value):function(fe){return fe instanceof ve?fe:new ve(function(Et){Et(fe)})}(bt.value).then(Ut,Bn)}mt((Ce=Ce.apply(re,he||[])).next())})}function ce(re){return this instanceof ce?(this.v=re,this):new ce(re)}function Y(re,he,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ce=ve.apply(re,he||[]),fe=[];return Ne={},Et("next"),Et("throw"),Et("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Et(Ht){Ce[Ht]&&(Ne[Ht]=function(Vn){return new Promise(function(Ir,Gt){fe.push([Ht,Vn,Ir,Gt])>1||Ut(Ht,Vn)})})}function Ut(Ht,Vn){try{!function(Ht){Ht.value instanceof ce?Promise.resolve(Ht.value.v).then(mt,bt):vt(fe[0][2],Ht)}(Ce[Ht](Vn))}catch(Ir){vt(fe[0][3],Ir)}}function mt(Ht){Ut("next",Ht)}function bt(Ht){Ut("throw",Ht)}function vt(Ht,Vn){Ht(Vn),fe.shift(),fe.length&&Ut(fe[0][0],fe[0][1])}}function De(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,he=re[Symbol.asyncIterator];return he?he.call(re):(re=function(re){var he="function"==typeof Symbol&&Symbol.iterator,ve=he&&re[he],Ce=0;if(ve)return ve.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Ce>=re.length&&(re=void 0),{value:re&&re[Ce++],done:!re}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),ve={},Ce("next"),Ce("throw"),Ce("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Ce(fe){ve[fe]=re[fe]&&function(Et){return new Promise(function(Ut,Bn){!function(fe,Et,Ut,Bn){Promise.resolve(Bn).then(function(mt){fe({value:mt,done:Ut})},Et)}(Ut,Bn,(Et=re[fe](Et)).done,Et.value)})}}}N.d(_e,{mG:()=>le,qq:()=>ce,FC:()=>Y,KL:()=>De})},3668:(Ge,_e,N)=>{"use strict";N.d(_e,{deG:()=>oc,tb:()=>$w,AFp:()=>Uw,ip1:()=>Dg,CZH:()=>Ed,hGG:()=>Na,z2F:()=>hf,sBO:()=>rC,Sil:()=>_y,_Vd:()=>Jh,EJc:()=>my,SBq:()=>Xh,qLn:()=>Dc,vpe:()=>To,tBr:()=>pn,XFs:()=>lt,OlP:()=>dn,zs3:()=>ut,ZZ4:()=>bd,aQg:()=>gf,soG:()=>Ig,YKP:()=>Zb,h0i:()=>ef,PXZ:()=>jl,R0b:()=>Ui,FiY:()=>Nr,Lbi:()=>Hw,g9A:()=>jw,Qsj:()=>sw,FYo:()=>Y_,JOm:()=>ni,tp0:()=>gi,Rgc:()=>Hc,dDg:()=>wy,q4F:()=>Q_,GfV:()=>ig,s_b:()=>gg,ifc:()=>qe,eFA:()=>Yw,G48:()=>$0,f3M:()=>We,X6Q:()=>tC,_c5:()=>eI,VLi:()=>Cy,c2e:()=>zw,zSh:()=>Bm,wAp:()=>at,vHH:()=>Ue,cg1:()=>U_,kL8:()=>Pa,dqk:()=>ft,sIi:()=>Rh,CqO:()=>uE,QGY:()=>xp,F4k:()=>cE,RDi:()=>Md,AaK:()=>le,qOj:()=>Ju,TTD:()=>Wi,_Bn:()=>pd,xp6:()=>Lu,uIk:()=>Rl,ekj:()=>w_,Suo:()=>Cw,Xpm:()=>Xe,lG2:()=>bs,Yz7:()=>Gt,cJS:()=>vn,oAB:()=>Oo,Yjl:()=>Wl,Y36:()=>Fh,_UZ:()=>c_,GkF:()=>d_,BQk:()=>u_,ynx:()=>Pp,qZA:()=>l_,TgZ:()=>a_,n5z:()=>so,LFG:()=>X,$8M:()=>oo,$Z:()=>aE,NdJ:()=>h_,CRH:()=>Dw,oxw:()=>Aa,Hsn:()=>Ra,F$t:()=>f_,Q6J:()=>s_,iGM:()=>Ew,LSH:()=>nh,Udp:()=>E_,YNc:()=>Ol,_uU:()=>TE,Oqu:()=>M_,hij:()=>cd,Gf:()=>ww});var g=N(273),J=N(7908),x=N(8305),ae=N(3719),se=N(3174);function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function oe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function le(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(le).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function de(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=pe({__forward_ref__:pe});function $(i){return i.__forward_ref__=$,i.toString=function(){return le(this())},i}function ee(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===$}class Ue extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function Y(i){return"string"==typeof i?i:null==i?"":String(i)}function ue(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Y(i)}function Me(i,s){const a=s?` in ${s}`:"";throw new Ue("201",`No provider for ${ue(i)} found${a}`)}function bt(i,s){null==i&&function(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Gt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function vn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tr(i){return $t(i,oi)||$t(i,Pn)}function $t(i,s){return i.hasOwnProperty(s)?i[s]:null}function jr(i){return i&&(i.hasOwnProperty(Se)||i.hasOwnProperty(Nn))?i[Se]:null}const oi=pe({\u0275prov:pe}),Se=pe({\u0275inj:pe}),Pn=pe({ngInjectableDef:pe}),Nn=pe({ngInjectorDef:pe});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Rt;function ir(i){const s=Rt;return Rt=i,s}function xn(i,s,a){const l=Tr(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&lt.Optional?null:void 0!==s?s:void Me(le(i),"Injector")}function En(i){return{toString:i}.toString()}var an=(()=>((an=an||{})[an.OnPush=0]="OnPush",an[an.Default=1]="Default",an))(),qe=(()=>{return(i=qe||(qe={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",qe;var i})();const ct="undefined"!=typeof globalThis&&globalThis,Ds="undefined"!=typeof window&&window,ai="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=ct||"undefined"!=typeof global&&global||Ds||ai,W={},V=[],G=pe({\u0275cmp:pe}),Ee=pe({\u0275dir:pe}),te=pe({\u0275pipe:pe}),Ke=pe({\u0275mod:pe}),we=pe({\u0275fac:pe}),ge=pe({__NG_ELEMENT_ID__:pe});let je=0;function Xe(i){return En(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===an.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||qe.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,p=i.features,y=i.pipes;return l.id+=je++,l.inputs=Fa(i.inputs,a),l.outputs=Fa(i.outputs),p&&p.forEach(w=>w(l)),l.directiveDefs=u?()=>("function"==typeof u?u():u).map(ot):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Qt):null,l})}function ot(i){return en(i)||function(i){return i[Ee]||null}(i)}function Qt(i){return function(i){return i[te]||null}(i)}const Hn={};function Oo(i){return En(()=>{const s={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Hn[i.id]=i.type),s})}function Fa(i,s){if(null==i)return W;const a={};for(const l in i)if(i.hasOwnProperty(l)){let u=i[l],p=u;Array.isArray(u)&&(p=u[1],u=u[0]),a[u]=l,s&&(s[u]=p)}return a}const bs=Xe;function Wl(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function en(i){return i[G]||null}function $n(i,s){const a=i[Ke]||null;if(!a&&!0===s)throw new Error(`Type ${le(i)} does not have '\u0275mod' property.`);return a}function li(i){return Array.isArray(i)&&"object"==typeof i[1]}function ci(i){return Array.isArray(i)&&!0===i[1]}function kn(i){return 0!=(8&i.flags)}function Ii(i){return 2==(2&i.flags)}function Gl(i){return 1==(1&i.flags)}function Or(i){return null!==i.template}function Td(i){return 0!=(512&i[2])}function ui(i,s){return i.hasOwnProperty(we)?i[we]:null}class ql{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Wi(){return Js}function Js(i){return i.type.prototype.ngOnChanges&&(i.setInput=ja),Gi}function Gi(){const i=zn(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===W)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ja(i,s,a,l){const u=zn(i)||function(i,s){return i[nu]=s}(i,{previous:W,current:null}),p=u.current||(u.current={}),y=u.previous,w=this.declaredInputs[a],C=y[w];p[w]=new ql(C&&C.currentValue,s,y===W),i[l]=s}Wi.ngInherit=!0;const nu="__ngSimpleChanges__";function zn(i){return i[nu]||null}let Ha;function Md(i){Ha=i}function qt(i){return!!i.listen}const Jl={createRenderer:(i,s)=>void 0!==Ha?Ha:"undefined"!=typeof document?document:void 0};function Dn(i){for(;Array.isArray(i);)i=i[0];return i}function Kr(i,s){return Dn(s[i])}function bn(i,s){return Dn(s[i.index])}function Rs(i,s){return i.data[s]}function zt(i,s){const a=s[i];return li(a)?a:a[0]}function Si(i){return 4==(4&i[2])}function Vo(i){return 128==(128&i[2])}function ar(i,s){return null==s?null:i[s]}function jo(i){i[18]=0}function Zi(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Ye={lFrame:tc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wa(){return Ye.bindingsEnabled}function Te(){return Ye.lFrame.lView}function St(){return Ye.lFrame.tView}function cn(){let i=zo();for(;null!==i&&64===i.type;)i=i.parent;return i}function zo(){return Ye.lFrame.currentTNode}function Wn(i,s){const a=Ye.lFrame;a.currentTNode=i,a.isParent=s}function Ka(){return Ye.lFrame.isParent}function ks(){Ye.lFrame.isParent=!1}function Wo(){return Ye.isInCheckNoChangesMode}function Ps(i){Ye.isInCheckNoChangesMode=i}function Yi(){return Ye.lFrame.bindingIndex++}function qo(i,s){const a=Ye.lFrame;a.bindingIndex=a.bindingRootIndex=i,Yo(s)}function Yo(i){Ye.lFrame.currentDirectiveIndex=i}function qa(){return Ye.lFrame.currentQueryIndex}function to(i){Ye.lFrame.currentQueryIndex=i}function su(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ya(i,s,a){if(a&lt.SkipSelf){let u=s,p=i;for(;!(u=u.parent,null!==u||a&lt.Host||(u=su(p),null===u||(p=p[15],10&u.type))););if(null===u)return!1;s=u,i=p}const l=Ye.lFrame=Qo();return l.currentTNode=s,l.lView=i,!0}function Qa(i){const s=Qo(),a=i[1];Ye.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Qo(){const i=Ye.lFrame,s=null===i?null:i.child;return null===s?tc(i):s}function tc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Jo(){const i=Ye.lFrame;return Ye.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ou=Jo;function Xo(){const i=Jo();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function tn(){return Ye.lFrame.selectedIndex}function Qi(i){Ye.lFrame.selectedIndex=i}function un(){const i=Ye.lFrame;return Rs(i.tView,i.selectedIndex)}function Ji(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Ja(i,s,a){rc(i,s,3,a)}function ta(i,s,a,l){(3&i[2])===a&&rc(i,s,a,l)}function lu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function rc(i,s,a,l){const p=null!=l?l:-1,y=s.length-1;let w=0;for(let C=void 0!==l?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(w=s[C],null!=l&&w>=l)break}else s[C]<0&&(i[18]+=65536),(w<p||-1==p)&&(cu(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function cu(i,s,a,l){const u=a[l]<0,p=a[l+1],w=i[u?-a[l]:a[l]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class na{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ri(i,s,a){const l=qt(i);let u=0;for(;u<a.length;){const p=a[u];if("number"==typeof p){if(0!==p)break;u++;const y=a[u++],w=a[u++],C=a[u++];l?i.setAttribute(s,w,C,y):s.setAttributeNS(y,w,C)}else{const y=p,w=a[++u];Qe(y)?l&&i.setProperty(s,y,w):l?i.setAttribute(s,y,w):s.setAttribute(y,w),u++}}return u}function Rn(i){return 3===i||4===i||6===i}function Qe(i){return 64===i.charCodeAt(0)}function Gn(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?a=u:0===a||Kn(i,a,u,null,-1===a||2===a?s[++l]:null)}}return i}function Kn(i,s,a,l,u){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==u&&(i[p+1]=u));if(l===i[p+1])return void(i[p+2]=u)}p++,null!==l&&p++,null!==u&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==u&&i.splice(p++,0,u)}function el(i){return-1!==i}function qr(i){return 32767&i}function _n(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Yr=!0;function yt(i){const s=Yr;return Yr=i,s}let xd=0;function ia(i,s){const a=Xi(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,sa(l.data,i),sa(s,null),sa(l.blueprint,null));const u=oa(i,s),p=i.injectorIndex;if(el(u)){const y=qr(u),w=_n(u,s),C=w[1].data;for(let S=0;S<8;S++)s[p+S]=w[y+S]|C[y+S]}return s[p+8]=u,p}function sa(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Xi(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function oa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,u=s;for(;null!==u;){const p=u[1],y=p.type;if(l=2===y?p.declTNode:1===y?u[6]:null,null===l)return-1;if(a++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Zn(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ge)&&(l=a[ge]),null==l&&(l=a[ge]=xd++);const u=255&l;s.data[i+(u>>5)]|=1<<u}(i,s,a)}function hi(i,s,a){if(a&lt.Optional)return i;Me(s,"NodeInjector")}function sc(i,s,a,l){if(a&lt.Optional&&void 0===l&&(l=null),0==(a&(lt.Self|lt.Host))){const u=i[9],p=ir(void 0);try{return u?u.get(s,l,a&lt.Optional):xn(s,l,a&lt.Optional)}finally{ir(p)}}return hi(l,s,a)}function tl(i,s,a,l=lt.Default,u){if(null!==i){const p=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ge)?i[ge]:void 0;return"number"==typeof s?s>=0?255&s:io:s}(a);if("function"==typeof p){if(!Ya(s,i,l))return l&lt.Host?hi(u,a,l):sc(s,a,l,u);try{const y=p(l);if(null!=y||l&lt.Optional)return y;Me(a)}finally{ou()}}else if("number"==typeof p){let y=null,w=Xi(i,s),C=-1,S=l&lt.Host?s[16][6]:null;for((-1===w||l&lt.SkipSelf)&&(C=-1===w?oa(i,s):s[w+8],-1!==C&&la(l,!1)?(y=s[1],w=qr(C),s=_n(C,s)):w=-1);-1!==w;){const M=s[1];if(es(p,w,M.data)){const F=Ud(w,s,a,y,l,S);if(F!==aa)return F}C=s[w+8],-1!==C&&la(l,s[1].data[w+8]===S)&&es(p,w,s)?(y=M,w=qr(C),s=_n(C,s)):w=-1}}}return sc(s,a,l,u)}const aa={};function io(){return new on(cn(),Te())}function Ud(i,s,a,l,u,p){const y=s[1],w=y.data[i+8],M=Mn(w,y,a,null==l?Ii(w)&&Yr:l!=y&&0!=(3&w.type),u&lt.Host&&p===w);return null!==M?nn(s,y,M,w):aa}function Mn(i,s,a,l,u){const p=i.providerIndexes,y=s.data,w=1048575&p,C=i.directiveStart,M=p>>20,z=u?w+M:i.directiveEnd;for(let Q=l?w:w+M;Q<z;Q++){const me=y[Q];if(Q<C&&a===me||Q>=C&&me.type===a)return Q}if(u){const Q=y[C];if(Q&&Or(Q)&&Q.type===a)return C}return null}function nn(i,s,a,l){let u=i[a];const p=s.data;if(function(i){return i instanceof na}(u)){const y=u;y.resolving&&function(i,s){throw new Ue("200",`Circular dependency in DI detected for ${i}`)}(ue(p[a]));const w=yt(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?ir(y.injectImpl):null;Ya(i,l,lt.Default);try{u=i[a]=y.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:p}=s.type.prototype;if(l){const y=Js(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}u&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,u),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==C&&ir(C),yt(w),y.resolving=!1,ou()}}return u}function es(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function la(i,s){return!(i&lt.Self||i&lt.Host&&s)}class on{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return tl(this._tNode,this._lView,s,l,a)}}function so(i){return En(()=>{const s=i.prototype.constructor,a=s[we]||ca(s),l=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==l;){const p=u[we]||ca(u);if(p&&p!==a)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function ca(i){return Le(i)?()=>{const s=ca(ee(i));return s&&s()}:ui(i)}function oo(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let u=0;for(;u<l;){const p=a[u];if(Rn(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<l&&"string"==typeof a[u];)u++;else{if(p===s)return a[u+1];u+=2}}}return null}(cn(),i)}const ts="__parameters__";function fi(i,s,a){return En(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const u in l)this[u]=l[u]}}}(s);function u(...p){if(this instanceof u)return l.apply(this,p),this;const y=new u(...p);return w.annotation=y,w;function w(C,S,M){const F=C.hasOwnProperty(ts)?C[ts]:Object.defineProperty(C,ts,{value:[]})[ts];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(y),C}}return a&&(u.prototype=Object.create(a.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oc=new dn("AnalyzeForEntryComponents");function Pr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Pr(l,s)):s!==i&&s.push(l)}return s}function Qr(i,s){i.forEach(a=>Array.isArray(a)?Qr(a,s):s(a))}function cc(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function yr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function rl(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function lr(i,s,a){let l=ol(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let u=i.length;if(u==s)i.push(a,l);else if(1===u)i.push(l,i[0]),i[0]=a;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function sl(i,s){const a=ol(i,s);if(a>=0)return i[1|a]}function ol(i,s){return function(i,s,a){let l=0,u=i.length>>a;for(;u!==l;){const p=l+(u-l>>1),y=i[p<<a];if(s===y)return p<<a;y>s?u=p:l=p+1}return~(u<<a)}(i,s,1)}const ao={},lo="__NG_DI_FLAG__",pi="ngTempTokenPath",pu=/\n/gm,D="__source",I=pe({provide:String,useValue:pe});let O;function U(i){const s=O;return O=i,s}function q(i,s=lt.Default){if(void 0===O)throw new Error("inject() must be called from an injection context");return null===O?xn(i,void 0,s):O.get(i,s&lt.Optional?null:void 0,s)}function X(i,s=lt.Default){return(Rt||q)(ee(i),s)}const We=X;function ze(i){const s=[];for(let a=0;a<i.length;a++){const l=ee(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let u,p=lt.Default;for(let y=0;y<l.length;y++){const w=l[y],C=jt(w);"number"==typeof C?-1===C?u=w.token:p|=C:u=w}s.push(X(u,p))}else s.push(X(l))}return s}function Tt(i,s){return i[lo]=s,i.prototype[lo]=s,i}function jt(i){return i[lo]}const pn=Tt(fi("Inject",i=>({token:i})),-1),Nr=Tt(fi("Optional"),8),gi=Tt(fi("SkipSelf"),4);class qd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function is(i){return i instanceof qd?i.changingThisBreaksApplicationSecurity:i}const Zg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function nh(i){const s=function(){const i=Te();return i&&i[12]}();return s?s.sanitize(In.URL,i)||"":function(i,s){const a=function(i){return i instanceof qd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?is(i):function(i){return(i=String(i)).match(Zg)||i.match(dl)?i:"unsafe:"+i}(Y(i))}const sh="__ngContext__";function Un(i,s){i[sh]=s}function Fr(i){const s=function(i){return i[sh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Yf(i){return i.ngOriginalError}function pl(i,...s){i.error(...s)}class Dc{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=(i=s)&&i.ngErrorLogger||pl;var i;l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Yf(s);for(;a&&Yf(a);)a=Yf(a);return a||null}}const va=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft))();function ss(i){return i instanceof Function?i():i}var ni=(()=>((ni=ni||{})[ni.Important=1]="Important",ni[ni.DashCase=2]="DashCase",ni))();function ch(i,s){return undefined(i,s)}function fo(i){const s=i[3];return ci(s)?s[3]:s}function Ei(i){return uh(i[13])}function po(i){return uh(i[4])}function uh(i){for(;null!==i&&!ci(i);)i=i[4];return i}function ml(i,s,a,l,u){if(null!=l){let p,y=!1;ci(l)?p=l:li(l)&&(y=!0,l=l[0]);const w=Dn(l);0===i&&null!==a?null==u?js(s,a,w):yn(s,a,w,u||null,!0):1===i&&null!==a?yn(s,a,w,u||null,!0):2===i?function(i,s,a){const l=yl(i,s);l&&function(i,s,a,l){qt(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function(i,s,a,l,u){const p=a[7];p!==Dn(a)&&ml(s,i,l,p,u);for(let w=10;w<a.length;w++){const C=a[w];go(C[1],C,i,s,l,p)}}(s,i,p,a,u)}}function dh(i,s,a){return qt(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function R(i,s){const a=i[9],l=a.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,Zi(u,-1)),a.splice(l,1)}function j(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const u=l[17];null!==u&&u!==i&&R(u,l),s>0&&(i[a-1][4]=l[4]);const p=yr(i,10+s);!function(i,s){go(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ie(i,s){if(!(256&s[2])){const a=s[11];qt(a)&&a.destroyNode&&go(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Pe(i[1],i);for(;s;){let a=null;if(li(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)li(s)&&Pe(s[1],s),s=s[3];null===s&&(s=i),li(s)&&Pe(s[1],s),a=s&&s[4]}s=a}}(s)}}function Pe(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const u=s[a[l]];if(!(u instanceof na)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=u[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(u)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let u=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(s):Dn(s[y]),C=l[u=a[p+2]],S=a[p+3];"boolean"==typeof S?w.removeEventListener(a[p],C,S):S>=0?l[u=S]():l[u=-S].unsubscribe(),p+=2}else{const y=l[u=a[p+1]];a[p].call(y)}if(null!==l){for(let p=u+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&qt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ci(s[3])){a!==s[3]&&R(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function et(i,s,a){return function(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const u=i.data[l.directiveStart].encapsulation;if(u===qe.None||u===qe.Emulated)return null}return bn(l,a)}(i,s.parent,a)}function yn(i,s,a,l,u){qt(i)?i.insertBefore(s,a,l,u):s.insertBefore(a,l,u)}function js(i,s,a){qt(i)?i.appendChild(s,a):s.appendChild(a)}function Tc(i,s,a,l,u){null!==l?yn(i,s,a,l,u):js(i,s,a)}function yl(i,s){return qt(i)?i.parentNode(s):s.parentNode}function Nu(i,s,a){return rp(i,s,a)}let rp=function(i,s,a){return 40&i.type?bn(i,a):null};function vl(i,s,a,l){const u=et(i,l,s),p=s[11],w=Nu(l.parent||s[6],l,s);if(null!=u)if(Array.isArray(a))for(let C=0;C<a.length;C++)Tc(p,u,a[C],w,!1);else Tc(p,u,a,w,!1)}function Ea(i,s){if(null!==s){const a=s.type;if(3&a)return bn(s,i);if(4&a)return dr(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Ea(i,l);{const u=i[s.index];return ci(u)?dr(-1,u):Dn(u)}}if(32&a)return ch(s,i)()||Dn(i[s.index]);{const l=wa(i,s);return null!==l?Array.isArray(l)?l[0]:Ea(fo(i[16]),l):Ea(i,s.next)}}return null}function wa(i,s){return null!==s?i[16][6].projection[s.projection]:null}function dr(i,s){const a=10+i+1;if(a<s.length){const l=s[a],u=l[1].firstChild;if(null!==u)return Ea(l,u)}return s[7]}function xu(i,s,a,l,u,p,y){for(;null!=a;){const w=l[a.index],C=a.type;if(y&&0===s&&(w&&Un(Dn(w),l),a.flags|=4),64!=(64&a.flags))if(8&C)xu(i,s,a.child,l,u,p,!1),ml(s,i,u,w,p);else if(32&C){const S=ch(a,l);let M;for(;M=S();)ml(s,i,u,M,p);ml(s,i,u,w,p)}else 16&C?cv(i,s,l,a,u,p):ml(s,i,u,w,p);a=y?a.projectionNext:a.next}}function go(i,s,a,l,u,p){xu(a,l,i.firstChild,s,u,p,!1)}function cv(i,s,a,l,u,p){const y=a[16],C=y[6].projection[l.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)ml(s,i,u,C[S],p);else xu(i,s,C,y[3],u,p,!0)}function dv(i,s,a){qt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function wi(i,s,a){qt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function jC(i,s,a){let l=i.length;for(;;){const u=i.indexOf(s,a);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const p=s.length;if(u+p===l||i.charCodeAt(u+p)<=32)return u}a=u+1}}const El="ng-template";function Ac(i,s,a){let l=0;for(;l<i.length;){let u=i[l++];if(a&&"class"===u){if(u=i[l],-1!==jC(u.toLowerCase(),s,0))return!0}else if(1===u){for(;l<i.length&&"string"==typeof(u=i[l++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function wl(i){return 4===i.type&&i.value!==El}function L(i,s,a){return s===(4!==i.type||a?i.value:El)}function ip(i,s,a){let l=4;const u=i.attrs||[],p=function(i){for(let s=0;s<i.length;s++)if(Rn(i[s]))return s;return i.length}(u);let y=!1;for(let w=0;w<s.length;w++){const C=s[w];if("number"!=typeof C){if(!y)if(4&l){if(l=2|1&l,""!==C&&!L(i,C,a)||""===C&&1===s.length){if(os(l))return!1;y=!0}}else{const S=8&l?C:s[++w];if(8&l&&null!==i.attrs){if(!Ac(i.attrs,S,a)){if(os(l))return!1;y=!0}continue}const F=hv(8&l?"class":C,u,wl(i),a);if(-1===F){if(os(l))return!1;y=!0;continue}if(""!==S){let z;z=F>p?"":u[F+1].toLowerCase();const Q=8&l?z:null;if(Q&&-1!==jC(Q,S,0)||2&l&&S!==z){if(os(l))return!1;y=!0}}}}else{if(!y&&!os(l)&&!os(C))return!1;if(y&&os(C))continue;y=!1,l=C|1&l}}return os(l)||y}function os(i){return 0==(1&i)}function hv(i,s,a,l){if(null===s)return-1;let u=0;if(l||!a){let p=!1;for(;u<s.length;){const y=s[u];if(y===i)return u;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++u];for(;"string"==typeof w;)w=s[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=p?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function sp(i,s,a=!1){for(let l=0;l<s.length;l++)if(ip(i,s[l],a))return!0;return!1}function pv(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let u=0;u<i.length;u++)if(i[u]!==l[u])continue e;return!0}}return!1}function Cl(i,s){return i?":not("+s.trim()+")":s}function gm(i){let s=i[0],a=1,l=2,u="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const w=i[++a];u+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?u+="."+y:4&l&&(u+=" "+y);else""!==u&&!os(y)&&(s+=Cl(p,u),u=""),l=y,p=p||!os(l);a++}return""!==u&&(s+=Cl(p,u)),s}const Ct={};function Lu(i){Dl(St(),Te(),tn()+i,Wo())}function Dl(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ja(s,p,a)}else{const p=i.preOrderHooks;null!==p&&ta(s,p,0,a)}Qi(a)}function ph(i,s){return i<<17|s<<2}function hn(i){return i>>17&32767}function as(i){return 2|i}function On(i){return(131068&i)>>2}function ym(i,s){return-131069&i|s<<2}function vm(i){return 1|i}function Cv(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const u=a[l],p=a[l+1];if(-1!==p){const y=i.data[p];to(u),y.contentQueries(2,s[p],p)}}}function ju(i,s,a,l,u,p,y,w,C,S){const M=s.blueprint.slice();return M[0]=u,M[2]=140|l,jo(M),M[3]=M[15]=i,M[8]=a,M[10]=y||i&&i[10],M[11]=w||i&&i[11],M[12]=C||i&&i[12]||null,M[9]=S||i&&i[9]||null,M[6]=p,M[16]=2==s.type?i[16]:M,M}function Rc(i,s,a,l,u){let p=i.data[s];if(null===p)p=function(i,s,a,l,u){const p=zo(),y=Ka(),C=i.data[s]=function(i,s,a,l,u,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,l,u);return null===i.firstChild&&(i.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(i,s,a,l,u),Ye.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=u;const y=function(){const i=Ye.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Wn(p,!0),p}function Hu(i,s,a,l){if(0===a)return-1;const u=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return u}function vh(i,s,a){Qa(s);try{const l=i.viewQuery;null!==l&&mp(1,l,a);const u=i.template;null!==u&&Tm(i,s,u,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Cv(i,s),i.staticViewQueries&&mp(2,i.viewQuery,a);const p=i.components;null!==p&&function(i,s){for(let a=0;a<s.length;a++)ls(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Xo()}}function $u(i,s,a,l){const u=s[2];if(256==(256&u))return;Qa(s);const p=Wo();try{jo(s),function(i){Ye.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Tm(i,s,a,2,l);const y=3==(3&u);if(!p)if(y){const S=i.preOrderCheckHooks;null!==S&&Ja(s,S,null)}else{const S=i.preOrderHooks;null!==S&&ta(s,S,0,null),lu(s,0)}if(function(i){for(let s=Ei(i);null!==s;s=po(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const u=a[l],p=u[3];0==(1024&u[2])&&Zi(p,1),u[2]|=1024}}}(s),function(i){for(let s=Ei(i);null!==s;s=po(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1];Vo(l)&&$u(u,l,u.template,l[8])}}(s),null!==i.contentQueries&&Cv(i,s),!p)if(y){const S=i.contentCheckHooks;null!==S&&Ja(s,S)}else{const S=i.contentHooks;null!==S&&ta(s,S,1),lu(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const u=a[l];if(u<0)Qi(~u);else{const p=u,y=a[++l],w=a[++l];qo(y,p),w(2,s[p])}}}finally{Qi(-1)}}(i,s);const w=i.components;null!==w&&function(i,s){for(let a=0;a<s.length;a++)fD(i,s[a])}(s,w);const C=i.viewQuery;if(null!==C&&mp(2,C,l),!p)if(y){const S=i.viewCheckHooks;null!==S&&Ja(s,S)}else{const S=i.viewHooks;null!==S&&ta(s,S,2),lu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Zi(s[3],-1))}finally{Xo()}}function sD(i,s,a,l){const u=s[10],p=!Wo(),y=Si(s);try{p&&!y&&u.begin&&u.begin(),y&&vh(i,s,l),$u(i,s,a,l)}finally{p&&!y&&u.end&&u.end()}}function Tm(i,s,a,l,u){const p=tn(),y=2&l;try{Qi(-1),y&&s.length>20&&Dl(i,s,20,Wo()),a(l,u)}finally{Qi(p)}}function Sm(i,s,a){if(kn(s)){const u=s.directiveEnd;for(let p=s.directiveStart;p<u;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Am(i,s,a){!Wa()||(function(i,s,a,l){const u=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||ia(a,s),Un(l,s);const y=a.initialInputs;for(let w=u;w<p;w++){const C=i.data[w],S=Or(C);S&&Tl(s,a,C);const M=nn(s,i,w,a);Un(M,s),null!==y&&dD(0,w-u,M,C,0,y),S&&(zt(a.index,s)[8]=M)}}(i,s,a,bn(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,u=a.directiveEnd,y=a.index,w=Ye.lFrame.currentDirectiveIndex;try{Qi(y);for(let C=l;C<u;C++){const S=i.data[C],M=s[C];Yo(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Nm(S,M)}}finally{Qi(-1),Yo(w)}}(i,s,a))}function Rm(i,s,a=bn){const l=s.localNames;if(null!==l){let u=s.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],w=-1===y?a(s,i):i[y];i[u++]=w}}}function bv(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Da(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Da(i,s,a,l,u,p,y,w,C,S){const M=20+l,F=M+u,z=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Ct);return a}(M,F),Q="function"==typeof S?S():S;return z[1]={type:i,blueprint:z,template:a,queries:null,viewQuery:w,declTNode:s,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function Wu(i,s,a,l){const u=Nv(s);null===a?u.push(l):(u.push(a),i.firstCreatePass&&Lm(i).push(l,u.length-1))}function Tv(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const u=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,u):a[l]=[s,u]}return a}function fp(i,s,a,l){let u=!1;if(Wa()){const p=function(i,s,a){const l=i.directiveRegistry;let u=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];sp(a,y.selectors,!1)&&(u||(u=[]),Zn(ia(a,s),i,y.type),Or(y)?(xm(i,a),u.unshift(y)):u.push(y))}return u}(i,s,a),y=null===l?null:{"":-1};if(null!==p){u=!0,Wt(a,i.data.length,p.length);for(let M=0;M<p.length;M++){const F=p[M];F.providersResolver&&F.providersResolver(F)}let w=!1,C=!1,S=Hu(i,s,p.length,null);for(let M=0;M<p.length;M++){const F=p[M];a.mergedAttrs=Gn(a.mergedAttrs,F.hostAttrs),At(i,a,s,S,F),rn(S,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const z=F.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function(i,s){const l=s.directiveEnd,u=i.data,p=s.attrs,y=[];let w=null,C=null;for(let S=s.directiveStart;S<l;S++){const M=u[S],F=M.inputs,z=null===p||wl(s)?null:wh(F,p);y.push(z),w=Tv(F,S,w),C=Tv(M.outputs,S,C)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=C}(i,a)}y&&function(i,s,a){if(s){const l=i.localNames=[];for(let u=0;u<s.length;u+=2){const p=a[s[u+1]];if(null==p)throw new Ue("301",`Export of name '${s[u+1]}' not found!`);l.push(s[u],p)}}}(a,l,y)}return a.mergedAttrs=Gn(a.mergedAttrs,a.attrs),u}function Pm(i,s,a,l,u,p){const y=p.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const C=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(l,u,y)}}function Nm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function xm(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function rn(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Or(s)&&(a[""]=i)}}function Wt(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function At(i,s,a,l,u){i.data[l]=u;const p=u.factory||(u.factory=ui(u.type)),y=new na(p,Or(u),null);i.blueprint[l]=y,a[l]=y,Pm(i,s,0,l,Hu(i,a,u.hostVars,Ct),u)}function Tl(i,s,a){const l=bn(s,i),u=bv(a),p=i[10],y=gp(i,ju(i,u,null,a.onPush?64:16,l,s,p,p.createRenderer(l,a),null,null));i[s.index]=y}function Ft(i,s,a,l,u,p){const y=bn(i,s);!function(i,s,a,l,u,p,y){if(null==p)qt(i)?i.removeAttribute(s,u,a):s.removeAttribute(u);else{const w=null==y?Y(p):y(p,l||"",u);qt(i)?i.setAttribute(s,u,w,a):a?s.setAttributeNS(a,u,w):s.setAttribute(u,w)}}(s[11],y,p,i.value,a,l,u)}function dD(i,s,a,l,u,p){const y=p[s];if(null!==y){const w=l.setInput;for(let C=0;C<y.length;){const S=y[C++],M=y[C++],F=y[C++];null!==w?l.setInput(a,F,S,M):a[M]=F}}}function wh(i,s){let a=null,l=0;for(;l<s.length;){const u=s[l];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===a&&(a=[]),a.push(u,i[u],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Cn(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function fD(i,s){const a=zt(s,i);if(Vo(a)){const l=a[1];80&a[2]?$u(l,a,l.template,a[8]):a[5]>0&&Ch(a)}}function Ch(i){for(let l=Ei(i);null!==l;l=po(l))for(let u=10;u<l.length;u++){const p=l[u];if(1024&p[2]){const y=p[1];$u(y,p,y.template,p[8])}else p[5]>0&&Ch(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const u=zt(a[l],i);Vo(u)&&u[5]>0&&Ch(u)}}function ls(i,s){const a=zt(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),vh(l,a,a[8])}function gp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Fm(i){for(;i;){i[2]|=64;const s=fo(i);if(Td(i)&&!s)return i;i=s}return null}function Dh(i,s,a){const l=s[10];l.begin&&l.begin();try{$u(i,s,i.template,a)}catch(u){throw kt(s,u),u}finally{l.end&&l.end()}}function Gu(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Fr(a),u=l[1];sD(u,l,u.template,a)}}(i[8])}function mp(i,s,a){to(0),s(i,a)}const _D=(()=>Promise.resolve(null))();function Nv(i){return i[7]||(i[7]=[])}function Lm(i){return i.cleanup||(i.cleanup=[])}function kt(i,s){const a=i[9],l=a?a.get(Dc,null):null;l&&l.handleError(s)}function bh(i,s,a,l,u){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],C=s[y],S=i.data[y];null!==S.setInput?S.setInput(C,u,l,w):C[w]=u}}function cs(i,s,a){const l=Kr(s,i);!function(i,s,a){qt(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Ih(i,s,a){let l=a?i.styles:null,u=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?u=de(u,w):2==p&&(l=de(l,w+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=u:i.classesWithoutHost=u}const Um=new dn("INJECTOR",-1);class ii{get(s,a=ao){if(a===ao){const l=new Error(`NullInjectorError: No provider for ${le(s)}!`);throw l.name="NullInjectorError",l}return a}}const Bm=new dn("Set Injector scope."),Mc={},Vm={};let jm;function Hm(){return void 0===jm&&(jm=new ii),jm}function $m(i,s=null,a=null,l){const u=zm(i,s,a,l);return u._resolveInjectorDefTypes(),u}function zm(i,s=null,a=null,l){return new Ku(i,a,s||Hm(),l)}class Ku{constructor(s,a,l,u=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Qr(a,w=>this.processProvider(w,s,a)),Qr([s],w=>this.processInjectorType(w,[],p)),this.records.set(Um,Zu(void 0,this));const y=this.records.get(Bm);this.scope=null!=y?y.value:null,this.source=u||("object"==typeof s?null:le(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ao,l=lt.Default){this.assertNotDestroyed();const u=U(this),p=ir(void 0);try{if(!(l&lt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const C=("function"==typeof(i=s)||"object"==typeof i&&i instanceof dn)&&Tr(s);w=C&&this.injectableDefInScope(C)?Zu(yp(s),Mc):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&lt.Self?Hm():this.parent).get(s,a=l&lt.Optional&&a===ao?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[pi]=y[pi]||[]).unshift(le(s)),u)throw y;return function(i,s,a,l){const u=i[pi];throw s[D]&&u.unshift(s[D]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=le(s);if(Array.isArray(s))u=s.map(le).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):le(w)))}u=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${u}]: ${i.replace(pu,"\n  ")}`}("\n"+i.message,u,a,l),i.ngTokenPath=u,i[pi]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{ir(p),U(u)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,u)=>s.push(le(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=ee(s)))return!1;let u=jr(s);const p=null==u&&s.ngModule||void 0,y=void 0===p?s:p,w=-1!==l.indexOf(y);if(void 0!==p&&(u=jr(p)),null==u)return!1;if(null!=u.imports&&!w){let M;l.push(y);try{Qr(u.imports,F=>{this.processInjectorType(F,a,l)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:z,providers:Q}=M[F];Qr(Q,me=>this.processProvider(me,z,Q||V))}}this.injectorDefTypes.add(y);const C=ui(y)||(()=>new y);this.records.set(y,Zu(C,Mc));const S=u.providers;if(null!=S&&!w){const M=s;Qr(S,F=>this.processProvider(F,M,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,l){let u=Ia(s=ee(s))?s:ee(s&&s.provide);const p=(i=s,gn(i)?Zu(void 0,i.useValue):Zu(Fv(i),Mc));var i;if(Ia(s)||!0!==s.multi)this.records.get(u);else{let y=this.records.get(u);y||(y=Zu(void 0,Mc,!0),y.factory=()=>ze(y.multi),this.records.set(u,y)),u=s,y.multi.push(s)}this.records.set(u,p)}hydrate(s,a){return a.value===Mc&&(a.value=Vm,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ee(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function yp(i){const s=Tr(i),a=null!==s?s.factory:ui(i);if(null!==a)return a;if(i instanceof dn)throw new Error(`Token ${le(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=rl(s,"?");throw new Error(`Can't resolve all parameters for ${le(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[oi]||i[Pn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Fv(i,s,a){let l;if(Ia(i)){const u=ee(i);return ui(u)||yp(u)}if(gn(i))l=()=>ee(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ze(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>X(ee(i.useExisting));else{const u=ee(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return ui(u)||yp(u);l=()=>new u(...ze(i.deps))}return l}function Zu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function gn(i){return null!==i&&"object"==typeof i&&I in i}function Ia(i){return"function"==typeof i}let ut=(()=>{class i{static create(a,l){var u;if(Array.isArray(a))return $m({name:""},l,a,"");{const p=null!=(u=a.name)?u:"";return $m({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=ao,i.NULL=new ii,i.\u0275prov=Gt({token:i,providedIn:"any",factory:()=>X(Um)}),i.__NG_ELEMENT_ID__=-1,i})();function bD(i,s){Ji(Fr(i)[1],cn())}function Ju(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let u;if(Or(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");u=s.\u0275dir}if(u){if(a){l.push(u);const y=i;y.inputs=Dp(i.inputs),y.declaredInputs=Dp(i.declaredInputs),y.outputs=Dp(i.outputs);const w=u.hostBindings;w&&Ip(i,w);const C=u.viewQuery,S=u.contentQueries;if(C&&bp(i,C),S&&ID(i,S),oe(i.inputs,u.inputs),oe(i.declaredInputs,u.declaredInputs),oe(i.outputs,u.outputs),Or(u)&&u.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===Ju&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const u=i[l];u.hostVars=s+=u.hostVars,u.hostAttrs=Gn(u.hostAttrs,a=Gn(a,u.hostAttrs))}}(l)}function Dp(i){return i===W?{}:i===V?[]:i}function bp(i,s){const a=i.viewQuery;i.viewQuery=a?(l,u)=>{s(l,u),a(l,u)}:s}function ID(i,s){const a=i.contentQueries;i.contentQueries=a?(l,u,p)=>{s(l,u,p),a(l,u,p)}:s}function Ip(i,s){const a=i.hostBindings;i.hostBindings=a?(l,u)=>{s(l,u),a(l,u)}:s}let Tp=null;function ed(){if(!Tp){const i=ft.Symbol;if(i&&i.iterator)Tp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Tp=l)}}}return Tp}function Rh(i){return!!Ci(i)&&(Array.isArray(i)||!(i instanceof Map)&&ed()in i)}function Ci(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function hr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Rl(i,s,a,l){const u=Te();return hr(u,Yi(),s)&&(St(),Ft(un(),u,i,s,a,l)),Rl}function Ol(i,s,a,l,u,p,y,w){const C=Te(),S=St(),M=i+20,F=S.firstCreatePass?function(i,s,a,l,u,p,y,w,C){const S=s.consts,M=Rc(s,i,4,y||null,ar(S,w));fp(s,a,M,ar(S,C)),Ji(s,M);const F=M.tViews=Da(2,M,l,u,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,M),F.queries=s.queries.embeddedTView(M)),M}(M,S,C,s,a,l,u,p,y):S.data[M];Wn(F,!1);const z=C[11].createComment("");vl(S,C,z,F),Un(z,C),gp(C,C[M]=Cn(z,C,z,F)),Gl(F)&&Am(S,C,F),null!=y&&Rm(C,F,w)}function Fh(i,s=lt.Default){const a=Te();return null===a?X(i,s):tl(cn(),a,ee(i),s)}function aE(){throw new Error("invalid")}function s_(i,s,a){const l=Te();return hr(l,Yi(),s)&&function(i,s,a,l,u,p,y,w){const C=bn(s,a);let M,S=s.inputs;!w&&null!=S&&(M=S[l])?(bh(i,a,M,l,u),Ii(s)&&function(i,s){const a=zt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),u=null!=y?y(u,s.value||"",l):u,qt(p)?p.setProperty(C,l,u):Qe(l)||(C.setProperty?C.setProperty(l,u):C[l]=u))}(St(),un(),l,i,s,l[11],a,!1),s_}function o_(i,s,a,l,u){const y=u?"class":"style";bh(i,a,s.inputs[y],y,l)}function a_(i,s,a,l){const u=Te(),p=St(),y=20+i,w=u[11],C=u[y]=dh(w,s,Ye.lFrame.currentNamespace),S=p.firstCreatePass?function(i,s,a,l,u,p,y){const w=s.consts,S=Rc(s,i,2,u,ar(w,p));return fp(s,a,S,ar(w,y)),null!==S.attrs&&Ih(S,S.attrs,!1),null!==S.mergedAttrs&&Ih(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,p,u,0,s,a,l):p.data[y];Wn(S,!0);const M=S.mergedAttrs;null!==M&&Ri(w,C,M);const F=S.classes;null!==F&&wi(w,C,F);const z=S.styles;null!==z&&dv(w,C,z),64!=(64&S.flags)&&vl(p,u,C,S),0===Ye.lFrame.elementDepthCount&&Un(C,u),Ye.lFrame.elementDepthCount++,Gl(S)&&(Am(p,u,S),Sm(p,S,u)),null!==l&&Rm(u,S)}function l_(){let i=cn();Ka()?ks():(i=i.parent,Wn(i,!1));const s=i;Ye.lFrame.elementDepthCount--;const a=St();a.firstCreatePass&&(Ji(a,i),kn(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&o_(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&o_(a,s,Te(),s.stylesWithoutHost,!1)}function c_(i,s,a,l){a_(i,s,a,l),l_()}function Pp(i,s,a){const l=Te(),u=St(),p=i+20,y=u.firstCreatePass?function(i,s,a,l,u){const p=s.consts,y=ar(p,l),w=Rc(s,i,8,"ng-container",y);return null!==y&&Ih(w,y,!0),fp(s,a,w,ar(p,u)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,u,l,s,a):u.data[p];Wn(y,!0);const w=l[p]=l[11].createComment("");vl(u,l,w,y),Un(w,l),Gl(y)&&(Am(u,l,y),Sm(u,y,l)),null!=a&&Rm(l,y)}function u_(){let i=cn();const s=St();Ka()?ks():(i=i.parent,Wn(i,!1)),s.firstCreatePass&&(Ji(s,i),kn(i)&&s.queries.elementEnd(i))}function d_(i,s,a){Pp(i,s,a),u_()}function xp(i){return!!i&&"function"==typeof i.then}function cE(i){return!!i&&"function"==typeof i.subscribe}const uE=cE;function h_(i,s,a,l){const u=Te(),p=St(),y=cn();return function(i,s,a,l,u,p,y,w){const C=Gl(l),M=i.firstCreatePass&&Lm(i),F=s[8],z=Nv(s);let Q=!0;if(3&l.type||w){const Ve=bn(l,s),Je=w?w(Ve):Ve,be=z.length,it=w?xt=>w(Dn(xt[l.index])):l.index;if(qt(a)){let xt=null;if(!w&&C&&(xt=function(i,s,a,l){const u=i.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const y=u[p];if(y===a&&u[p+1]===l){const w=s[7],C=u[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(i,s,u,l.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,Q=!1;else{p=Lp(l,s,F,p,!1);const Yt=a.listen(Je,u,p);z.push(p,Yt),M&&M.push(u,it,be,be+1)}}else p=Lp(l,s,F,p,!0),Je.addEventListener(u,p,y),z.push(p),M&&M.push(u,it,be,y)}else p=Lp(l,s,F,p,!1);const me=l.outputs;let xe;if(Q&&null!==me&&(xe=me[u])){const Ve=xe.length;if(Ve)for(let Je=0;Je<Ve;Je+=2){const ji=s[xe[Je]][xe[Je+1]].subscribe(p),Hl=z.length;z.push(p,ji),M&&M.push(u,l.index,Hl,-(Hl+1))}}}(p,u,u[11],y,i,s,!!a,l),h_}function fE(i,s,a,l){try{return!1!==a(l)}catch(u){return kt(i,u),!1}}function Lp(i,s,a,l,u){return function p(y){if(y===Function)return l;const w=2&i.flags?zt(i.index,s):s;0==(32&s[2])&&Fm(w);let C=fE(s,0,l,y),S=p.__ngNextListenerFn__;for(;S;)C=fE(s,0,S,y)&&C,S=S.__ngNextListenerFn__;return u&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Aa(i=1){return function(i){return(Ye.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,Ye.lFrame.contextLView))[8]}(i)}function pE(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let u=0;u<s.length;u++){const p=s[u];if("*"!==p){if(null===l?sp(i,p,!0):pv(l,p))return u}else a=u}return a}function f_(i){const s=Te()[16][6];if(!s.projection){const l=s.projection=rl(i?i.length:1,null),u=l.slice();let p=s.child;for(;null!==p;){const y=i?pE(p,i):0;null!==y&&(u[y]?u[y].projectionNext=p:l[y]=p,u[y]=p),p=p.next}}}function Ra(i,s=0,a){const l=Te(),u=St(),p=Rc(u,20+i,16,null,a||null);null===p.projection&&(p.projection=s),ks(),64!=(64&p.flags)&&function(i,s,a){cv(s[11],0,s,a,et(i,a,s),Nu(a.parent||s[6],a,s))}(u,l,p)}function Bp(i,s,a,l,u){const p=i[a+1],y=null===s;let w=l?hn(p):On(p),C=!1;for(;0!==w&&(!1===C||y);){const M=i[w+1];HD(i[w],s)&&(C=!0,i[w+1]=l?vm(M):as(M)),w=l?hn(M):On(M)}C&&(i[a+1]=l?as(p):vm(p))}function HD(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ol(i,s)>=0}function E_(i,s,a){return hs(i,s,a,!1),E_}function w_(i,s){return hs(i,s,null,!0),w_}function hs(i,s,a,l){const u=Te(),p=St(),y=function(i){const s=Ye.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function(i,s,a,l){const u=i.data;if(null===u[a+1]){const p=u[tn()],y=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!y&&(s=!1),s=function(i,s,a,l){const u=function(i){const s=Ye.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(a=xc(a=ka(null,i,s,a,l),s.attrs,l),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==u)if(a=ka(u,i,s,a,l),null===p){let C=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==On(l))return i[hn(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=ka(null,i,s,C[1],l),C=xc(C,s.attrs,l),function(i,s,a,l){i[hn(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else p=function(i,s,a){let l;const u=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<u;p++)l=xc(l,i[p].hostAttrs,a);return xc(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(u,p,s,l),function(i,s,a,l,u,p){let y=p?s.classBindings:s.styleBindings,w=hn(y),C=On(y);i[l]=a;let M,S=!1;if(Array.isArray(a)){const F=a;M=F[1],(null===M||ol(F,M)>0)&&(S=!0)}else M=a;if(u)if(0!==C){const z=hn(i[w+1]);i[l+1]=ph(z,w),0!==z&&(i[z+1]=ym(i[z+1],l)),i[w+1]=function(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=ph(w,0),0!==w&&(i[w+1]=ym(i[w+1],l)),w=l;else i[l+1]=ph(C,0),0===w?w=l:i[C+1]=ym(i[C+1],l),C=l;S&&(i[l+1]=as(i[l+1])),Bp(i,M,l,!0),Bp(i,M,l,!1),function(i,s,a,l,u){const p=u?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&ol(p,s)>=0&&(a[l+1]=vm(a[l+1]))}(s,M,i,l,p),y=ph(w,C),p?s.classBindings=y:s.styleBindings=y}(u,p,s,a,y,l)}}(p,i,y,l),s!==Ct&&hr(u,y,s)&&function(i,s,a,l,u,p,y,w){if(!(3&s.type))return;const C=i.data,S=C[w+1];Nl(function(i){return 1==(1&i)}(S)?bE(C,s,a,u,On(S),y):void 0)||(Nl(p)||function(i){return 2==(2&i)}(S)&&(p=bE(C,null,a,u,w,y)),function(i,s,a,l,u){const p=qt(i);if(s)u?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:ni.DashCase;if(null==u)p?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const w="string"==typeof u&&u.endsWith("!important");w&&(u=u.slice(0,-10),y|=ni.Important),p?i.setStyle(a,l,u,y):a.style.setProperty(l,u,w?"important":"")}}}(l,y,Kr(tn(),a),u,p))}(p,p.data[tn()],u,u[11],i,u[y+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=le(is(i)))),i}(s,a),l,y)}function ka(i,s,a,l,u){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=s[w],l=xc(l,p.hostAttrs,u),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function xc(i,s,a){const l=a?1:2;let u=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?u=y:u===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),lr(i,y,!!a||s[++p]))}return void 0===i?null:i}function bE(i,s,a,l,u,p){const y=null===s;let w;for(;u>0;){const C=i[u],S=Array.isArray(C),M=S?C[1]:C,F=null===M;let z=a[u+1];z===Ct&&(z=F?V:void 0);let Q=F?sl(z,l):M===l?z:void 0;if(S&&!Nl(Q)&&(Q=sl(C,l)),Nl(Q)&&(w=Q,y))return w;const me=i[u+1];u=y?hn(me):On(me)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(w=sl(C,l))}return w}function Nl(i){return void 0!==i}function TE(i,s=""){const a=Te(),l=St(),u=i+20,p=l.firstCreatePass?Rc(l,u,1,s,null):l.data[u],y=a[u]=function(i,s){return qt(i)?i.createText(s):i.createTextNode(s)}(a[11],s);vl(l,a,y,p),Wn(p,!1)}function M_(i){return cd("",i,""),M_}function cd(i,s,a){const l=Te(),u=function(i,s,a,l){return hr(i,Yi(),a)?s+Y(a)+l:Ct}(l,i,s,a);return u!==Ct&&cs(l,tn(),u),cd}const Fc=void 0;var QD=["en",[["a","p"],["AM","PM"],Fc],[["AM","PM"],Fc,Fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fc,"{1} 'at' {0}",Fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let xl={};function U_(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=UE(s);if(a)return a;const l=s.split("-")[0];if(a=UE(l),a)return a;if("en"===l)return QD;throw new Error(`Missing locale data for the locale "${i}".`)}function Pa(i){return U_(i)[at.PluralCase]}function UE(i){return i in xl||(xl[i]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[i]),xl[i]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const zh="en-US";let HE=zh;function eg(i,s,a,l,u){if(i=ee(i),Array.isArray(i))for(let p=0;p<i.length;p++)eg(i[p],s,a,l,u);else{const p=St(),y=Te();let w=Ia(i)?i:ee(i.provide),C=Fv(i);const S=cn(),M=1048575&S.providerIndexes,F=S.directiveStart,z=S.providerIndexes>>20;if(Ia(i)||!i.multi){const Q=new na(C,u,Fh),me=q_(w,s,u?M:M+z,F);-1===me?(Zn(ia(S,y),p,w),Z_(p,i,s.length),s.push(w),S.directiveStart++,S.directiveEnd++,u&&(S.providerIndexes+=1048576),a.push(Q),y.push(Q)):(a[me]=Q,y[me]=Q)}else{const Q=q_(w,s,M+z,F),me=q_(w,s,M,M+z),xe=Q>=0&&a[Q],Ve=me>=0&&a[me];if(u&&!Ve||!u&&!xe){Zn(ia(S,y),p,w);const Je=function(i,s,a,l,u){const p=new na(i,a,Fh);return p.multi=[],p.index=s,p.componentProviders=0,nw(p,u,l&&!a),p}(u?Ll:Bb,a.length,u,l,C);!u&&Ve&&(a[me].providerFactory=Je),Z_(p,i,s.length,0),s.push(w),S.directiveStart++,S.directiveEnd++,u&&(S.providerIndexes+=1048576),a.push(Je),y.push(Je)}else Z_(p,i,Q>-1?Q:me,nw(a[u?me:Q],C,!u&&l));!u&&l&&Ve&&a[me].componentProviders++}}}function Z_(i,s,a,l){const u=Ia(s),p=function(i){return!!i.useClass}(s);if(u||p){const C=(p?ee(s.useClass):s).prototype.ngOnDestroy;if(C){const S=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const M=S.indexOf(a);-1===M?S.push(a,[l,C]):S[M+1].push(l,C)}else S.push(a,C)}}}function nw(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function q_(i,s,a,l){for(let u=a;u<l;u++)if(s[u]===i)return u;return-1}function Bb(i,s,a,l){return nr(this.multi,[])}function Ll(i,s,a,l){const u=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=nn(a,a[1],this.providerFactory.index,l);p=w.slice(0,y),nr(u,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],nr(u,p);return p}function nr(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function pd(i,s=[]){return a=>{a.providersResolver=(l,u)=>function(i,s,a){const l=St();if(l.firstCreatePass){const u=Or(i);eg(a,l.data,l.blueprint,u,!0),eg(s,l.data,l.blueprint,u,!1)}}(l,u?u(i):i,s)}}class rw{}class tg{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${le(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Jh=(()=>{class i{}return i.NULL=new tg,i})();function Hb(){return Vc(cn(),Te())}function Vc(i,s){return new Xh(bn(i,s))}let Xh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Hb,i})();function ng(i){return i instanceof Xh?i.nativeElement:i}class Y_{}let sw=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=Te(),a=zt(cn().index,i);return function(i){return i[11]}(li(a)?a:i)}(),i})(),ow=(()=>{class i{}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:()=>null}),i})();class ig{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Q_=new ig("13.0.3"),gd={};function sg(i,s,a,l,u=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(Dn(p)),ci(p))for(let w=10;w<p.length;w++){const C=p[w],S=C[1].firstChild;null!==S&&sg(C[1],C,S,l)}const y=a.type;if(8&y)sg(i,s,a.child,l);else if(32&y){const w=ch(a,s);let C;for(;C=w();)l.push(C)}else if(16&y){const w=wa(s,a);if(Array.isArray(w))l.push(...w);else{const C=fo(s[16]);sg(C[1],C,w,l,!0)}}a=u?a.projectionNext:a.next}return l}class og{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return sg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ci(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(j(s,l),yr(a,l))}this._attachedToViewContainer=!1}ie(this._lView[1],this._lView)}onDestroy(s){Wu(this._lView[1],this._lView,null,s)}markForCheck(){Fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Ps(!0);try{Dh(i,s,a)}finally{Ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,go(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class zb extends og{constructor(s){super(s),this._view=s}detectChanges(){Gu(this._view)}checkNoChanges(){!function(i){Ps(!0);try{Gu(i)}finally{Ps(!1)}}(this._view)}get context(){return null}}class ag extends Jh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=en(s);return new aw(a,this.ngModule)}}function Wb(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Gb=new dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>va});class aw extends rw{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(gm).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Wb(this.componentDef.inputs)}get outputs(){return Wb(this.componentDef.outputs)}create(s,a,l,u){const p=(u=u||this.ngModule)?function(i,s){return{get:(a,l,u)=>{const p=i.get(a,gd,u);return p!==gd||l===gd?p:s.get(a,l,u)}}}(s,u.injector):s,y=p.get(Y_,Jl),w=p.get(ow,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=l?function(i,s,a){if(qt(i))return i.selectRootElement(s,a===qe.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(C,l,this.componentDef.encapsulation):dh(y.createRenderer(null,this.componentDef),S,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),F=this.componentDef.onPush?576:528,z=function(i,s){return{components:[],scheduler:i||va,clean:_D,playerHandler:s||null,flags:0}}(),Q=Da(0,null,null,1,0,null,null,null,null,null),me=ju(null,Q,z,F,null,null,y,C,w,p);let xe,Ve;Qa(me);try{const Je=function(i,s,a,l,u,p){const y=a[1];a[20]=i;const C=Rc(y,20,2,"#host",null),S=C.mergedAttrs=s.hostAttrs;null!==S&&(Ih(C,S,!0),null!==i&&(Ri(u,i,S),null!==C.classes&&wi(u,i,C.classes),null!==C.styles&&dv(u,i,C.styles)));const M=l.createRenderer(i,s),F=ju(a,bv(s),null,s.onPush?64:16,a[20],C,l,M,p||null,null);return y.firstCreatePass&&(Zn(ia(C,a),y,s.type),xm(y,C),Wt(C,a.length,1)),gp(a,F),a[20]=F}(M,this.componentDef,me,y,C);if(M)if(l)Ri(C,M,["ng-version",Q_.full]);else{const{attrs:be,classes:it}=function(i){const s=[],a=[];let l=1,u=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===u?""!==p&&s.push(p,i[++l]):8===u&&a.push(p);else{if(!os(u))break;u=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);be&&Ri(C,M,be),it&&it.length>0&&wi(C,M,it.join(" "))}if(Ve=Rs(Q,20),void 0!==a){const be=Ve.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const xt=a[it];be.push(null!=xt?Array.from(xt):null)}}xe=function(i,s,a,l,u){const p=a[1],y=function(i,s,a){const l=cn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),At(i,l,s,Hu(i,s,1,null),a));const u=nn(s,i,l.directiveStart,l);Un(u,s);const p=bn(l,s);return p&&Un(p,s),u}(p,a,s);if(l.components.push(y),i[8]=y,u&&u.forEach(C=>C(y,s)),s.contentQueries){const C=cn();s.contentQueries(1,y,C.directiveStart)}const w=cn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Qi(w.index),Pm(a[1],w,0,w.directiveStart,w.directiveEnd,s),Nm(s,y)),y}(Je,this.componentDef,me,z,[bD]),vh(Q,me,null)}finally{Xo()}return new rT(this.componentType,xe,Vc(Ve,me),me,Ve)}}class rT extends class{}{constructor(s,a,l,u,p){super(),this.location=l,this._rootLView=u,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new zb(u),this.componentType=s}get injector(){return new on(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class ef{}class Zb{}const tf=new Map;class lg extends ef{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ag(this);const l=$n(s);this._bootstrapComponents=ss(l.bootstrap),this._r3Injector=zm(s,a,[{provide:ef,useValue:this},{provide:Jh,useValue:this.componentFactoryResolver}],le(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=ut.THROW_IF_NOT_FOUND,l=lt.Default){return s===ut||s===ef||s===Um?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class X_ extends Zb{constructor(s){super(),this.moduleType=s,null!==$n(s)&&function(i){const s=new Set;!function a(l){const u=$n(l,!0),p=u.id;null!==p&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${le(s)} vs ${le(s.name)}`)}(p,tf.get(p),l),tf.set(p,l));const y=ss(u.imports);for(const w of y)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new lg(this.moduleType,s)}}function ey(i){return s=>{setTimeout(i,void 0,s)}}const To=class extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var C,S,M;let u=s,p=a||(()=>null),y=l;if(s&&"object"==typeof s){const F=s;u=null==(C=F.next)?void 0:C.bind(F),p=null==(S=F.error)?void 0:S.bind(F),y=null==(M=F.complete)?void 0:M.bind(F)}this.__isAsync&&(p=ey(p),u&&(u=ey(u)),y&&(y=ey(y)));const w=super.subscribe({next:u,error:p,complete:y});return s instanceof J.w0&&s.add(w),w}};function c0(){return this._results[ed()]()}class pg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ed(),l=pg.prototype;l[a]||(l[a]=c0)}get changes(){return this._changes||(this._changes=new To)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const u=Pr(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let u=i[l],p=s[l];if(a&&(u=a(u),p=a(p)),p!==u)return!1}return!0}(l._results,u,a))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hc=(()=>{class i{}return i.__NG_ELEMENT_ID__=pw,i})();const fw=Hc,ty=class extends fw{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=ju(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),vh(a,l,s),new og(l)}};function pw(){return Ul(cn(),Te())}function Ul(i,s){return 4&i.type?new ty(s,i,Vc(i,s)):null}let gg=(()=>{class i{}return i.__NG_ELEMENT_ID__=ny,i})();function ny(){return ry(cn(),Te())}const gw=gg,mw=class extends gw{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new on(this._hostTNode,this._hostLView)}get parentInjector(){const s=oa(this._hostTNode,this._hostLView);if(el(s)){const a=_n(s,this._hostLView),l=qr(s);return new on(a[1].data[l+8],a)}return new on(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=mg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const u=s.createEmbeddedView(a||{});return this.insert(u,l),u}createComponent(s,a,l,u,p){const y=s&&!("function"==typeof s);let w;if(y)w=a;else{const F=a||{};w=F.index,l=F.injector,u=F.projectableNodes,p=F.ngModuleRef}const C=y?s:new aw(en(s)),S=l||this.parentInjector;if(!p&&null==C.ngModule&&S){const F=S.get(ef,null);F&&(p=F)}const M=C.create(S,u,void 0,p);return this.insert(M.hostView,w),M}insert(s,a){const l=s._lView,u=l[1];if(ci(l[3])){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const F=l[3],z=new mw(F,F[6],F[3]);z.detach(z.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function(i,s,a,l){const u=10+l,p=a.length;l>0&&(a[u-1][4]=s),l<p-10?(s[4]=a[u],cc(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(u,l,y,p);const w=dr(p,y),C=l[11],S=yl(C,y[7]);return null!==S&&function(i,s,a,l,u,p){l[0]=u,l[6]=s,go(i,l,a,1,u,p)}(u,y[6],C,l,S,w),s.attachToViewContainerRef(),cc(_g(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=mg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=j(this._lContainer,a);l&&(yr(_g(this._lContainer),a),ie(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=j(this._lContainer,a);return l&&null!=yr(_g(this._lContainer),a)?new og(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function mg(i){return i[8]}function _g(i){return i[8]||(i[8]=[])}function ry(i,s){let a;const l=s[i.index];if(ci(l))a=l;else{let u;if(8&i.type)u=Dn(l);else{const p=s[11];u=p.createComment("");const y=bn(i,s);yn(p,yl(p,y),u,function(i,s){return qt(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=Cn(l,s,u,i),gp(s,a)}return new mw(a,i,s)}class sy{constructor(s){this.queryList=s,this.matches=null}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class _d{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,u=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);u.push(this.queries[y.indexInDeclarationView].clone())}return new _d(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==cf(s,a).matches&&this.queries[a].setDirty()}}class yg{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class af{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const u=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,u);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new af(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class lf{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new lf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const p=l[u];this.matchTNodeWithReadOption(s,a,_w(a,p)),this.matchTNodeWithReadOption(s,a,Mn(a,s,p,!1,!1))}else l===Hc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Mn(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===Xh||u===gg||u===Hc&&4&a.type)this.addMatch(a.index,-2);else{const p=Mn(a,s,u,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function _w(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function yw(i,s,a,l){return-1===a?function(i,s){return 11&i.type?Vc(i,s):4&i.type?Ul(i,s):null}(s,i):-2===a?function(i,s,a){return a===Xh?Vc(s,i):a===Hc?Ul(s,i):a===gg?ry(s,i):void 0}(i,s,l):nn(i,i[1],a,s)}function vw(i,s,a,l){const u=s[19].queries[l];if(null===u.matches){const p=i.data,y=a.matches,w=[];for(let C=0;C<y.length;C+=2){const S=y[C];w.push(S<0?null:yw(s,p[S],y[C+1],a.metadata.read))}u.matches=w}return u.matches}function oy(i,s,a,l){const u=i.queries.getByIndex(a),p=u.matches;if(null!==p){const y=vw(i,s,u,a);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)l.push(y[w/2]);else{const S=p[w+1],M=s[-C];for(let F=10;F<M.length;F++){const z=M[F];z[17]===z[3]&&oy(z[1],z,S,l)}if(null!==M[9]){const F=M[9];for(let z=0;z<F.length;z++){const Q=F[z];oy(Q[1],Q,S,l)}}}}}return l}function Ew(i){const s=Te(),a=St(),l=qa();to(l+1);const u=cf(a,l);if(i.dirty&&Si(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const p=u.crossesNgTemplate?oy(a,s,l,[]):vw(a,s,u,l);i.reset(p,ng),i.notifyOnChanges()}return!0}return!1}function ww(i,s,a){const l=St();l.firstCreatePass&&(Iw(l,new yg(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),bw(l,Te(),s)}function Cw(i,s,a,l){const u=St();if(u.firstCreatePass){const p=cn();Iw(u,new yg(s,a,l),p.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(u,i),2==(2&a)&&(u.staticContentQueries=!0)}bw(u,Te(),a)}function Dw(){return i=Te(),s=qa(),i[19].queries[s].queryList;var i,s}function bw(i,s,a){const l=new pg(4==(4&a));Wu(i,s,l,l.destroy),null===s[19]&&(s[19]=new _d),s[19].queries.push(new sy(l))}function Iw(i,s,a){null===i.queries&&(i.queries=new af),i.queries.track(new lf(s,a))}function cf(i,s){return i.queries.getByIndex(s)}function Vl(...i){}const Dg=new dn("Application Initializer");let Ed=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Vl,this.reject=Vl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const p=this.appInits[u]();if(xp(p))a.push(p);else if(uE(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(u=>{this.reject(u)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(X(Dg,8))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})();const Uw=new dn("AppId"),Vw={provide:Uw,useFactory:function(){return`${bg()}${bg()}${bg()}`},deps:[]};function bg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jw=new dn("Platform Initializer"),Hw=new dn("Platform ID"),$w=new dn("appBootstrapListener");let zw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})();const Ig=new dn("LocaleId"),my=new dn("DefaultCurrencyCode");class Ww{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let _y=(()=>{class i{compileModuleSync(a){return new X_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=ss($n(a).declarations).reduce((y,w)=>{const C=en(w);return C&&y.push(new aw(C)),y},[]);return new Ww(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})();const N0=(()=>Promise.resolve(0))();function yy(i){"undefined"==typeof Zone?N0.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ui{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&a,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let i=ft.requestAnimationFrame,s=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ey(i),i.isCheckStableRunning=!0,vy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ey(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,u,p,y,w)=>{try{return Gw(i),a.invokeTask(u,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Kw(i)}},onInvoke:(a,l,u,p,y,w,C)=>{try{return Gw(i),a.invoke(u,p,y,w,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),Kw(i)}},onHasTask:(a,l,u,p)=>{a.hasTask(u,p),l===u&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Ey(i),vy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,u,p)=>(a.handleError(u,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,u){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+u,s,F0,Vl,Vl);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const F0={};function vy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ey(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Gw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Kw(i){i._nesting--,vy(i)}class B0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,u){return s.apply(a,l)}}let wy=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ui.assertNotInAngularZone(),yy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yy(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,u){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:u})}whenStable(a,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,u){return[]}}return i.\u0275fac=function(a){return new(a||i)(X(Ui))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})(),uf=(()=>{class i{constructor(){this._applications=new Map,Tg.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Tg.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})();class V0{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Cy(i){Tg=i}let Ur,Tg=new V0;const qw=new dn("AllowMultipleToken");class jl{constructor(s,a){this.name=s,this.token=a}}function Yw(i,s,a=[]){const l=`Platform: ${s}`,u=new dn(l);return(p=[])=>{let y=So();if(!y||y.injector.get(qw,!1))if(i)i(a.concat(p).concat({provide:u,useValue:!0}));else{const w=a.concat(p).concat({provide:u,useValue:!0},{provide:Bm,useValue:"platform"});!function(i){if(Ur&&!Ur.destroyed&&!Ur.injector.get(qw,!1))throw new Ue("400","");Ur=i.get(Sg);const s=i.get(jw,null);s&&s.forEach(a=>a())}(ut.create({providers:w,name:l}))}return function(i){const s=So();if(!s)throw new Ue("401","");return s}()}}function So(){return Ur&&!Ur.destroyed?Ur:null}let Sg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function(i,s){let a;return a="noop"===i?new B0:("zone.js"===i?void 0:i)||new Ui({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:Ui,useValue:w}];return w.run(()=>{const S=ut.create({providers:C,parent:this.injector,name:a.moduleType.name}),M=a.create(S),F=M.injector.get(Dc,null);if(!F)throw new Ue("402","");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:Q=>{F.handleError(Q)}});M.onDestroy(()=>{Iy(this._modules,M),z.unsubscribe()})}),function(i,s,a){try{const l=a();return xp(l)?l.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(F,w,()=>{const z=M.injector.get(Ed);return z.runInitializers(),z.donePromise.then(()=>(function(i){bt(i,"Expected localeId to be defined"),"string"==typeof i&&(HE=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Ig,zh)||zh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,l=[]){const u=Jw({},l);return function(i,s,a){const l=new X_(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,u))}_moduleDoBootstrap(a){const l=a.injector.get(hf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!a.instance.ngDoBootstrap)throw new Ue("403","");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue("404","");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(X(ut))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})();function Jw(i,s){return Array.isArray(s)?s.reduce(Jw,i):ht(ht({},i),s)}let hf=(()=>{class i{constructor(a,l,u,p,y){this._zone=a,this._injector=l,this._exceptionHandler=u,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new x.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new x.y(S=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Ui.assertNotInAngularZone(),yy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{M.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ae.T)(w,C.pipe((0,se.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ue("405","");let u;u=a instanceof rw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(u.componentType);const p=function(i){return i.isBoundToModule}(u)?void 0:this._injector.get(ef),w=u.create(ut.NULL,[],l||u.selector,p),C=w.location.nativeElement,S=w.injector.get(wy,null),M=S&&w.injector.get(uf);return S&&M&&M.registerApplication(C,S),w.onDestroy(()=>{this.detachView(w.hostView),Iy(this.components,w),M&&M.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ue("101","");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Iy(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get($w,[]).concat(this._bootstrapListeners).forEach(u=>u(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(X(Ui),X(ut),X(Dc),X(Jh),X(Ed))},i.\u0275prov=Gt({token:i,factory:i.\u0275fac}),i})();function Iy(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let eC=!0,Ty=!1;function tC(){return Ty=!0,eC}function $0(){if(Ty)throw new Error("Cannot enable prod mode after platform setup.");eC=!1}let rC=(()=>{class i{}return i.__NG_ELEMENT_ID__=Pt,i})();function Pt(i){return function(i,s,a){if(Ii(i)&&!a){const l=zt(i.index,s);return new og(l,l)}return 47&i.type?new og(s[16],s):null}(cn(),Te(),16==(16&i))}class lC{constructor(){}supports(s){return Rh(s)}create(s){return new Y0(s)}}const $c=(i,s)=>s;class Y0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||$c}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,u=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<pf(l,u,p)?a:l,w=pf(y,u,p),C=y.currentIndex;if(y===l)u--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)u++;else{p||(p=[]);const S=w-u,M=C-u;if(S!=M){for(let z=0;z<S;z++){const Q=z<p.length?p[z]:p[z]=0,me=Q+z;M<=me&&me<S&&(p[z]=Q+1)}p[y.previousIndex]=M-S}}w!==C&&s(y,w,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Rh(s))throw new Error(`Error trying to diff '${le(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,p,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),l=!0),a=a._next}else u=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[ed()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{y=this._trackByFn(u,w),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,w,y,u)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,u),l=!0),a=a._next,u++}),this.length=u;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,u){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,u)):s=this._addAfter(new cC(a,l),p,u),s}_verifyReinsertion(s,a,l,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,p=s._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const u=null===a?this._itHead:a._next;return s._next=u,s._prev=a,null===u?this._itTail=s:u._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new dC),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dC),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class cC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class dC{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new uC,this.map.set(a,l)),l.add(s)}get(s,a){const u=this.map.get(s);return u?u.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pf(i,s,a){const l=i.previousIndex;if(null===l)return l;let u=0;return a&&l<a.length&&(u=a[l]),l+s+u}class Dd{constructor(){}supports(s){return s instanceof Map||Ci(s)}create(){return new hC}}class hC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Ci(s)))throw new Error(`Error trying to diff '${le(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(a&&a.key===u)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(u,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,a);const p=u._prev,y=u._next;return p&&(p._next=y),y&&(y._prev=p),u._next=null,u._prev=null,u}const l=new Og(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class Og{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fC(){return new bd([new lC])}let bd=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const u=l.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||fC()),deps:[[i,new gi,new Nr]]}}find(a){const l=this.factories.find(u=>u.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:fC}),i})();function Oy(){return new gf([new Dd])}let gf=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const u=l.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Oy()),deps:[[i,new gi,new Nr]]}}find(a){const l=this.factories.find(u=>u.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=Gt({token:i,providedIn:"root",factory:Oy}),i})();const Q0=[new Dd],X0=new bd([new lC]),Pg=new gf(Q0),eI=Yw(null,"core",[{provide:Hw,useValue:"unknown"},{provide:Sg,deps:[ut]},{provide:uf,deps:[]},{provide:zw,deps:[]}]),ky=[{provide:hf,useClass:hf,deps:[Ui,ut,Dc,Jh,Ed]},{provide:Gb,deps:[Ui],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Ed,useClass:Ed,deps:[[new Nr,Dg]]},{provide:_y,useClass:_y,deps:[]},Vw,{provide:bd,useFactory:function(){return X0},deps:[]},{provide:gf,useFactory:function(){return Pg},deps:[]},{provide:Ig,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||zh},deps:[[new pn(Ig),new Nr,new gi]]},{provide:my,useValue:"USD"}];let Na=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(X(hf))},i.\u0275mod=Oo({type:i}),i.\u0275inj=vn({providers:ky}),i})()},6293:(Ge,_e,N)=>{"use strict";N.d(_e,{Z:()=>Ue});var g=N(4213),J=N(1177),x=N(1572),ae=N(3855);class se{constructor(ce,Y){this._delegate=ce,this.firebase=Y,(0,x._addComponent)(ce,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ce,Y=x._DEFAULT_ENTRY_NAME){var ue;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(ce);return!De.isInitialized()&&"EXPLICIT"===(null===(ue=De.getComponent())||void 0===ue?void 0:ue.instantiationMode)&&De.initialize(),De.getImmediate({identifier:Y})}_removeServiceInstance(ce,Y=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(Y)}_addComponent(ce){(0,x._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,x._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const Fe=function(Fe){const ce={},Y={__esModule:!0,initializeApp:function(Ze,st={}){const re=x.initializeApp(Ze,st);if((0,g.r3)(ce,re.name))return ce[re.name];const he=new Fe(re,Y);return ce[re.name]=he,he},app:De,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function(Ze){const st=Ze.name,re=st.replace("-compat","");if(x._registerComponent(Ze)&&"PUBLIC"===Ze.type){const he=(ve=De())=>{if("function"!=typeof ve[re])throw oe.create("invalid-app-argument",{appName:st});return ve[re]()};void 0!==Ze.serviceProps&&(0,g.ZB)(he,Ze.serviceProps),Y[re]=he,Fe.prototype[re]=function(...ve){return this._getService.bind(this,st).apply(this,Ze.multipleInstances?ve:[])}}return"PUBLIC"===Ze.type?Y[re]:null},removeApp:function(Ze){delete ce[Ze]},useAsService:function(Ze,st){return"serverAuth"===st?null:st},modularAPIs:x}};function De(Ze){if(!(0,g.r3)(ce,Ze=Ze||x._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ze});return ce[Ze]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function(){return Object.keys(ce).map(Ze=>ce[Ze])}}),De.App=Fe,Y}(se);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function(Y){(0,g.ZB)(Fe,Y)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Fe}(),$=new ae.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=H;(0,x.registerVersion)("@firebase/app-compat","0.1.19",undefined)},1572:(Ge,_e,N)=>{"use strict";N.r(_e),N.d(_e,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>jr,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>Ir,_apps:()=>vt,_clearComponents:()=>Tr,_components:()=>Ht,_getProvider:()=>ws,_registerComponent:()=>Gt,_removeServiceInstance:()=>vn,deleteApp:()=>Nn,getApp:()=>Se,getApps:()=>Pn,initializeApp:()=>oi,onLog:()=>Hr,registerVersion:()=>Rt,setLogLevel:()=>ir});var g=N(8239),J=N(1177),x=N(3855),ae=N(4213),se=N(4995);class pe{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function(we){const ge=we.getComponent();return"VERSION"===(null==ge?void 0:ge.type)}(je)){const Xe=je.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(je=>je).join(" ")}}const le="@firebase/app",H=new x.Yd("@firebase/app"),mt="[DEFAULT]",bt={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,Ht=new Map;function Vn(we,ge){try{we.container.addComponent(ge)}catch(je){H.debug(`Component ${ge.name} failed to register with FirebaseApp ${we.name}`,je)}}function Ir(we,ge){we.container.addOrOverwriteComponent(ge)}function Gt(we){const ge=we.name;if(Ht.has(ge))return H.debug(`There were multiple attempts to register component ${ge}.`),!1;Ht.set(ge,we);for(const je of vt.values())Vn(je,we);return!0}function ws(we,ge){const je=we.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),we.container.getProvider(ge)}function vn(we,ge,je=mt){ws(we,ge).clearInstance(je)}function Tr(){Ht.clear()}const Vt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zs{constructor(ge,je,Xe){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}const jr="9.6.8";function oi(we,ge={}){"object"!=typeof ge&&(ge={name:ge});const je=Object.assign({name:mt,automaticDataCollectionEnabled:!1},ge),Xe=je.name;if("string"!=typeof Xe||!Xe)throw Vt.create("bad-app-name",{appName:String(Xe)});const Dt=vt.get(Xe);if(Dt){if((0,ae.vZ)(we,Dt.options)&&(0,ae.vZ)(je,Dt.config))return Dt;throw Vt.create("duplicate-app",{appName:Xe})}const ot=new J.H0(Xe);for(const Hn of Ht.values())ot.addComponent(Hn);const Qt=new Zs(we,je,ot);return vt.set(Xe,Qt),Qt}function Se(we=mt){const ge=vt.get(we);if(!ge)throw Vt.create("no-app",{appName:we});return ge}function Pn(){return Array.from(vt.values())}function Nn(we){return lt.apply(this,arguments)}function lt(){return(lt=(0,g.Z)(function*(we){const ge=we.name;vt.has(ge)&&(vt.delete(ge),yield Promise.all(we.container.getProviders().map(je=>je.delete())),we.isDeleted=!0)})).apply(this,arguments)}function Rt(we,ge,je){var Xe;let Dt=null!==(Xe=bt[we])&&void 0!==Xe?Xe:we;je&&(Dt+=`-${je}`);const ot=Dt.match(/\s|\//),Qt=ge.match(/\s|\//);if(ot||Qt){const Hn=[`Unable to register library "${Dt}" with version "${ge}":`];return ot&&Hn.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),ot&&Qt&&Hn.push("and"),Qt&&Hn.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void H.warn(Hn.join(" "))}Gt(new J.wA(`${Dt}-version`,()=>({library:Dt,version:ge}),"VERSION"))}function Hr(we,ge){if(null!==we&&"function"!=typeof we)throw Vt.create("invalid-log-argument");(0,x.Am)(we,ge)}function ir(we){(0,x.Ub)(we)}const En="firebase-heartbeat-store";let an=null;function qs(){return an||(an=(0,se.openDb)("firebase-heartbeat-database",1,we=>{0===we.oldVersion&&we.createObjectStore(En)}).catch(we=>{throw Vt.create("storage-open",{originalErrorMessage:we.message})})),an}function qe(){return(qe=(0,g.Z)(function*(we){try{return(yield qs()).transaction(En).objectStore(En).get(ft(we))}catch(ge){throw Vt.create("storage-get",{originalErrorMessage:ge.message})}})).apply(this,arguments)}function ct(we,ge){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,g.Z)(function*(we,ge){try{const Xe=(yield qs()).transaction(En,"readwrite");return yield Xe.objectStore(En).put(ge,ft(we)),Xe.complete}catch(je){throw Vt.create("storage-set",{originalErrorMessage:je.message})}})).apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(we){try{const je=(yield qs()).transaction(En,"readwrite");return yield je.objectStore(En).delete(ft(we)),je.complete}catch(ge){throw Vt.create("storage-delete",{originalErrorMessage:ge.message})}})).apply(this,arguments)}function ft(we){return`${we.name}!${we.options.appId}`}class W{constructor(ge){this.container=ge,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Ee(je),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var ge=this;return(0,g.Z)(function*(){const Xe=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=(new Date).toISOString().substring(0,10);if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),!ge._heartbeatsCache.some(ot=>ot.date===Dt))return ge._heartbeatsCache.push({date:Dt,userAgent:Xe}),ge._heartbeatsCache=ge._heartbeatsCache.filter(ot=>{const Qt=new Date(ot.date).valueOf();return Date.now()-Qt<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,g.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache)return"";const{heartbeatsToSend:je,unsentEntries:Xe}=function(we,ge=1024){const je=[];let Xe=we.slice();for(const Dt of we){const ot=je.find(Qt=>Qt.userAgent===Dt.userAgent);if(ot){if(ot.dates.push(Dt.date),te(je)>ge){ot.dates.pop();break}}else if(je.push({userAgent:Dt.userAgent,dates:[Dt.date]}),te(je)>ge){je.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:je,unsentEntries:Xe}}(ge._heartbeatsCache),Dt=(0,ae.h$)(JSON.stringify({version:2,heartbeats:je}));return Xe.length>0?(ge._heartbeatsCache=Xe,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache=null,ge._storage.deleteAll()),Dt})()}}class Ee{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,g.Z)(function*(){if(yield ge._canUseIndexedDBPromise){const Xe=yield function(we){return qe.apply(this,arguments)}(ge.app);return(null==Xe?void 0:Xe.heartbeats)||[]}return[]})()}overwrite(ge){var je=this;return(0,g.Z)(function*(){if(yield je._canUseIndexedDBPromise)return ct(je.app,{heartbeats:ge})})()}add(ge){var je=this;return(0,g.Z)(function*(){if(yield je._canUseIndexedDBPromise){const Dt=yield je.read();return ct(je.app,{heartbeats:[...Dt,...ge]})}})()}delete(ge){var je=this;return(0,g.Z)(function*(){if(yield je._canUseIndexedDBPromise){const Dt=yield je.read();return ct(je.app,{heartbeats:Dt.filter(ot=>!ge.includes(ot))})}})()}deleteAll(){var ge=this;return(0,g.Z)(function*(){if(yield ge._canUseIndexedDBPromise)return function(we){return Nt.apply(this,arguments)}(ge.app)})()}}function te(we){return(0,ae.h$)(JSON.stringify({version:2,heartbeats:we})).length}Gt(new J.wA("platform-logger",ge=>new pe(ge),"PRIVATE")),Gt(new J.wA("heartbeat",ge=>new W(ge),"PRIVATE")),Rt(le,"0.7.18",""),Rt(le,"0.7.18","esm2017"),Rt("fire-js","")},1177:(Ge,_e,N)=>{"use strict";N.d(_e,{wA:()=>x,H0:()=>le,zt:()=>se});var g=N(8239),J=N(4213);class x{constructor(H,$,ee){this.name=H,this.instanceFactory=$,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ae="[DEFAULT]";class se{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const ee=new J.BH;if(this.instancesDeferred.set($,ee),this.isInitialized($)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:$});Le&&ee.resolve(Le)}catch(Le){}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const ee=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Le=null!==($=null==H?void 0:H.optional)&&void 0!==$&&$;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ie){if(Le)return null;throw Ie}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if("EAGER"===H.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch($){}for(const[$,ee]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier($);try{const Ie=this.getOrInitializeService({instanceIdentifier:Le});ee.resolve(Ie)}catch(Ie){}}}}clearInstance(H=ae){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,g.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...$.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ae){return this.instances.has(H)}getOptions(H=ae){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:ee,options:$});for(const[Ie,Ue]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ie)&&Ue.resolve(Le);return Le}onInit(H,$){var ee;const Le=this.normalizeInstanceIdentifier($),Ie=null!==(ee=this.onInitCallbacks.get(Le))&&void 0!==ee?ee:new Set;Ie.add(H),this.onInitCallbacks.set(Le,Ie);const Ue=this.instances.get(Le);return Ue&&H(Ue,Le),()=>{Ie.delete(H)}}invokeOnInitCallbacks(H,$){const ee=this.onInitCallbacks.get($);if(ee)for(const Le of ee)try{Le(H,$)}catch(Ie){}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===ae?void 0:de),options:$}),this.instances.set(H,ee),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch(Le){}var de;return ee||null}normalizeInstanceIdentifier(H=ae){return this.component?this.component.multipleInstances?H:ae:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new se(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},3855:(Ge,_e,N)=>{"use strict";N.d(_e,{in:()=>J,Yd:()=>oe,Ub:()=>le,Am:()=>de});const g=[];var J=(()=>{return(H=J||(J={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",J;var H})();const x={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ae=J.INFO,se={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},pe=(H,$,...ee)=>{if($<H.logLevel)return;const Le=(new Date).toISOString(),Ie=se[$];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ie](`[${Le}]  ${H.name}:`,...ee)};class oe{constructor($){this.name=$,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in J))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?x[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...$),this._logHandler(this,J.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...$),this._logHandler(this,J.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,J.INFO,...$),this._logHandler(this,J.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,J.WARN,...$),this._logHandler(this,J.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...$),this._logHandler(this,J.ERROR,...$)}}function le(H){g.forEach($=>{$.setLogLevel(H)})}function de(H,$){for(const ee of g){let Le=null;$&&$.level&&(Le=x[$.level]),ee.userLogHandler=null===H?null:(Ie,Ue,...Fe)=>{const ce=Fe.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(ue){return null}}).filter(Y=>Y).join(" ");Ue>=(null!=Le?Le:Ie.logLevel)&&H({level:J[Ue].toLowerCase(),message:ce,args:Fe,type:Ie.name})}}}},8239:(Ge,_e,N)=>{"use strict";function g(x,ae,se,pe,oe,le,de){try{var H=x[le](de),$=H.value}catch(ee){return void se(ee)}H.done?ae($):Promise.resolve($).then(pe,oe)}function J(x){return function(){var ae=this,se=arguments;return new Promise(function(pe,oe){var le=x.apply(ae,se);function de($){g(le,pe,oe,de,H,"next",$)}function H($){g(le,pe,oe,de,H,"throw",$)}de(void 0)})}}N.d(_e,{Z:()=>J})}},Ge=>{Ge(Ge.s=8154)}]);